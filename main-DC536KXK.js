import{b as Ws,c as gh}from"./chunk-JENGY3ED.js";import{a as w,b as G,c as ph,e as p}from"./chunk-YHOLSLLF.js";var mh=null;var $l=1,yh=Symbol("SIGNAL");function Z(t){let e=mh;return mh=t,e}var vh={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function t_(t){if(!(Hl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===$l)){if(!t.producerMustRecompute(t)&&!Ul(t)){t.dirty=!1,t.lastCleanEpoch=$l;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=$l}}function wh(t){return t&&(t.nextProducerIndex=0),Z(t)}function _h(t,e){if(Z(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Hl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Bl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ul(t){Ks(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(t_(n),r!==n.version))return!0}return!1}function Dh(t){if(Ks(t),Hl(t))for(let e=0;e<t.producerNode.length;e++)Bl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Bl(t,e){if(n_(t),Ks(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Bl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ks(i),i.producerIndexOfThis[r]=e}}function Hl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ks(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function n_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function r_(){throw new Error}var i_=r_;function bh(t){i_=t}function N(t){return typeof t=="function"}function br(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Qs=br(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ti(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ye=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(N(r))try{r()}catch(s){e=s instanceof Qs?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Ch(s)}catch(o){e=e??[],o instanceof Qs?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Qs(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ch(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ti(n,e)}remove(e){let{_finalizers:n}=this;n&&Ti(n,e),e instanceof t&&e._removeParent(this)}};ye.EMPTY=(()=>{let t=new ye;return t.closed=!0,t})();var zl=ye.EMPTY;function Ys(t){return t instanceof ye||t&&"closed"in t&&N(t.remove)&&N(t.add)&&N(t.unsubscribe)}function Ch(t){N(t)?t():t.unsubscribe()}var st={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Cr={setTimeout(t,e,...n){let{delegate:r}=Cr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Cr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Zs(t){Cr.setTimeout(()=>{let{onUnhandledError:e}=st;if(e)e(t);else throw t})}function Mi(){}var Eh=Gl("C",void 0,void 0);function Ih(t){return Gl("E",void 0,t)}function Sh(t){return Gl("N",t,void 0)}function Gl(t,e,n){return{kind:t,value:e,error:n}}var Fn=null;function Er(t){if(st.useDeprecatedSynchronousErrorHandling){let e=!Fn;if(e&&(Fn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Fn;if(Fn=null,n)throw r}}else t()}function Th(t){st.useDeprecatedSynchronousErrorHandling&&Fn&&(Fn.errorThrown=!0,Fn.error=t)}var kn=class extends ye{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ys(e)&&e.add(this)):this.destination=a_}static create(e,n,r){return new Ir(e,n,r)}next(e){this.isStopped?Wl(Sh(e),this):this._next(e)}error(e){this.isStopped?Wl(Ih(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wl(Eh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},s_=Function.prototype.bind;function ql(t,e){return s_.call(t,e)}var Kl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Js(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Js(r)}else Js(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Js(n)}}},Ir=class extends kn{constructor(e,n,r){super();let i;if(N(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&st.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ql(e.next,s),error:e.error&&ql(e.error,s),complete:e.complete&&ql(e.complete,s)}):i=e}this.destination=new Kl(i)}};function Js(t){st.useDeprecatedSynchronousErrorHandling?Th(t):Zs(t)}function o_(t){throw t}function Wl(t,e){let{onStoppedNotification:n}=st;n&&Cr.setTimeout(()=>n(t,e))}var a_={closed:!0,next:Mi,error:o_,complete:Mi};var Sr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ve(t){return t}function Ql(...t){return Yl(t)}function Yl(t){return t.length===0?Ve:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var J=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=c_(n)?n:new Ir(n,r,i);return Er(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Mh(r),new r((i,s)=>{let o=new Ir({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Sr](){return this}pipe(...n){return Yl(n)(this)}toPromise(n){return n=Mh(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Mh(t){var e;return(e=t??st.Promise)!==null&&e!==void 0?e:Promise}function l_(t){return t&&N(t.next)&&N(t.error)&&N(t.complete)}function c_(t){return t&&t instanceof kn||l_(t)&&Ys(t)}function Zl(t){return N(t?.lift)}function W(t){return e=>{if(Zl(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function H(t,e,n,r,i){return new Jl(t,e,n,r,i)}var Jl=class extends kn{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Tr(){return W((t,e)=>{let n=null;t._refCount++;let r=H(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Mr=class extends J{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Zl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ye;let n=this.getSubject();e.add(this.source.subscribe(H(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ye.EMPTY)}return e}refCount(){return Tr()(this)}};var Ah=br(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=(()=>{class t extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Xs(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ah}next(n){Er(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Er(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Er(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?zl:(this.currentObservers=null,s.push(n),new ye(()=>{this.currentObservers=null,Ti(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new J;return n.source=this,n}}return t.create=(e,n)=>new Xs(e,n),t})(),Xs=class extends ae{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:zl}};var Ce=class extends ae{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var $e=new J(t=>t.complete());function xh(t){return t&&N(t.schedule)}function Nh(t){return t[t.length-1]}function eo(t){return N(Nh(t))?t.pop():void 0}function un(t){return xh(Nh(t))?t.pop():void 0}function Rh(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function Oh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ln(t){return this instanceof Ln?(this.v=t,this):new Ln(t)}function Ph(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,m){s.push([h,f,g,m])>1||a(h,f)})})}function a(h,f){try{l(r[h](f))}catch(g){d(s[0][3],g)}}function l(h){h.value instanceof Ln?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Fh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Oh=="function"?Oh(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var to=t=>t&&typeof t.length=="number"&&typeof t!="function";function no(t){return N(t?.then)}function ro(t){return N(t[Sr])}function io(t){return Symbol.asyncIterator&&N(t?.[Symbol.asyncIterator])}function so(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function u_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var oo=u_();function ao(t){return N(t?.[oo])}function lo(t){return Ph(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ln(n.read());if(i)return yield Ln(void 0);yield yield Ln(r)}}finally{n.releaseLock()}})}function co(t){return N(t?.getReader)}function me(t){if(t instanceof J)return t;if(t!=null){if(ro(t))return d_(t);if(to(t))return f_(t);if(no(t))return h_(t);if(io(t))return kh(t);if(ao(t))return p_(t);if(co(t))return g_(t)}throw so(t)}function d_(t){return new J(e=>{let n=t[Sr]();if(N(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function f_(t){return new J(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function h_(t){return new J(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Zs)})}function p_(t){return new J(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function kh(t){return new J(e=>{m_(t,e).catch(n=>e.error(n))})}function g_(t){return kh(lo(t))}function m_(t,e){var n,r,i,s;return Rh(this,void 0,void 0,function*(){try{for(n=Fh(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Fe(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function uo(t,e=0){return W((n,r)=>{n.subscribe(H(r,i=>Fe(r,t,()=>r.next(i),e),()=>Fe(r,t,()=>r.complete(),e),i=>Fe(r,t,()=>r.error(i),e)))})}function fo(t,e=0){return W((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Lh(t,e){return me(t).pipe(fo(e),uo(e))}function jh(t,e){return me(t).pipe(fo(e),uo(e))}function Vh(t,e){return new J(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function $h(t,e){return new J(n=>{let r;return Fe(n,e,()=>{r=t[oo](),Fe(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>N(r?.return)&&r.return()})}function ho(t,e){if(!t)throw new Error("Iterable cannot be null");return new J(n=>{Fe(n,e,()=>{let r=t[Symbol.asyncIterator]();Fe(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Uh(t,e){return ho(lo(t),e)}function Bh(t,e){if(t!=null){if(ro(t))return Lh(t,e);if(to(t))return Vh(t,e);if(no(t))return jh(t,e);if(io(t))return ho(t,e);if(ao(t))return $h(t,e);if(co(t))return Uh(t,e)}throw so(t)}function le(t,e){return e?Bh(t,e):me(t)}function O(...t){let e=un(t);return le(t,e)}function Ar(t,e){let n=N(t)?t:()=>t,r=i=>i.error(n());return new J(e?i=>e.schedule(r,0,i):r)}function Xl(t){return!!t&&(t instanceof J||N(t.lift)&&N(t.subscribe))}var $t=br(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function z(t,e){return W((n,r)=>{let i=0;n.subscribe(H(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:y_}=Array;function v_(t,e){return y_(e)?t(...e):t(e)}function po(t){return z(e=>v_(t,e))}var{isArray:w_}=Array,{getPrototypeOf:__,prototype:D_,keys:b_}=Object;function go(t){if(t.length===1){let e=t[0];if(w_(e))return{args:e,keys:null};if(C_(e)){let n=b_(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function C_(t){return t&&typeof t=="object"&&__(t)===D_}function mo(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function yo(...t){let e=un(t),n=eo(t),{args:r,keys:i}=go(t);if(r.length===0)return le([],e);let s=new J(E_(r,e,i?o=>mo(i,o):Ve));return n?s.pipe(po(n)):s}function E_(t,e,n=Ve){return r=>{Hh(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)Hh(e,()=>{let c=le(t[l],e),u=!1;c.subscribe(H(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Hh(t,e,n){t?Fe(n,t,e):e()}function zh(t,e,n,r,i,s,o,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<r?g(m):l.push(m),g=m=>{s&&e.next(m),c++;let v=!1;me(n(m,u++)).subscribe(H(e,D=>{i?.(D),s?f(D):e.next(D)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<r;){let D=l.shift();o?Fe(e,o,()=>g(D)):g(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(H(e,f,()=>{d=!0,h()})),()=>{a?.()}}function ve(t,e,n=1/0){return N(e)?ve((r,i)=>z((s,o)=>e(r,s,i,o))(me(t(r,i))),n):(typeof e=="number"&&(n=e),W((r,i)=>zh(r,i,t,n)))}function ec(t=1/0){return ve(Ve,t)}function Gh(){return ec(1)}function xr(...t){return Gh()(le(t,un(t)))}function vo(t){return new J(e=>{me(t()).subscribe(e)})}function tc(...t){let e=eo(t),{args:n,keys:r}=go(t),i=new J(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;me(n[u]).subscribe(H(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?mo(r,a):a),s.complete())}))}});return e?i.pipe(po(e)):i}function ot(t,e){return W((n,r)=>{let i=0;n.subscribe(H(r,s=>t.call(e,s,i++)&&r.next(s)))})}function dn(t){return W((e,n)=>{let r=null,i=!1,s;r=e.subscribe(H(n,void 0,void 0,o=>{s=me(t(o,dn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function qh(t,e,n,r,i){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(H(o,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function Nr(t,e){return N(e)?ve(t,e,1):ve(t,1)}function fn(t){return W((e,n)=>{let r=!1;e.subscribe(H(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ut(t){return t<=0?()=>$e:W((e,n)=>{let r=0;e.subscribe(H(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function nc(t){return z(()=>t)}function wo(t=I_){return W((e,n)=>{let r=!1;e.subscribe(H(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function I_(){return new $t}function Ai(t){return W((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function wt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ot((i,s)=>t(i,s,r)):Ve,Ut(1),n?fn(e):wo(()=>new $t))}function Or(t){return t<=0?()=>$e:W((e,n)=>{let r=[];e.subscribe(H(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function rc(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ot((i,s)=>t(i,s,r)):Ve,Or(1),n?fn(e):wo(()=>new $t))}function ic(t,e){return W(qh(t,e,arguments.length>=2,!0))}function sc(...t){let e=un(t);return W((n,r)=>{(e?xr(t,n,e):xr(t,n)).subscribe(r)})}function at(t,e){return W((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(H(r,l=>{i?.unsubscribe();let c=0,u=s++;me(t(l,u)).subscribe(i=H(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function oc(t){return W((e,n)=>{me(t).subscribe(H(n,()=>n.complete(),Mi)),!n.closed&&e.subscribe(n)})}function Ee(t,e,n){let r=N(t)||e||n?{next:t,error:e,complete:n}:t;return r?W((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(H(s,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Ve}var Np="https://g.co/ng/security#xss",y=class extends Error{constructor(e,n){super(du(e,n)),this.code=e}};function du(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ko(t){return{toString:t}.toString()}var Bt=globalThis;function ne(t){for(let e in t)if(t[e]===ne)return e;throw Error("Could not find renamed property on target object.")}function S_(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Oe(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Oe).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function bc(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var T_=ne({__forward_ref__:ne});function Wr(t){return t.__forward_ref__=Wr,t.toString=function(){return Oe(this())},t}function Ne(t){return Op(t)?t():t}function Op(t){return typeof t=="function"&&t.hasOwnProperty(T_)&&t.__forward_ref__===Wr}function C(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qo(t){return Wh(t,Pp)||Wh(t,Fp)}function Rp(t){return Qo(t)!==null}function Wh(t,e){return t.hasOwnProperty(e)?t[e]:null}function M_(t){let e=t&&(t[Pp]||t[Fp]);return e||null}function Kh(t){return t&&(t.hasOwnProperty(Qh)||t.hasOwnProperty(A_))?t[Qh]:null}var Pp=ne({\u0275prov:ne}),Qh=ne({\u0275inj:ne}),Fp=ne({ngInjectableDef:ne}),A_=ne({ngInjectorDef:ne}),x=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=C({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function kp(t){return t&&!!t.\u0275providers}var x_=ne({\u0275cmp:ne}),N_=ne({\u0275dir:ne}),O_=ne({\u0275pipe:ne}),R_=ne({\u0275mod:ne}),xo=ne({\u0275fac:ne}),xi=ne({__NG_ELEMENT_ID__:ne}),Yh=ne({__NG_ENV_ID__:ne});function Yo(t){return typeof t=="string"?t:t==null?"":String(t)}function P_(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Yo(t)}function F_(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new y(-200,t)}function fu(t,e){throw new y(-201,!1)}var V=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(V||{}),Cc;function Lp(){return Cc}function Ke(t){let e=Cc;return Cc=t,e}function jp(t,e,n){let r=Qo(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&V.Optional)return null;if(e!==void 0)return e;fu(t,"Injector")}var k_={},Ni=k_,L_="__NG_DI_FLAG__",No="ngTempTokenPath",j_="ngTokenPath",V_=/\n/gm,$_="\u0275",Zh="__source",kr;function U_(){return kr}function hn(t){let e=kr;return kr=t,e}function B_(t,e=V.Default){if(kr===void 0)throw new y(-203,!1);return kr===null?jp(t,void 0,e):kr.get(t,e&V.Optional?null:void 0,e)}function M(t,e=V.Default){return(Lp()||B_)(Ne(t),e)}function _(t,e=V.Default){return M(t,Zo(e))}function Zo(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ec(t){let e=[];for(let n=0;n<t.length;n++){let r=Ne(t[n]);if(Array.isArray(r)){if(r.length===0)throw new y(900,!1);let i,s=V.Default;for(let o=0;o<r.length;o++){let a=r[o],l=H_(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(M(i,s))}else e.push(M(r))}return e}function H_(t){return t[L_]}function z_(t,e,n,r){let i=t[No];throw e[Zh]&&i.unshift(e[Zh]),t.message=G_(`
`+t.message,i,n,r),t[j_]=i,t[No]=null,t}function G_(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==$_?t.slice(2):t;let i=Oe(e);if(Array.isArray(e))i=e.map(Oe).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Oe(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(V_,`
  `)}`}function jr(t,e){let n=t.hasOwnProperty(xo);return n?t[xo]:null}function hu(t,e){t.forEach(n=>Array.isArray(n)?hu(n,e):e(n))}function Vp(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Oo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function q_(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function pu(t,e,n){let r=Bi(t,e);return r>=0?t[r|1]=n:(r=~r,q_(t,r,e,n)),r}function ac(t,e){let n=Bi(t,e);if(n>=0)return t[n|1]}function Bi(t,e){return W_(t,e,1)}function W_(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Vr={},ke=[],$r=new x(""),$p=new x("",-1),Up=new x(""),Ro=class{get(e,n=Ni){if(n===Ni){let r=new Error(`NullInjectorError: No provider for ${Oe(e)}!`);throw r.name="NullInjectorError",r}return n}},Bp=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Bp||{}),bt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(bt||{}),Le=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Le||{});function K_(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Ic(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];Y_(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Q_(t){return t===3||t===4||t===6}function Y_(t){return t.charCodeAt(0)===64}function Oi(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Jh(t,n,i,null,e[++r]):Jh(t,n,i,null,null))}}return t}function Jh(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Hp="ng-template";function Z_(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&K_(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(gu(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function gu(t){return t.type===4&&t.value!==Hp}function J_(t,e,n){let r=t.type===4&&!n?Hp:t.value;return e===r}function X_(t,e,n){let r=4,i=t.attrs,s=i!==null?nD(i):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!lt(r)&&!lt(l))return!1;if(o&&lt(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!J_(t,l,n)||l===""&&e.length===1){if(lt(r))return!1;o=!0}}else if(r&8){if(i===null||!Z_(t,i,l,n)){if(lt(r))return!1;o=!0}}else{let c=e[++a],u=eD(l,i,gu(t),n);if(u===-1){if(lt(r))return!1;o=!0;continue}if(c!==""){let d;if(u>s?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(lt(r))return!1;o=!0}}}}return lt(r)||o}function lt(t){return(t&1)===0}function eD(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return rD(e,t)}function tD(t,e,n=!1){for(let r=0;r<e.length;r++)if(X_(t,e[r],n))return!0;return!1}function nD(t){for(let e=0;e<t.length;e++){let n=t[e];if(Q_(n))return e}return t.length}function rD(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Xh(t,e){return t?":not("+e.trim()+")":e}function iD(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!lt(o)&&(e+=Xh(s,i),i=""),r=o,s=s||!lt(r);n++}return i!==""&&(e+=Xh(s,i)),e}function sD(t){return t.map(iD).join(",")}function oD(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!lt(i))break;i=s}r++}return{attrs:e,classes:n}}function pe(t){return Ko(()=>{let e=Kp(t),n=G(w({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Bp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||bt.Emulated,styles:t.styles||ke,_:null,schemas:t.schemas||null,tView:null,id:""});Qp(n);let r=t.dependencies;return n.directiveDefs=tp(r,!1),n.pipeDefs=tp(r,!0),n.id=cD(n),n})}function aD(t){return $n(t)||zp(t)}function lD(t){return t!==null}function Kt(t){return Ko(()=>({type:t.type,bootstrap:t.bootstrap||ke,declarations:t.declarations||ke,imports:t.imports||ke,exports:t.exports||ke,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ep(t,e){if(t==null)return Vr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Le.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Le.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Re(t){return Ko(()=>{let e=Kp(t);return Qp(e),e})}function $n(t){return t[x_]||null}function zp(t){return t[N_]||null}function Gp(t){return t[O_]||null}function qp(t){let e=$n(t)||zp(t)||Gp(t);return e!==null?e.standalone:!1}function Wp(t,e){let n=t[R_]||null;if(!n&&e===!0)throw new Error(`Type ${Oe(t)} does not have '\u0275mod' property.`);return n}function Kp(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Vr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ke,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ep(t.inputs,e),outputs:ep(t.outputs),debugInfo:null}}function Qp(t){t.features?.forEach(e=>e(t))}function tp(t,e){if(!t)return null;let n=e?Gp:aD;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(lD)}function cD(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Kr(t){return{\u0275providers:t}}function uD(...t){return{\u0275providers:Yp(!0,t),\u0275fromNgModule:!0}}function Yp(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return hu(e,o=>{let a=o;Sc(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Zp(i,s),n}function Zp(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];mu(i,s=>{e(s,r)})}}function Sc(t,e,n,r){if(t=Ne(t),!t)return!1;let i=null,s=Kh(t),o=!s&&$n(t);if(!s&&!o){let l=t.ngModule;if(s=Kh(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Sc(c,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{hu(s.imports,u=>{Sc(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Zp(c,e)}if(!a){let c=jr(i)||(()=>new i);e({provide:i,useFactory:c,deps:ke},i),e({provide:Up,useValue:i,multi:!0},i),e({provide:$r,useValue:()=>M(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=t;mu(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function mu(t,e){for(let n of t)kp(n)&&(n=n.\u0275providers),Array.isArray(n)?mu(n,e):e(n)}var dD=ne({provide:String,useValue:ne});function Jp(t){return t!==null&&typeof t=="object"&&dD in t}function fD(t){return!!(t&&t.useExisting)}function hD(t){return!!(t&&t.useFactory)}function Ur(t){return typeof t=="function"}function pD(t){return!!t.useClass}var Jo=new x(""),Io={},gD={},lc;function yu(){return lc===void 0&&(lc=new Ro),lc}var Ye=class{},Ri=class extends Ye{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mc(e,o=>this.processProvider(o)),this.records.set($p,Rr(void 0,this)),i.has("environment")&&this.records.set(Ye,Rr(void 0,this));let s=this.records.get(Jo);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Up,ke,V.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=hn(this),r=Ke(void 0),i;try{return e()}finally{hn(n),Ke(r)}}get(e,n=Ni,r=V.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Yh))return e[Yh](this);r=Zo(r);let i,s=hn(this),o=Ke(void 0);try{if(!(r&V.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=_D(e)&&Qo(e);c&&this.injectableDefInScope(c)?l=Rr(Tc(e),Io):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&V.Self?yu():this.parent;return n=r&V.Optional&&n===Ni?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[No]=a[No]||[]).unshift(Oe(e)),s)throw a;return z_(a,e,"R3InjectorError",this.source)}else throw a}finally{Ke(o),hn(s)}}resolveInjectorInitializers(){let e=Z(null),n=hn(this),r=Ke(void 0),i;try{let s=this.get($r,ke,V.Self);for(let o of s)o()}finally{hn(n),Ke(r),Z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Oe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new y(205,!1)}processProvider(e){e=Ne(e);let n=Ur(e)?e:Ne(e&&e.provide),r=yD(e);if(!Ur(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Rr(void 0,Io,!0),i.factory=()=>Ec(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Z(null);try{return n.value===Io&&(n.value=gD,n.value=n.factory()),typeof n.value=="object"&&n.value&&wD(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Z(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ne(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Tc(t){let e=Qo(t),n=e!==null?e.factory:jr(t);if(n!==null)return n;if(t instanceof x)throw new y(204,!1);if(t instanceof Function)return mD(t);throw new y(204,!1)}function mD(t){if(t.length>0)throw new y(204,!1);let n=M_(t);return n!==null?()=>n.factory(t):()=>new t}function yD(t){if(Jp(t))return Rr(void 0,t.useValue);{let e=Xp(t);return Rr(e,Io)}}function Xp(t,e,n){let r;if(Ur(t)){let i=Ne(t);return jr(i)||Tc(i)}else if(Jp(t))r=()=>Ne(t.useValue);else if(hD(t))r=()=>t.useFactory(...Ec(t.deps||[]));else if(fD(t))r=()=>M(Ne(t.useExisting));else{let i=Ne(t&&(t.useClass||t.provide));if(vD(t))r=()=>new i(...Ec(t.deps));else return jr(i)||Tc(i)}return r}function Rr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function vD(t){return!!t.deps}function wD(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function _D(t){return typeof t=="function"||typeof t=="object"&&t instanceof x}function Mc(t,e){for(let n of t)Array.isArray(n)?Mc(n,e):n&&kp(n)?Mc(n.\u0275providers,e):e(n)}function Kn(t,e){t instanceof Ri&&t.assertNotDestroyed();let n,r=hn(t),i=Ke(void 0);try{return e()}finally{hn(r),Ke(i)}}function DD(){return Lp()!==void 0||U_()!=null}function bD(t){return typeof t=="function"}var St=0,q=1,T=2,Me=3,ut=4,ht=5,Po=6,Pi=7,dt=8,Br=9,ft=10,he=11,Fi=12,np=13,Qr=14,Ct=15,Xo=16,Pr=17,Hr=18,ea=19,eg=20,pn=21,cc=22,Un=23,Et=25,vu=1;var Bn=7,Fo=8,ko=9,Qe=10,wu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(wu||{});function jn(t){return Array.isArray(t)&&typeof t[vu]=="object"}function Qt(t){return Array.isArray(t)&&t[vu]===!0}function _u(t){return(t.flags&4)!==0}function ta(t){return t.componentOffset>-1}function na(t){return(t.flags&1)===1}function Ht(t){return!!t.template}function CD(t){return(t[T]&512)!==0}var Ac=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function tg(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Qn(){return ng}function ng(t){return t.type.prototype.ngOnChanges&&(t.setInput=ID),ED}Qn.ngInherit=!0;function ED(){let t=ig(this),e=t?.current;if(e){let n=t.previous;if(n===Vr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function ID(t,e,n,r,i){let s=this.declaredInputs[r],o=ig(t)||SD(t,{previous:Vr,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new Ac(c&&c.currentValue,n,l===Vr),tg(t,e,i,n)}var rg="__ngSimpleChanges__";function ig(t){return t[rg]||null}function SD(t,e){return t[rg]=e}var rp=null;var _t=function(t,e,n){rp?.(t,e,n)},TD="svg",MD="math",AD=!1;function xD(){return AD}function It(t){for(;Array.isArray(t);)t=t[St];return t}function ND(t){for(;Array.isArray(t);){if(typeof t[vu]=="object")return t;t=t[St]}return null}function sg(t,e){return It(e[t])}function Ze(t,e){return It(e[t.index])}function og(t,e){return t.data[e]}function OD(t,e){return t[e]}function yn(t,e){let n=e[t];return jn(n)?n:n[St]}function Du(t){return(t[T]&128)===128}function RD(t){return Qt(t[Me])}function zr(t,e){return e==null?null:t[e]}function ag(t){t[Pr]=0}function PD(t){t[T]&1024||(t[T]|=1024,Du(t)&&ki(t))}function FD(t,e){for(;t>0;)e=e[Qr],t--;return e}function bu(t){return!!(t[T]&9216||t[Un]?.dirty)}function xc(t){t[ft].changeDetectionScheduler?.notify(1),bu(t)?ki(t):t[T]&64&&(xD()?(t[T]|=1024,ki(t)):t[ft].changeDetectionScheduler?.notify())}function ki(t){t[ft].changeDetectionScheduler?.notify();let e=Li(t);for(;e!==null&&!(e[T]&8192||(e[T]|=8192,!Du(e)));)e=Li(e)}function lg(t,e){if((t[T]&256)===256)throw new y(911,!1);t[pn]===null&&(t[pn]=[]),t[pn].push(e)}function kD(t,e){if(t[pn]===null)return;let n=t[pn].indexOf(e);n!==-1&&t[pn].splice(n,1)}function Li(t){let e=t[Me];return Qt(e)?e[Me]:e}var U={lFrame:yg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function LD(){return U.lFrame.elementDepthCount}function jD(){U.lFrame.elementDepthCount++}function VD(){U.lFrame.elementDepthCount--}function cg(){return U.bindingsEnabled}function $D(){return U.skipHydrationRootTNode!==null}function UD(t){return U.skipHydrationRootTNode===t}function BD(){U.skipHydrationRootTNode=null}function re(){return U.lFrame.lView}function Ae(){return U.lFrame.tView}function Cu(t){return U.lFrame.contextLView=t,t[dt]}function Eu(t){return U.lFrame.contextLView=null,t}function Ue(){let t=ug();for(;t!==null&&t.type===64;)t=t.parent;return t}function ug(){return U.lFrame.currentTNode}function HD(){let t=U.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Yn(t,e){let n=U.lFrame;n.currentTNode=t,n.isParent=e}function Iu(){return U.lFrame.isParent}function dg(){U.lFrame.isParent=!1}function zD(){return U.lFrame.contextLView}function GD(t){return U.lFrame.bindingIndex=t}function ra(){return U.lFrame.bindingIndex++}function fg(t){let e=U.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function qD(){return U.lFrame.inI18n}function WD(t,e){let n=U.lFrame;n.bindingIndex=n.bindingRootIndex=t,Nc(e)}function KD(){return U.lFrame.currentDirectiveIndex}function Nc(t){U.lFrame.currentDirectiveIndex=t}function hg(t){let e=U.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function pg(t){U.lFrame.currentQueryIndex=t}function QD(t){let e=t[q];return e.type===2?e.declTNode:e.type===1?t[ht]:null}function gg(t,e,n){if(n&V.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&V.Host);)if(i=QD(s),i===null||(s=s[Qr],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=U.lFrame=mg();return r.currentTNode=e,r.lView=t,!0}function Su(t){let e=mg(),n=t[q];U.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function mg(){let t=U.lFrame,e=t===null?null:t.child;return e===null?yg(t):e}function yg(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function vg(){let t=U.lFrame;return U.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var wg=vg;function Tu(){let t=vg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function YD(t){return(U.lFrame.contextLView=FD(t,U.lFrame.contextLView))[dt]}function Zn(){return U.lFrame.selectedIndex}function Hn(t){U.lFrame.selectedIndex=t}function ia(){let t=U.lFrame;return og(t.tView,t.selectedIndex)}function ZD(){return U.lFrame.currentNamespace}var _g=!0;function sa(){return _g}function oa(t){_g=t}function JD(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=ng(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function aa(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function So(t,e,n){Dg(t,e,3,n)}function To(t,e,n,r){(t[T]&3)===n&&Dg(t,e,n,r)}function uc(t,e){let n=t[T];(n&3)===e&&(n&=16383,n+=1,t[T]=n)}function Dg(t,e,n,r){let i=r!==void 0?t[Pr]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[Pr]+=65536),(a<s||s==-1)&&(XD(t,n,e,l),t[Pr]=(t[Pr]&4294901760)+l+2),l++}function ip(t,e){_t(4,t,e);let n=Z(null);try{e.call(t)}finally{Z(n),_t(5,t,e)}}function XD(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[T]>>14<t[Pr]>>16&&(t[T]&3)===e&&(t[T]+=16384,ip(a,s)):ip(a,s)}var Lr=-1,zn=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function eb(t){return t instanceof zn}function tb(t){return(t.flags&8)!==0}function nb(t){return(t.flags&16)!==0}function bg(t){return t!==Lr}function Lo(t){return t&32767}function rb(t){return t>>16}function jo(t,e){let n=rb(t),r=e;for(;n>0;)r=r[Qr],n--;return r}var Oc=!0;function sp(t){let e=Oc;return Oc=t,e}var ib=256,Cg=ib-1,Eg=5,sb=0,Dt={};function ob(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(xi)&&(r=n[xi]),r==null&&(r=n[xi]=sb++);let i=r&Cg,s=1<<i;e.data[t+(i>>Eg)]|=s}function Vo(t,e){let n=Ig(t,e);if(n!==-1)return n;let r=e[q];r.firstCreatePass&&(t.injectorIndex=e.length,dc(r.data,t),dc(e,null),dc(r.blueprint,null));let i=Mu(t,e),s=t.injectorIndex;if(bg(i)){let o=Lo(i),a=jo(i,e),l=a[q].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function dc(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ig(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Mu(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=xg(i),r===null)return Lr;if(n++,i=i[Qr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Lr}function Rc(t,e,n){ob(t,e,n)}function Sg(t,e,n){if(n&V.Optional||t!==void 0)return t;fu(e,"NodeInjector")}function Tg(t,e,n,r){if(n&V.Optional&&r===void 0&&(r=null),!(n&(V.Self|V.Host))){let i=t[Br],s=Ke(void 0);try{return i?i.get(e,r,n&V.Optional):jp(e,r,n&V.Optional)}finally{Ke(s)}}return Sg(r,e,n)}function Mg(t,e,n,r=V.Default,i){if(t!==null){if(e[T]&2048&&!(r&V.Self)){let o=db(t,e,n,r,Dt);if(o!==Dt)return o}let s=Ag(t,e,n,r,Dt);if(s!==Dt)return s}return Tg(e,n,r,i)}function Ag(t,e,n,r,i){let s=cb(n);if(typeof s=="function"){if(!gg(e,t,r))return r&V.Host?Sg(i,n,r):Tg(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&V.Optional))fu(n);else return o}finally{wg()}}else if(typeof s=="number"){let o=null,a=Ig(t,e),l=Lr,c=r&V.Host?e[Ct][ht]:null;for((a===-1||r&V.SkipSelf)&&(l=a===-1?Mu(t,e):e[a+8],l===Lr||!ap(r,!1)?a=-1:(o=e[q],a=Lo(l),e=jo(l,e)));a!==-1;){let u=e[q];if(op(s,a,u.data)){let d=ab(a,e,n,o,r,c);if(d!==Dt)return d}l=e[a+8],l!==Lr&&ap(r,e[q].data[a+8]===c)&&op(s,a,e)?(o=u,a=Lo(l),e=jo(l,e)):a=-1}}return i}function ab(t,e,n,r,i,s){let o=e[q],a=o.data[t+8],l=r==null?ta(a)&&Oc:r!=o&&(a.type&3)!==0,c=i&V.Host&&s===a,u=lb(a,o,n,l,c);return u!==null?Gr(e,o,u,a):Dt}function lb(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,u=s>>20,d=r?a:a+u,h=i?a+u:c;for(let f=d;f<h;f++){let g=o[f];if(f<l&&n===g||f>=l&&g.type===n)return f}if(i){let f=o[l];if(f&&Ht(f)&&f.type===n)return l}return null}function Gr(t,e,n,r){let i=t[n],s=e.data;if(eb(i)){let o=i;o.resolving&&F_(P_(s[n]));let a=sp(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?Ke(o.injectImpl):null,u=gg(t,r,V.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&JD(n,s[n],e)}finally{c!==null&&Ke(c),sp(a),o.resolving=!1,wg()}}return i}function cb(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(xi)?t[xi]:void 0;return typeof e=="number"?e>=0?e&Cg:ub:e}function op(t,e,n){let r=1<<t;return!!(n[e+(t>>Eg)]&r)}function ap(t,e){return!(t&V.Self)&&!(t&V.Host&&e)}var Vn=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Mg(this._tNode,this._lView,e,Zo(r),n)}};function ub(){return new Vn(Ue(),re())}function Hi(t){return Ko(()=>{let e=t.prototype.constructor,n=e[xo]||Pc(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[xo]||Pc(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Pc(t){return Op(t)?()=>{let e=Pc(Ne(t));return e&&e()}:jr(t)}function db(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[T]&2048&&!(o[T]&512);){let a=Ag(s,o,n,r|V.Self,Dt);if(a!==Dt)return a;let l=s.parent;if(!l){let c=o[eg];if(c){let u=c.get(n,Dt,r);if(u!==Dt)return u}l=xg(o),o=o[Qr]}s=l}return i}function xg(t){let e=t[q],n=e.type;return n===2?e.declTNode:n===1?t[ht]:null}function lp(t,e=null,n=null,r){let i=Ng(t,e,n,r);return i.resolveInjectorInitializers(),i}function Ng(t,e=null,n=null,r,i=new Set){let s=[n||ke,uD(t)];return r=r||(typeof t=="object"?void 0:Oe(t)),new Ri(s,e||yu(),r||null,i)}var Tt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return lp({name:""},i,r,"");{let s=r.name??"";return lp({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Ni,e.NULL=new Ro,e.\u0275prov=C({token:e,providedIn:"any",factory:()=>M($p)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var fb="ngOriginalError";function fc(t){return t[fb]}var zt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&fc(e);for(;n&&fc(n);)n=fc(n);return n||null}},Og=new x("",{providedIn:"root",factory:()=>_(zt).handleError.bind(void 0)}),Rg=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=hb,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Fc=class extends Rg{constructor(e){super(),this._lView=e}onDestroy(e){return lg(this._lView,e),()=>kD(this._lView,e)}};function hb(){return new Fc(re())}function pb(){return la(Ue(),re())}function la(t,e){return new Yt(Ze(t,e))}var Yt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=pb;let t=e;return t})();var kc=class extends ae{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,DD()&&(this.destroyRef=_(Rg,{optional:!0})??void 0)}emit(e){let n=Z(null);try{super.next(e)}finally{Z(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=hc(s),i&&(i=hc(i)),o&&(o=hc(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof ye&&e.add(a),a}};function hc(t){return e=>{setTimeout(t,void 0,e)}}var Te=kc;function Pg(t){return(t.flags&128)===128}var Fg=new Map,gb=0;function mb(){return gb++}function yb(t){Fg.set(t[ea],t)}function vb(t){Fg.delete(t[ea])}var cp="__ngContext__";function gn(t,e){jn(e)?(t[cp]=e[ea],yb(e)):t[cp]=e}function kg(t){return jg(t[Fi])}function Lg(t){return jg(t[ut])}function jg(t){for(;t!==null&&!Qt(t);)t=t[ut];return t}var Lc;function Vg(t){Lc=t}function $g(){if(Lc!==void 0)return Lc;if(typeof document<"u")return document;throw new y(210,!1)}var Au=new x("",{providedIn:"root",factory:()=>wb}),wb="ng",xu=new x(""),Yr=new x("",{providedIn:"platform",factory:()=>"unknown"});var Nu=new x(""),Ou=new x("",{providedIn:"root",factory:()=>$g().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var _b="h",Db="b";var bb=()=>null;function Ru(t,e,n=!1){return bb(t,e,n)}var Ug=!1,Cb=new x("",{providedIn:"root",factory:()=>Ug});var _o;function Eb(){if(_o===void 0&&(_o=null,Bt.trustedTypes))try{_o=Bt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _o}function ca(t){return Eb()?.createHTML(t)||t}var Do;function Ib(){if(Do===void 0&&(Do=null,Bt.trustedTypes))try{Do=Bt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Do}function up(t){return Ib()?.createHTML(t)||t}var Gt=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Np})`}},jc=class extends Gt{getTypeName(){return"HTML"}},Vc=class extends Gt{getTypeName(){return"Style"}},$c=class extends Gt{getTypeName(){return"Script"}},Uc=class extends Gt{getTypeName(){return"URL"}},Bc=class extends Gt{getTypeName(){return"ResourceURL"}};function Mt(t){return t instanceof Gt?t.changingThisBreaksApplicationSecurity:t}function Jn(t,e){let n=Sb(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Np})`)}return n===e}function Sb(t){return t instanceof Gt&&t.getTypeName()||null}function Bg(t){return new jc(t)}function Hg(t){return new Vc(t)}function zg(t){return new $c(t)}function Gg(t){return new Uc(t)}function qg(t){return new Bc(t)}function Tb(t){let e=new zc(t);return Mb()?new Hc(e):e}var Hc=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(ca(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},zc=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=ca(e),n}};function Mb(){try{return!!new window.DOMParser().parseFromString(ca(""),"text/html")}catch{return!1}}var Ab=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Pu(t){return t=String(t),t.match(Ab)?t:"unsafe:"+t}function Zt(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function zi(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var Wg=Zt("area,br,col,hr,img,wbr"),Kg=Zt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qg=Zt("rp,rt"),xb=zi(Qg,Kg),Nb=zi(Kg,Zt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ob=zi(Qg,Zt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dp=zi(Wg,Nb,Ob,xb),Yg=Zt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rb=Zt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pb=Zt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Fb=zi(Yg,Rb,Pb),kb=Zt("script,style,template"),Gc=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=Vb(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=jb(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=fp(e).toLowerCase();if(!dp.hasOwnProperty(n))return this.sanitizedSomething=!0,!kb.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!Fb.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Yg[a]&&(l=Pu(l)),this.buf.push(" ",o,'="',hp(l),'"')}return this.buf.push(">"),!0}endElement(e){let n=fp(e).toLowerCase();dp.hasOwnProperty(n)&&!Wg.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(hp(e))}};function Lb(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function jb(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw Zg(e);return e}function Vb(t){let e=t.firstChild;if(e&&Lb(t,e))throw Zg(e);return e}function fp(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function Zg(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var $b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ub=/([^\#-~ |!])/g;function hp(t){return t.replace(/&/g,"&amp;").replace($b,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(Ub,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var bo;function Fu(t,e){let n=null;try{bo=bo||Tb(t);let r=e?String(e):"";n=bo.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=bo.getInertBodyElement(r)}while(r!==s);let a=new Gc().sanitizeChildren(pp(n)||n);return ca(a)}finally{if(n){let r=pp(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function pp(t){return"content"in t&&Bb(t)?t.content:null}function Bb(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var pt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(pt||{});function ku(t){let e=Hb();return e?up(e.sanitize(pt.HTML,t)||""):Jn(t,"HTML")?up(Mt(t)):Fu($g(),Yo(t))}function Hb(){let t=re();return t&&t[ft].sanitizer}var zb=/^>|^->|<!--|-->|--!>|<!-$/g,Gb=/(<|>)/g,qb="\u200B$1\u200B";function Wb(t){return t.replace(zb,e=>e.replace(Gb,qb))}function Jg(t){return t instanceof Function?t():t}var qt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qt||{}),Kb;function Lu(t,e){return Kb(t,e)}function Fr(t,e,n,r,i){if(r!=null){let s,o=!1;Qt(r)?s=r:jn(r)&&(o=!0,r=r[St]);let a=It(r);t===0&&n!==null?i==null?rm(e,n,a):$o(e,n,a,i||null,!0):t===1&&n!==null?$o(e,n,a,i||null,!0):t===2?fC(e,a,o):t===3&&e.destroyNode(a),s!=null&&pC(e,t,s,n,i)}}function Qb(t,e){return t.createText(e)}function Yb(t,e,n){t.setValue(e,n)}function Zb(t,e){return t.createComment(Wb(e))}function Xg(t,e,n){return t.createElement(e,n)}function Jb(t,e){em(t,e),e[St]=null,e[ht]=null}function Xb(t,e,n,r,i,s){r[St]=i,r[ht]=e,da(t,r,n,1,i,s)}function em(t,e){e[ft].changeDetectionScheduler?.notify(1),da(t,e,e[he],2,null,null)}function eC(t){let e=t[Fi];if(!e)return pc(t[q],t);for(;e;){let n=null;if(jn(e))n=e[Fi];else{let r=e[Qe];r&&(n=r)}if(!n){for(;e&&!e[ut]&&e!==t;)jn(e)&&pc(e[q],e),e=e[Me];e===null&&(e=t),jn(e)&&pc(e[q],e),n=e&&e[ut]}e=n}}function tC(t,e,n,r){let i=Qe+r,s=n.length;r>0&&(n[i-1][ut]=e),r<s-Qe?(e[ut]=n[i],Vp(n,Qe+r,e)):(n.push(e),e[ut]=null),e[Me]=n;let o=e[Xo];o!==null&&n!==o&&nC(o,e);let a=e[Hr];a!==null&&a.insertView(t),xc(e),e[T]|=128}function nC(t,e){let n=t[ko],i=e[Me][Me][Ct];e[Ct]!==i&&(t[T]|=wu.HasTransplantedViews),n===null?t[ko]=[e]:n.push(e)}function tm(t,e){let n=t[ko],r=n.indexOf(e);n.splice(r,1)}function qc(t,e){if(t.length<=Qe)return;let n=Qe+e,r=t[n];if(r){let i=r[Xo];i!==null&&i!==t&&tm(i,r),e>0&&(t[n-1][ut]=r[ut]);let s=Oo(t,Qe+e);Jb(r[q],r);let o=s[Hr];o!==null&&o.detachView(s[q]),r[Me]=null,r[ut]=null,r[T]&=-129}return r}function nm(t,e){if(!(e[T]&256)){let n=e[he];n.destroyNode&&da(t,e,n,3,null,null),eC(e)}}function pc(t,e){if(e[T]&256)return;let n=Z(null);try{e[T]&=-129,e[T]|=256,e[Un]&&Dh(e[Un]),iC(t,e),rC(t,e),e[q].type===1&&e[he].destroy();let r=e[Xo];if(r!==null&&Qt(e[Me])){r!==e[Me]&&tm(r,e);let i=e[Hr];i!==null&&i.detachView(t)}vb(e)}finally{Z(n)}}function rC(t,e){let n=t.cleanup,r=e[Pi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Pi]=null);let i=e[pn];if(i!==null){e[pn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function iC(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof zn)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];_t(4,a,l);try{l.call(a)}finally{_t(5,a,l)}}else{_t(4,i,s);try{s.call(i)}finally{_t(5,i,s)}}}}}function sC(t,e,n){return oC(t,e.parent,n)}function oC(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[St];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===bt.None||s===bt.Emulated)return null}return Ze(r,n)}}function $o(t,e,n,r,i){t.insertBefore(e,n,r,i)}function rm(t,e,n){t.appendChild(e,n)}function gp(t,e,n,r,i){r!==null?$o(t,e,n,r,i):rm(t,e,n)}function aC(t,e,n,r){t.removeChild(e,n,r)}function ju(t,e){return t.parentNode(e)}function lC(t,e){return t.nextSibling(e)}function cC(t,e,n){return dC(t,e,n)}function uC(t,e,n){return t.type&40?Ze(t,n):null}var dC=uC,mp;function ua(t,e,n,r){let i=sC(t,r,e),s=e[he],o=r.parent||e[ht],a=cC(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)gp(s,i,n[l],a,!1);else gp(s,i,n,a,!1);mp!==void 0&&mp(s,r,e,n,i)}function Mo(t,e){if(e!==null){let n=e.type;if(n&3)return Ze(e,t);if(n&4)return Wc(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Mo(t,r);{let i=t[e.index];return Qt(i)?Wc(-1,i):It(i)}}else{if(n&32)return Lu(e,t)()||It(t[e.index]);{let r=im(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Li(t[Ct]);return Mo(i,r)}else return Mo(t,e.next)}}}return null}function im(t,e){if(e!==null){let r=t[Ct][ht],i=e.projection;return r.projection[i]}return null}function Wc(t,e){let n=Qe+t+1;if(n<e.length){let r=e[n],i=r[q].firstChild;if(i!==null)return Mo(r,i)}return e[Bn]}function fC(t,e,n){let r=ju(t,e);r&&aC(t,r,e,n)}function Vu(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],l=n.type;if(o&&e===0&&(a&&gn(It(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)Vu(t,e,n.child,r,i,s,!1),Fr(e,t,i,a,s);else if(l&32){let c=Lu(n,r),u;for(;u=c();)Fr(e,t,i,u,s);Fr(e,t,i,a,s)}else l&16?hC(t,e,r,n,i,s):Fr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function da(t,e,n,r,i,s){Vu(n,r,t.firstChild,e,i,s,!1)}function hC(t,e,n,r,i,s){let o=n[Ct],l=o[ht].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Fr(e,t,i,u,s)}else{let c=l,u=o[Me];Pg(r)&&(c.flags|=128),Vu(t,e,c,u,i,s,!0)}}function pC(t,e,n,r,i){let s=n[Bn],o=It(n);s!==o&&Fr(e,t,r,s,i);for(let a=Qe;a<n.length;a++){let l=n[a];da(l[q],l,t,e,r,s)}}function gC(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:qt.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=qt.Important),t.setStyle(n,r,i,s))}}function mC(t,e,n){t.setAttribute(e,"style",n)}function sm(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function om(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Ic(t,e,r),i!==null&&sm(t,e,i),s!==null&&mC(t,e,s)}var Jt={};function X(t=1){am(Ae(),re(),Zn()+t,!1)}function am(t,e,n,r){if(!r)if((e[T]&3)===3){let s=t.preOrderCheckHooks;s!==null&&So(e,s,n)}else{let s=t.preOrderHooks;s!==null&&To(e,s,0,n)}Hn(n)}function I(t,e=V.Default){let n=re();if(n===null)return M(t,e);let r=Ue();return Mg(r,n,Ne(t),e)}function lm(t,e,n,r,i,s){let o=Z(null);try{let a=null;i&Le.SignalBased&&(a=e[r][yh]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Le.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):tg(e,a,r,s)}finally{Z(o)}}function yC(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Hn(~i);else{let s=i,o=n[++r],a=n[++r];WD(o,s);let l=e[s];a(2,l)}}}finally{Hn(-1)}}function fa(t,e,n,r,i,s,o,a,l,c,u){let d=e.blueprint.slice();return d[St]=i,d[T]=r|4|128|8|64,(c!==null||t&&t[T]&2048)&&(d[T]|=2048),ag(d),d[Me]=d[Qr]=t,d[dt]=n,d[ft]=o||t&&t[ft],d[he]=a||t&&t[he],d[Br]=l||t&&t[Br]||null,d[ht]=s,d[ea]=mb(),d[Po]=u,d[eg]=c,d[Ct]=e.type==2?t[Ct]:d,d}function Gi(t,e,n,r,i){let s=t.data[e];if(s===null)s=vC(t,e,n,r,i),qD()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=HD();s.injectorIndex=o===null?-1:o.injectorIndex}return Yn(s,!0),s}function vC(t,e,n,r,i){let s=ug(),o=Iu(),a=o?s:s&&s.parent,l=t.data[e]=CC(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function cm(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function um(t,e,n,r,i){let s=Zn(),o=r&2;try{Hn(-1),o&&e.length>Et&&am(t,e,Et,!1),_t(o?2:0,i),n(r,i)}finally{Hn(s),_t(o?3:1,i)}}function $u(t,e,n){if(_u(e)){let r=Z(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{Z(r)}}}function Uu(t,e,n){cg()&&(AC(t,e,n,Ze(n,e)),(n.flags&64)===64&&hm(t,e,n))}function Bu(t,e,n=Ze){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function dm(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Hu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Hu(t,e,n,r,i,s,o,a,l,c,u){let d=Et+r,h=d+i,f=wC(d,h),g=typeof c=="function"?c():c;return f[q]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function wC(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Jt);return n}function _C(t,e,n,r){let s=r.get(Cb,Ug)||n===bt.ShadowDom,o=t.selectRootElement(e,s);return DC(o),o}function DC(t){bC(t)}var bC=()=>null;function CC(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return $D()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function yp(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,l=Le.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(i!==null){if(!i.hasOwnProperty(s))continue;c=i[s]}t===0?vp(r,n,c,a,l):vp(r,n,c,a)}return r}function vp(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function EC(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;l=yp(0,d.inputs,u,l,f),c=yp(1,d.outputs,u,c,g);let m=l!==null&&o!==null&&!gu(e)?$C(l,u,o):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function IC(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function zu(t,e,n,r,i,s,o,a){let l=Ze(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[r])?(qu(t,n,u,r,i),ta(e)&&SC(n,e.index)):e.type&3?(r=IC(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)):e.type&12}function SC(t,e){let n=yn(e,t);n[T]&16||(n[T]|=64)}function Gu(t,e,n,r){if(cg()){let i=r===null?null:{"":-1},s=NC(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&fm(t,e,n,o,i,a),i&&OC(n,r,i)}n.mergedAttrs=Oi(n.mergedAttrs,n.attrs)}function fm(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Rc(Vo(n,e),t,r[c].type);PC(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=cm(t,e,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=Oi(n.mergedAttrs,u.hostAttrs),FC(t,n,e,l,u),RC(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}EC(t,n,s)}function TC(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;MC(o)!=a&&o.push(a),o.push(n,r,s)}}function MC(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function AC(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;ta(n)&&kC(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Vo(n,e),gn(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let l=t.data[a],c=Gr(e,t,a,n);if(gn(c,e),o!==null&&VC(e,a-i,c,l,n,o),Ht(l)){let u=yn(n.index,e);u[dt]=Gr(e,t,a,n)}}}function hm(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=KD();try{Hn(s);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];Nc(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&xC(l,c)}}finally{Hn(-1),Nc(o)}}function xC(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function NC(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(tD(e,o.selectors,!1))if(r||(r=[]),Ht(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let l=a.length;Kc(t,e,l)}else r.unshift(o),Kc(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Kc(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function OC(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new y(-301,!1);r.push(e[i],s)}}}function RC(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ht(e)&&(n[""]=t)}}function PC(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function FC(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=jr(i.type,!0)),o=new zn(s,Ht(i),I);t.blueprint[r]=o,n[r]=o,TC(t,e,r,cm(t,n,i.hostVars,Jt),i)}function kC(t,e,n){let r=Ze(e,t),i=dm(n),s=t[ft].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=ha(t,fa(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function LC(t,e,n,r,i,s){let o=Ze(t,e);jC(e[he],o,s,t.value,n,r,i)}function jC(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Yo(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function VC(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];lm(r,n,l,c,u,d)}}function $C(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function pm(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function gm(t,e){let n=t.contentQueries;if(n!==null){let r=Z(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];pg(s),a.contentQueries(2,e[o],o)}}}finally{Z(r)}}}function ha(t,e){return t[Fi]?t[np][ut]=e:t[Fi]=e,t[np]=e,e}function Qc(t,e,n){pg(0);let r=Z(null);try{e(t,n)}finally{Z(r)}}function UC(t){return t[Pi]||(t[Pi]=[])}function BC(t){return t.cleanup||(t.cleanup=[])}function HC(t,e,n){return(t===null||Ht(t))&&(n=ND(n[e.index])),n[he]}function mm(t,e){let n=t[Br],r=n?n.get(zt,null):null;r&&r.handleError(e)}function qu(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=n[s++],c=e[o],u=t.data[o];lm(u,c,r,a,l,i)}}function zC(t,e,n){let r=sg(e,t);Yb(t[he],r,n)}function GC(t,e){let n=yn(e,t),r=n[q];qC(r,n);let i=n[St];i!==null&&n[Po]===null&&(n[Po]=Ru(i,n[Br])),Wu(r,n,n[dt])}function qC(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Wu(t,e,n){Su(e);try{let r=t.viewQuery;r!==null&&Qc(1,r,n);let i=t.template;i!==null&&um(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Hr]?.finishViewCreation(t),t.staticContentQueries&&gm(t,e),t.staticViewQueries&&Qc(2,t.viewQuery,n);let s=t.components;s!==null&&WC(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[T]&=-5,Tu()}}function WC(t,e){for(let n=0;n<e.length;n++)GC(t,e[n])}function KC(t,e,n,r){let i=Z(null);try{let s=e.tView,a=t[T]&4096?4096:16,l=fa(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[Xo]=c;let u=t[Hr];return u!==null&&(l[Hr]=u.createEmbeddedView(s)),Wu(s,l,n),l}finally{Z(i)}}function wp(t,e){return!e||e.firstChild===null||Pg(t)}function QC(t,e,n,r=!0){let i=e[q];if(tC(i,e,t,n),r){let o=Wc(n,t),a=e[he],l=ju(a,t[Bn]);l!==null&&Xb(i,t[ht],a,e,l,o)}let s=e[Po];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Uo(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(It(s)),Qt(s)&&YC(s,r);let o=n.type;if(o&8)Uo(t,e,n.child,r);else if(o&32){let a=Lu(n,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=im(e,n);if(Array.isArray(a))r.push(...a);else{let l=Li(e[Ct]);Uo(l[q],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function YC(t,e){for(let n=Qe;n<t.length;n++){let r=t[n],i=r[q].firstChild;i!==null&&Uo(r[q],r,i,e)}t[Bn]!==t[St]&&e.push(t[Bn])}var ym=[];function ZC(t){return t[Un]??JC(t)}function JC(t){let e=ym.pop()??Object.create(e0);return e.lView=t,e}function XC(t){t.lView[Un]!==t&&(t.lView=null,ym.push(t))}var e0=G(w({},vh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ki(t.lView)},consumerOnSignalRead(){this.lView[Un]=this}}),vm=100;function wm(t,e=!0,n=0){let r=t[ft],i=r.rendererFactory,s=!1;s||i.begin?.();try{t0(t,n)}catch(o){throw e&&mm(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function t0(t,e){Yc(t,e);let n=0;for(;bu(t);){if(n===vm)throw new y(103,!1);n++,Yc(t,1)}}function n0(t,e,n,r){let i=e[T];if((i&256)===256)return;let s=!1;!s&&e[ft].inlineEffectRunner?.flush(),Su(e);let o=null,a=null;!s&&r0(t)&&(a=ZC(e),o=wh(a));try{ag(e),GD(t.bindingStartIndex),n!==null&&um(t,e,n,2,r);let l=(i&3)===3;if(!s)if(l){let d=t.preOrderCheckHooks;d!==null&&So(e,d,null)}else{let d=t.preOrderHooks;d!==null&&To(e,d,0,null),uc(e,0)}if(i0(e),_m(e,0),t.contentQueries!==null&&gm(t,e),!s)if(l){let d=t.contentCheckHooks;d!==null&&So(e,d)}else{let d=t.contentHooks;d!==null&&To(e,d,1),uc(e,1)}yC(t,e);let c=t.components;c!==null&&bm(e,c,0);let u=t.viewQuery;if(u!==null&&Qc(2,u,r),!s)if(l){let d=t.viewCheckHooks;d!==null&&So(e,d)}else{let d=t.viewHooks;d!==null&&To(e,d,2),uc(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[cc]){for(let d of e[cc])d();e[cc]=null}s||(e[T]&=-73)}catch(l){throw ki(e),l}finally{a!==null&&(_h(a,o),XC(a)),Tu()}}function r0(t){return t.type!==2}function _m(t,e){for(let n=kg(t);n!==null;n=Lg(n))for(let r=Qe;r<n.length;r++){let i=n[r];Dm(i,e)}}function i0(t){for(let e=kg(t);e!==null;e=Lg(e)){if(!(e[T]&wu.HasTransplantedViews))continue;let n=e[ko];for(let r=0;r<n.length;r++){let i=n[r],s=i[Me];PD(i)}}}function s0(t,e,n){let r=yn(e,t);Dm(r,n)}function Dm(t,e){Du(t)&&Yc(t,e)}function Yc(t,e){let r=t[q],i=t[T],s=t[Un],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Ul(s)),s&&(s.dirty=!1),t[T]&=-9217,o)n0(r,t,r.template,t[dt]);else if(i&8192){_m(t,1);let a=r.components;a!==null&&bm(t,a,1)}}function bm(t,e,n){for(let r=0;r<e.length;r++)s0(t,e[r],n)}function Ku(t){for(t[ft].changeDetectionScheduler?.notify();t;){t[T]|=64;let e=Li(t);if(CD(t)&&!e)return t;t=e}return null}var Gn=class{get rootNodes(){let e=this._lView,n=e[q];return Uo(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[dt]}set context(e){this._lView[dt]=e}get destroyed(){return(this._lView[T]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Me];if(Qt(e)){let n=e[Fo],r=n?n.indexOf(this):-1;r>-1&&(qc(e,r),Oo(n,r))}this._attachedToViewContainer=!1}nm(this._lView[q],this._lView)}onDestroy(e){lg(this._lView,e)}markForCheck(){Ku(this._cdRefInjectingView||this._lView)}detach(){this._lView[T]&=-129}reattach(){xc(this._lView),this._lView[T]|=128}detectChanges(){this._lView[T]|=1024,wm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,em(this._lView[q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new y(902,!1);this._appRef=e,xc(this._lView)}},Qu=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=l0;let t=e;return t})(),o0=Qu,a0=class extends o0{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=KC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Gn(i)}};function l0(){return Cm(Ue(),re())}function Cm(t,e){return t.type&4?new a0(e,t,la(t,e)):null}var pk=new RegExp(`^(\\d+)*(${Db}|${_b})*(.*)`);var c0=()=>null;function _p(t,e){return c0(t,e)}var ji=class{},Zc=class{},Bo=class{};function u0(t){let e=Error(`No component factory found for ${Oe(t)}.`);return e[d0]=t,e}var d0="ngComponent";var Jc=class{resolveComponentFactory(e){throw u0(e)}},Zr=(()=>{let e=class e{};e.NULL=new Jc;let t=e;return t})(),qn=class{},Xn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>f0();let t=e;return t})();function f0(){let t=re(),e=Ue(),n=yn(e.index,t);return(jn(n)?n:t)[he]}var h0=(()=>{let e=class e{};e.\u0275prov=C({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),gc={};var Dp=new Set;function pa(t){Dp.has(t)||(Dp.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Em=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=C({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Ho(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=bc(i,a);else if(s==2){let l=a,c=e[++o];r=bc(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var zo=class extends Zr{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=$n(e);return new Vi(n,this.ngModule)}};function bp(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function p0(t){let e=t.toLowerCase();return e==="svg"?TD:e==="math"?MD:null}var Xc=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Zo(r);let i=this.injector.get(e,gc,r);return i!==gc||n===gc?i:this.parentInjector.get(e,n,r)}},Vi=class extends Bo{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=bp(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return bp(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=sD(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=Z(null);try{i=i||this.ngModule;let o=i instanceof Ye?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Xc(e,o):e,l=a.get(qn,null);if(l===null)throw new y(407,!1);let c=a.get(h0,null),u=a.get(Em,null),d=a.get(ji,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=r?_C(f,r,this.componentDef.encapsulation,a):Xg(f,g,p0(g)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let D=null;m!==null&&(D=Ru(m,a,!0));let j=Hu(0,null,null,1,0,null,null,null,null,null,null),F=fa(null,j,null,v,null,null,h,f,a,null,D);Su(F);let A,fe;try{let ue=this.componentDef,de,we=null;ue.findHostDirectiveDefs?(de=[],we=new Map,ue.findHostDirectiveDefs(ue,de,we),de.push(ue)):de=[ue];let Vt=g0(F,m),ln=m0(Vt,m,ue,de,F,h,f);fe=og(j,Et),m&&w0(f,ue,m,r),n!==void 0&&_0(fe,this.ngContentSelectors,n),A=v0(ln,ue,de,we,F,[D0]),Wu(j,F,null)}finally{Tu()}return new eu(this.componentType,A,la(fe,F),F,fe)}finally{Z(s)}}},eu=class extends Zc{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Gn(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;qu(s[q],s,i,e,n),this.previousInputValues.set(e,n);let o=yn(this._tNode.index,s);Ku(o)}}get injector(){return new Vn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function g0(t,e){let n=t[q],r=Et;return t[r]=e,Gi(n,r,2,"#host",null)}function m0(t,e,n,r,i,s,o){let a=i[q];y0(r,t,e,o);let l=null;e!==null&&(l=Ru(e,i[Br]));let c=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=fa(i,dm(n),null,u,i[t.index],t,s,c,null,null,l);return a.firstCreatePass&&Kc(a,t,r.length-1),ha(i,d),i[t.index]=d}function y0(t,e,n,r){for(let i of t)e.mergedAttrs=Oi(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ho(e,e.mergedAttrs,!0),n!==null&&om(r,n,e))}function v0(t,e,n,r,i,s){let o=Ue(),a=i[q],l=Ze(o,i);fm(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=Gr(i,a,d,o);gn(h,i)}hm(a,i,o),l&&gn(l,i);let c=Gr(i,a,o.directiveStart+o.componentOffset,o);if(t[dt]=i[dt]=c,s!==null)for(let u of s)u(c,e);return $u(a,o,i),c}function w0(t,e,n,r){if(r)Ic(t,n,["ng-version","17.3.7"]);else{let{attrs:i,classes:s}=oD(e.selectors[0]);i&&Ic(t,n,i),s&&s.length>0&&sm(t,n,s.join(" "))}}function _0(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function D0(){let t=Ue();aa(re()[q],t)}var qi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=b0;let t=e;return t})();function b0(){let t=Ue();return E0(t,re())}var C0=qi,Im=class extends C0{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return la(this._hostTNode,this._hostLView)}get injector(){return new Vn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Mu(this._hostTNode,this._hostLView);if(bg(e)){let n=jo(e,this._hostLView),r=Lo(e),i=n[q].data[r+8];return new Vn(i,n)}else return new Vn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Cp(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Qe}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=_p(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,wp(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!bD(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let l=o?e:new Vi($n(e)),c=r||this.parentInjector;if(!s&&l.ngModule==null){let m=(o?c:this.parentInjector).get(Ye,null);m&&(s=m)}let u=$n(l.componentType??{}),d=_p(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,i,h,s);return this.insertImpl(f.hostView,a,wp(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(RD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Me],c=new Im(l,l[ht],l[Me]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return QC(o,i,s,r),e.attachToViewContainerRef(),Vp(mc(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Cp(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=qc(this._lContainer,n);r&&(Oo(mc(this._lContainer),n),nm(r[q],r))}detach(e){let n=this._adjustIndex(e,-1),r=qc(this._lContainer,n);return r&&Oo(mc(this._lContainer),n)!=null?new Gn(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Cp(t){return t[Fo]}function mc(t){return t[Fo]||(t[Fo]=[])}function E0(t,e){let n,r=e[t.index];return Qt(r)?n=r:(n=pm(r,e,null,t),e[t.index]=n,ha(e,n)),S0(n,e,t,r),new Im(n,t,e)}function I0(t,e){let n=t[he],r=n.createComment(""),i=Ze(e,t),s=ju(n,i);return $o(n,s,r,lC(n,i),!1),r}var S0=A0,T0=()=>!1;function M0(t,e,n){return T0(t,e,n)}function A0(t,e,n,r){if(t[Bn])return;let i;n.type&8?i=It(r):i=I0(e,n),t[Bn]=i}function x0(t){return Object.getPrototypeOf(t.prototype).constructor}function vn(t){let e=x0(t.type),n=!0,r=[t];for(;e;){let i;if(Ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new y(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Co(t.inputs),o.inputTransforms=Co(t.inputTransforms),o.declaredInputs=Co(t.declaredInputs),o.outputs=Co(t.outputs);let a=i.hostBindings;a&&F0(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&R0(t,l),c&&P0(t,c),N0(t,i),S_(t.outputs,i.outputs),Ht(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===vn&&(n=!1)}}e=Object.getPrototypeOf(e)}O0(r)}function N0(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function O0(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Oi(i.hostAttrs,n=Oi(n,i.hostAttrs))}}function Co(t){return t===Vr?{}:t===ke?[]:t}function R0(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function P0(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function F0(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var mn=class{},$i=class{};var tu=class extends mn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zo(this);let i=Wp(e);this._bootstrapComponents=Jg(i.bootstrap),this._r3Injector=Ng(e,n,[{provide:mn,useValue:this},{provide:Zr,useValue:this.componentFactoryResolver},...r],Oe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},nu=class extends $i{constructor(e){super(),this.moduleType=e}create(e){return new tu(this.moduleType,e,[])}};var Go=class extends mn{constructor(e){super(),this.componentFactoryResolver=new zo(this),this.instance=null;let n=new Ri([...e.providers,{provide:mn,useValue:this},{provide:Zr,useValue:this.componentFactoryResolver}],e.parent||yu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Yu(t,e,n=null){return new Go({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ga=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ce(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Jr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function k0(t){return(t.flags&32)===32}function L0(t,e,n,r,i,s,o,a,l){let c=e.consts,u=Gi(e,t,4,o||null,zr(c,a));Gu(e,n,u,zr(c,l)),aa(e,u);let d=u.tView=Hu(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function gt(t,e,n,r,i,s,o,a){let l=re(),c=Ae(),u=t+Et,d=c.firstCreatePass?L0(u,c,l,e,n,r,i,s,o):c.data[u];Yn(d,!1);let h=j0(c,l,d,t);sa()&&ua(c,l,h,d),gn(h,l);let f=pm(h,l,h,d);return l[u]=f,ha(l,f),M0(f,d,l),na(d)&&Uu(c,l,d),o!=null&&Bu(l,d,a),gt}var j0=V0;function V0(t,e,n,r){return oa(!0),e[he].createComment("")}function Ep(...t){}function $0(){let t=typeof Bt.requestAnimationFrame=="function",e=Bt[t?"requestAnimationFrame":"setTimeout"],n=Bt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Te(!1),this.onMicrotaskEmpty=new Te(!1),this.onStable=new Te(!1),this.onError=new Te(!1),typeof Zone>"u")throw new y(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=$0().nativeRequestAnimationFrame,H0(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new y(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new y(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,U0,Ep,Ep);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},U0={};function Zu(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function B0(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Bt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ru(t),t.isCheckStableRunning=!0,Zu(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ru(t))}function H0(t){let e=()=>{B0(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(z0(a))return n.invokeTask(i,s,o,a);try{return Ip(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Sp(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return Ip(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Sp(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ru(t),Zu(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ru(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Ip(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Sp(t){t._nesting--,Zu(t)}function z0(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function wn(t,e,n,r){let i=re(),s=ra();if(Jr(i,s,e)){let o=Ae(),a=ia();LC(a,i,t,e,n,r)}return wn}function Sm(t,e,n,r){return Jr(t,ra(),n)?e+Yo(n)+r:Jt}function Eo(t,e){return t<<17|e<<2}function Wn(t){return t>>17&32767}function G0(t){return(t&2)==2}function q0(t,e){return t&131071|e<<17}function iu(t){return t|2}function qr(t){return(t&131068)>>2}function yc(t,e){return t&-131069|e<<2}function W0(t){return(t&1)===1}function su(t){return t|1}function K0(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Wn(o),l=qr(o);t[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Bi(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let h=Wn(t[a+1]);t[r+1]=Eo(h,a),h!==0&&(t[h+1]=yc(t[h+1],r)),t[a+1]=q0(t[a+1],r)}else t[r+1]=Eo(a,0),a!==0&&(t[a+1]=yc(t[a+1],r)),a=r;else t[r+1]=Eo(l,0),a===0?a=r:t[l+1]=yc(t[l+1],r),l=r;c&&(t[r+1]=iu(t[r+1])),Tp(t,u,r,!0),Tp(t,u,r,!1),Q0(e,u,t,r,s),o=Eo(a,l),s?e.classBindings=o:e.styleBindings=o}function Q0(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Bi(s,e)>=0&&(n[r+1]=su(n[r+1]))}function Tp(t,e,n,r){let i=t[n+1],s=e===null,o=r?Wn(i):qr(i),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],c=t[o+1];Y0(l,e)&&(a=!0,t[o+1]=r?su(c):iu(c)),o=r?Wn(c):qr(c)}a&&(t[n+1]=r?iu(i):su(i))}function Y0(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Bi(t,e)>=0:!1}var ct={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Z0(t){return t.substring(ct.key,ct.keyEnd)}function J0(t){return X0(t),Tm(t,Mm(t,0,ct.textEnd))}function Tm(t,e){let n=ct.textEnd;return n===e?-1:(e=ct.keyEnd=eE(t,ct.key=e,n),Mm(t,e,n))}function X0(t){ct.key=0,ct.keyEnd=0,ct.value=0,ct.valueEnd=0,ct.textEnd=t.length}function Mm(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function eE(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Q(t,e,n){let r=re(),i=ra();if(Jr(r,i,e)){let s=Ae(),o=ia();zu(s,o,r,t,e,r[he],n,!1)}return Q}function ou(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";qu(t,n,s[o],o,r)}function er(t,e,n){return Am(t,e,n,!1),er}function ma(t,e){return Am(t,e,null,!0),ma}function Xt(t){nE(lE,tE,t,!0)}function tE(t,e){for(let n=J0(e);n>=0;n=Tm(e,n))pu(t,Z0(e),!0)}function Am(t,e,n,r){let i=re(),s=Ae(),o=fg(2);if(s.firstUpdatePass&&Nm(s,t,o,r),e!==Jt&&Jr(i,o,e)){let a=s.data[Zn()];Om(s,a,i,i[he],t,i[o+1]=uE(e,n),r,o)}}function nE(t,e,n,r){let i=Ae(),s=fg(2);i.firstUpdatePass&&Nm(i,null,s,r);let o=re();if(n!==Jt&&Jr(o,s,n)){let a=i.data[Zn()];if(Rm(a,r)&&!xm(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=bc(l,n||"")),ou(i,a,o,n,r)}else cE(i,a,o,o[he],o[s+1],o[s+1]=aE(t,e,n),r,s)}}function xm(t,e){return e>=t.expandoStartIndex}function Nm(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Zn()],o=xm(t,n);Rm(s,r)&&e===null&&!o&&(e=!1),e=rE(i,s,e,r),K0(i,s,e,n,o,r)}}function rE(t,e,n,r){let i=hg(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=vc(null,t,e,n,r),n=Ui(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=vc(i,t,e,n,r),s===null){let l=iE(t,e,r);l!==void 0&&Array.isArray(l)&&(l=vc(null,t,e,l[1],r),l=Ui(l,e.attrs,r),sE(t,e,r,l))}else s=oE(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function iE(t,e,n){let r=n?e.classBindings:e.styleBindings;if(qr(r)!==0)return t[Wn(r)]}function sE(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Wn(i)]=r}function oE(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Ui(r,o,n)}return Ui(r,e.attrs,n)}function vc(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ui(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ui(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),pu(t,o,n?!0:e[++s]))}return t===void 0?null:t}function aE(t,e,n){if(n==null||n==="")return ke;let r=[],i=Mt(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function lE(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&pu(t,r,n)}function cE(t,e,n,r,i,s,o,a){i===Jt&&(i=ke);let l=0,c=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let h=l<i.length?i[l+1]:void 0,f=c<s.length?s[c+1]:void 0,g=null,m;u===d?(l+=2,c+=2,h!==f&&(g=d,m=f)):d===null||u!==null&&u<d?(l+=2,g=u):(c+=2,g=d,m=f),g!==null&&Om(t,e,n,r,g,m,o,a),u=l<i.length?i[l]:null,d=c<s.length?s[c]:null}}function Om(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=W0(c)?Mp(l,e,n,i,qr(c),o):void 0;if(!qo(u)){qo(s)||G0(c)&&(s=Mp(l,null,n,i,a,o));let d=sg(Zn(),n);gC(r,o,d,i,s)}}function Mp(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[i+1];h===Jt&&(h=d?ke:void 0);let f=d?ac(h,r):u===r?h:void 0;if(c&&!qo(f)&&(f=ac(l,r)),qo(f)&&(a=f,o))return a;let g=t[i+1];i=o?Wn(g):qr(g)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=ac(l,r))}return a}function qo(t){return t!==void 0}function uE(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Oe(Mt(t)))),t}function Rm(t,e){return(t.flags&(e?8:16))!==0}function dE(t,e,n,r,i,s){let o=e.consts,a=zr(o,i),l=Gi(e,t,2,r,a);return Gu(e,n,l,zr(o,s)),l.attrs!==null&&Ho(l,l.attrs,!1),l.mergedAttrs!==null&&Ho(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function k(t,e,n,r){let i=re(),s=Ae(),o=Et+t,a=i[he],l=s.firstCreatePass?dE(o,s,i,e,n,r):s.data[o],c=fE(s,i,l,a,e,t);i[o]=c;let u=na(l);return Yn(l,!0),om(a,c,l),!k0(l)&&sa()&&ua(s,i,c,l),LD()===0&&gn(c,i),jD(),u&&(Uu(s,i,l),$u(s,l,i)),r!==null&&Bu(i,l),k}function $(){let t=Ue();Iu()?dg():(t=t.parent,Yn(t,!1));let e=t;UD(e)&&BD(),VD();let n=Ae();return n.firstCreatePass&&(aa(n,t),_u(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&tb(e)&&ou(n,e,re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&nb(e)&&ou(n,e,re(),e.stylesWithoutHost,!1),$}function te(t,e,n,r){return k(t,e,n,r),$(),te}var fE=(t,e,n,r,i,s)=>(oa(!0),Xg(r,i,ZD()));function hE(t,e,n,r,i){let s=e.consts,o=zr(s,r),a=Gi(e,t,8,"ng-container",o);o!==null&&Ho(a,o,!0);let l=zr(s,i);return Gu(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function ya(t,e,n){let r=re(),i=Ae(),s=t+Et,o=i.firstCreatePass?hE(s,i,r,e,n):i.data[s];Yn(o,!0);let a=pE(i,r,o,t);return r[s]=a,sa()&&ua(i,r,a,o),gn(a,r),na(o)&&(Uu(i,r,o),$u(i,o,r)),n!=null&&Bu(r,o),ya}function va(){let t=Ue(),e=Ae();return Iu()?dg():(t=t.parent,Yn(t,!1)),e.firstCreatePass&&(aa(e,t),_u(t)&&e.queries.elementEnd(t)),va}var pE=(t,e,n,r)=>(oa(!0),Zb(e[he],""));function Ju(){return re()}function Xu(t,e,n){let r=re(),i=ra();if(Jr(r,i,e)){let s=Ae(),o=ia(),a=hg(s.data),l=HC(a,o,r);zu(s,o,r,t,e,l,n,!0)}return Xu}var Wo="en-US";var gE=Wo;function mE(t){typeof t=="string"&&(gE=t.toLowerCase().replace(/_/g,"-"))}function ce(t,e,n,r){let i=re(),s=Ae(),o=Ue();return vE(s,i,i[he],o,t,e,r),ce}function yE(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Pi],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function vE(t,e,n,r,i,s,o){let a=na(r),c=t.firstCreatePass&&BC(t),u=e[dt],d=UC(e),h=!0;if(r.type&3||o){let m=Ze(r,e),v=o?o(m):m,D=d.length,j=o?A=>o(It(A[r.index])):r.index,F=null;if(!o&&a&&(F=yE(t,e,i,r.index)),F!==null){let A=F.__ngLastListenerFn__||F;A.__ngNextListenerFn__=s,F.__ngLastListenerFn__=s,h=!1}else{s=xp(r,e,u,s,!1);let A=n.listen(v,i,s);d.push(s,A),c&&c.push(i,j,D,D+1)}}else s=xp(r,e,u,s,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let m=g.length;if(m)for(let v=0;v<m;v+=2){let D=g[v],j=g[v+1],fe=e[D][j].subscribe(s),ue=d.length;d.push(s,fe),c&&c.push(i,r.index,ue,-(ue+1))}}}function Ap(t,e,n,r){let i=Z(null);try{return _t(6,e,n),n(r)!==!1}catch(s){return mm(t,s),!1}finally{_t(7,e,n),Z(i)}}function xp(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?yn(t.index,e):e;Ku(a);let l=Ap(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)l=Ap(e,n,c,o)&&l,c=c.__ngNextListenerFn__;return i&&l===!1&&o.preventDefault(),l}}function Pe(t=1){return YD(t)}function tr(t,e,n){return Pm(t,"",e,"",n),tr}function Pm(t,e,n,r,i){let s=re(),o=Sm(s,e,n,r);if(o!==Jt){let a=Ae(),l=ia();zu(a,l,s,t,o,s[he],i,!1)}return Pm}function Fm(t){let e=zD();return OD(e,Et+t)}function Y(t,e=""){let n=re(),r=Ae(),i=t+Et,s=r.firstCreatePass?Gi(r,i,1,e,null):r.data[i],o=wE(r,n,s,e,t);n[i]=o,sa()&&ua(r,n,o,s),Yn(s,!1)}var wE=(t,e,n,r,i)=>(oa(!0),Qb(e[he],r));function _n(t,e,n){let r=re(),i=Sm(r,t,e,n);return i!==Jt&&zC(r,Zn(),i),_n}function _E(t,e,n){let r=Ae();if(r.firstCreatePass){let i=Ht(t);au(n,r.data,r.blueprint,i,!0),au(e,r.data,r.blueprint,i,!1)}}function au(t,e,n,r,i){if(t=Ne(t),Array.isArray(t))for(let s=0;s<t.length;s++)au(t[s],e,n,r,i);else{let s=Ae(),o=re(),a=Ue(),l=Ur(t)?t:Ne(t.provide),c=Xp(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Ur(t)||!t.multi){let f=new zn(c,i,I),g=_c(l,e,i?u:u+h,d);g===-1?(Rc(Vo(a,o),s,l),wc(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{let f=_c(l,e,u+h,d),g=_c(l,e,u,u+h),m=f>=0&&n[f],v=g>=0&&n[g];if(i&&!v||!i&&!m){Rc(Vo(a,o),s,l);let D=CE(i?bE:DE,n.length,i,r,c);!i&&v&&(n[g].providerFactory=D),wc(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),o.push(D)}else{let D=km(n[i?g:f],c,!i&&r);wc(s,t,f>-1?f:g,D)}!i&&r&&v&&n[g].componentProviders++}}}function wc(t,e,n,r){let i=Ur(e),s=pD(e);if(i||s){let l=(s?Ne(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function km(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function _c(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function DE(t,e,n,r){return lu(this.multi,[])}function bE(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Gr(n,n[q],this.providerFactory.index,r);s=a.slice(0,o),lu(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],lu(i,s);return s}function lu(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function CE(t,e,n,r,i){let s=new zn(t,n,I);return s.multi=[],s.index=e,s.componentProviders=0,km(s,i,r&&!n),s}function wa(t,e=[]){return n=>{n.providersResolver=(r,i)=>_E(r,i?i(t):t,e)}}var EE=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Yp(!1,r.type),s=i.length>0?Yu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=C({token:e,providedIn:"environment",factory:()=>new e(M(Ye))});let t=e;return t})();function ge(t){pa("NgStandalone"),t.getStandaloneInjector=e=>e.get(EE).getOrCreateStandaloneInjector(t)}function Lm(t,e){return Cm(t,e)}var _a=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var jm=new x("");function nr(t){return!!t&&typeof t.then=="function"}function Vm(t){return!!t&&typeof t.subscribe=="function"}var $m=new x(""),Um=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=_($m,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(nr(o))r.push(o);else if(Vm(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ed=new x("");function IE(){bh(()=>{throw new y(600,!1)})}function SE(t){return t.isBoundToModule}function TE(t,e,n){try{let r=n();return nr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var en=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_(Og),this.afterRenderEffectManager=_(Em),this.externalTestViews=new Set,this.beforeRender=new ae,this.afterTick=new ae,this.componentTypes=[],this.components=[],this.isStable=_(ga).hasPendingTasks.pipe(z(r=>!r)),this._injector=_(Ye)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Bo;if(!this._injector.get(Um).done){let f=!s&&qp(r),g=!1;throw new y(405,g)}let a;s?a=r:a=this._injector.get(Zr).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=SE(a)?void 0:this._injector.get(mn),c=i||a.selector,u=a.create(Tt.NULL,[],c,l),d=u.location.nativeElement,h=u.injector.get(jm,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Dc(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new y(101,!1);let i=Z(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,Z(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===vm)throw new y(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:l}of this._views)ME(a,o,l)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>cu(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>cu(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Dc(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(ed,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Dc(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new y(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Dc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ME(t,e,n){!e&&!cu(t)||AE(t,n,e)}function cu(t){return bu(t)}function AE(t,e,n){let r;n?(r=0,t[T]|=1024):t[T]&64?r=0:r=1,wm(t,e,r)}var uu=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},td=(()=>{let e=class e{compileModuleSync(r){return new nu(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Wp(r),o=Jg(s.declarations).reduce((a,l)=>{let c=$n(l);return c&&a.push(new Vi(c)),a},[]);return new uu(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xE=(()=>{let e=class e{constructor(){this.zone=_(ie),this.applicationRef=_(en)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NE(t){return[{provide:ie,useFactory:t},{provide:$r,multi:!0,useFactory:()=>{let e=_(xE,{optional:!0});return()=>e.initialize()}},{provide:$r,multi:!0,useFactory:()=>{let e=_(FE);return()=>{e.initialize()}}},{provide:Og,useFactory:OE}]}function OE(){let t=_(ie),e=_(zt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function RE(t){let e=NE(()=>new ie(PE(t)));return Kr([[],e])}function PE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var FE=(()=>{let e=class e{constructor(){this.subscription=new ye,this.initialized=!1,this.zone=_(ie),this.pendingTasks=_(ga)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kE(){return typeof $localize<"u"&&$localize.locale||Wo}var nd=new x("",{providedIn:"root",factory:()=>_(nd,V.Optional|V.SkipSelf)||kE()});var Bm=new x("");var Ao=null;function LE(t=[],e){return Tt.create({name:e,providers:[{provide:Jo,useValue:"platform"},{provide:Bm,useValue:new Set([()=>Ao=null])},...t]})}function jE(t=[]){if(Ao)return Ao;let e=LE(t);return Ao=e,IE(),VE(e),e}function VE(t){t.get(xu,null)?.forEach(n=>n())}var Xr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$E;let t=e;return t})();function $E(t){return UE(Ue(),re(),(t&16)===16)}function UE(t,e,n){if(ta(t)&&!n){let r=yn(t.index,e);return new Gn(r,r)}else if(t.type&47){let r=e[Ct];return new Gn(r,e)}return null}function Hm(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=jE(r),s=[RE(),...n||[]],a=new Go({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(ie);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(zt,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:f=>{c.handleError(f)}})});let d=()=>a.destroy(),h=i.get(Bm);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),TE(c,l,()=>{let f=a.get(Um);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(nd,Wo);mE(g||Wo);let m=a.get(en);return e!==void 0&&m.bootstrap(e),m})})})}catch(e){return Promise.reject(e)}}var Qm=null;function tn(){return Qm}function Ym(t){Qm??=t}var Da=class{};var De=new x(""),Zm=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>_(zE),providedIn:"platform"});let t=e;return t})();var zE=(()=>{let e=class e extends Zm{constructor(){super(),this._doc=_(De),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tn().getBaseHref(this._doc)}onPopState(r){let i=tn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=tn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Jm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function zm(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function rr(t){return t&&t[0]!=="?"?"?"+t:t}var Ca=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>_(Xm),providedIn:"root"});let t=e;return t})(),GE=new x(""),Xm=(()=>{let e=class e extends Ca{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??_(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Jm(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+rr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+rr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+rr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(M(Zm),M(GE,8))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Wi=(()=>{let e=class e{constructor(r){this._subject=new Te,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=KE(zm(Gm(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+rr(i))}normalize(r){return e.stripTrailingSlash(WE(this._basePath,Gm(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+rr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+rr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=rr,e.joinWithSlash=Jm,e.stripTrailingSlash=zm,e.\u0275fac=function(i){return new(i||e)(M(Ca))},e.\u0275prov=C({token:e,factory:()=>qE(),providedIn:"root"});let t=e;return t})();function qE(){return new Wi(M(Ca))}function WE(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Gm(t){return t.replace(/\/index.html$/,"")}function KE(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function ey(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var rd=/\s+/,qm=[],ty=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=qm,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(rd):qm}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(rd):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(rd).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(I(Yt),I(Xn))},e.\u0275dir=Re({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Le.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var ir=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new id,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Wm("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Wm("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(I(qi),I(Qu))},e.\u0275dir=Re({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),id=class{constructor(){this.$implicit=null,this.ngIf=null}};function Wm(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Oe(e)}'.`)}var Ki=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kt({type:e}),e.\u0275inj=Wt({});let t=e;return t})(),ny="browser",QE="server";function od(t){return t===QE}var ba=class{};var cd=class extends Da{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ud=class t extends cd{static makeCurrent(){Ym(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ZE();return n==null?null:JE(n)}resetBaseElement(){Qi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ey(document.cookie,e)}},Qi=null;function ZE(){return Qi=Qi||document.querySelector("base"),Qi?Qi.getAttribute("href"):null}function JE(t){return new URL(t,document.baseURI).pathname}var XE=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),dd=new x(""),oy=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new y(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(M(dd),M(ie))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Ea=class{constructor(e){this._doc=e}},ad="ng-app-id",ay=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=od(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${ad}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(ad),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(ad,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(M(De),M(Au),M(Ou,8),M(Yr))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),ld={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hd=/%COMP%/g,ly="%COMP%",eI=`_nghost-${ly}`,tI=`_ngcontent-${ly}`,nI=!0,rI=new x("",{providedIn:"root",factory:()=>nI});function iI(t){return tI.replace(hd,t)}function sI(t){return eI.replace(hd,t)}function cy(t,e){return e.map(n=>n.replace(hd,t))}var Ia=(()=>{let e=class e{constructor(r,i,s,o,a,l,c,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=od(l),this.defaultRenderer=new Yi(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===bt.ShadowDom&&(i=G(w({},i),{encapsulation:bt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Sa?s.applyToHost(r):s instanceof Zi&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case bt.Emulated:o=new Sa(c,u,i,this.appId,d,a,l,h);break;case bt.ShadowDom:return new fd(c,u,r,i,a,l,this.nonce,h);default:o=new Zi(c,u,i,d,a,l,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(M(oy),M(ay),M(Au),M(rI),M(De),M(Yr),M(ie),M(Ou))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Yi=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ld[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(iy(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(iy(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new y(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=ld[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=ld[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(qt.DashCase|qt.Important)?e.style.setProperty(n,r,i&qt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&qt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=tn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function iy(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var fd=class extends Yi{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=cy(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Zi=class extends Yi{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?cy(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Sa=class extends Zi{constructor(e,n,r,i,s,o,a,l){let c=i+"-"+r.id;super(e,n,r,s,o,a,l,c),this.contentAttr=iI(c),this.hostAttr=sI(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},oI=(()=>{let e=class e extends Ea{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(M(De))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),sy=["alt","control","meta","shift"],aI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lI={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},cI=(()=>{let e=class e extends Ea{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),sy.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=aI[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),sy.forEach(a=>{if(a!==s){let l=lI[a];l(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(M(De))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();function uy(t,e){return Hm(w({rootComponent:t},uI(e)))}function uI(t){return{appProviders:[...gI,...t?.providers??[]],platformProviders:pI}}function dI(){ud.makeCurrent()}function fI(){return new zt}function hI(){return Vg(document),document}var pI=[{provide:Yr,useValue:ny},{provide:xu,useValue:dI,multi:!0},{provide:De,useFactory:hI,deps:[]}];var gI=[{provide:Jo,useValue:"root"},{provide:zt,useFactory:fI,deps:[]},{provide:dd,useClass:oI,multi:!0,deps:[De,ie,Yr]},{provide:dd,useClass:cI,multi:!0,deps:[De]},Ia,ay,oy,{provide:qn,useExisting:Ia},{provide:ba,useClass:XE,deps:[]},[]];var dy=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(M(De))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=M(mI),s},providedIn:"root"});let t=e;return t})(),mI=(()=>{let e=class e extends pd{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case pt.NONE:return i;case pt.HTML:return Jn(i,"HTML")?Mt(i):Fu(this._doc,String(i)).toString();case pt.STYLE:return Jn(i,"Style")?Mt(i):i;case pt.SCRIPT:if(Jn(i,"Script"))return Mt(i);throw new y(5200,!1);case pt.URL:return Jn(i,"URL")?Mt(i):Pu(String(i));case pt.RESOURCE_URL:if(Jn(i,"ResourceURL"))return Mt(i);throw new y(5201,!1);default:throw new y(5202,!1)}}bypassSecurityTrustHtml(r){return Bg(r)}bypassSecurityTrustStyle(r){return Hg(r)}bypassSecurityTrustScript(r){return zg(r)}bypassSecurityTrustUrl(r){return Gg(r)}bypassSecurityTrustResourceUrl(r){return qg(r)}};e.\u0275fac=function(i){return new(i||e)(M(De))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var P="primary",fs=Symbol("RouteTitle"),wd=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ii(t){return new wd(t)}function yI(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function vI(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!At(t[n],e[n]))return!1;return!0}function At(t,e){let n=t?_d(t):void 0,r=e?_d(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!vy(t[i],e[i]))return!1;return!0}function _d(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function vy(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function wy(t){return t.length>0?t[t.length-1]:null}function Cn(t){return Xl(t)?t:nr(t)?le(Promise.resolve(t)):O(t)}var wI={exact:Dy,subset:by},_y={exact:_I,subset:DI,ignored:()=>!0};function hy(t,e,n){return wI[n.paths](t.root,e.root,n.matrixParams)&&_y[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function _I(t,e){return At(t,e)}function Dy(t,e,n){if(!or(t.segments,e.segments)||!Aa(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Dy(t.children[r],e.children[r],n))return!1;return!0}function DI(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>vy(t[n],e[n]))}function by(t,e,n){return Cy(t,e,e.segments,n)}function Cy(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!or(i,n)||e.hasChildren()||!Aa(i,n,r))}else if(t.segments.length===n.length){if(!or(t.segments,n)||!Aa(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!by(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!or(t.segments,i)||!Aa(t.segments,i,r)||!t.children[P]?!1:Cy(t.children[P],e,s,r)}}function Aa(t,e,n){return e.every((r,i)=>_y[n](t[i].parameters,r.parameters))}var Dn=class{constructor(e=new ee([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ii(this.queryParams),this._queryParamMap}toString(){return EI.serialize(this)}},ee=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xa(this)}},sr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ii(this.parameters),this._parameterMap}toString(){return Iy(this)}};function bI(t,e){return or(t,e)&&t.every((n,r)=>At(n.parameters,e[r].parameters))}function or(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function CI(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===P&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==P&&(n=n.concat(e(i,r)))}),n}var qd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>new Oa,providedIn:"root"});let t=e;return t})(),Oa=class{parse(e){let n=new bd(e);return new Dn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ji(e.root,!0)}`,r=TI(e.queryParams),i=typeof e.fragment=="string"?`#${II(e.fragment)}`:"";return`${n}${r}${i}`}},EI=new Oa;function xa(t){return t.segments.map(e=>Iy(e)).join("/")}function Ji(t,e){if(!t.hasChildren())return xa(t);if(e){let n=t.children[P]?Ji(t.children[P],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==P&&r.push(`${i}:${Ji(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=CI(t,(r,i)=>i===P?[Ji(t.children[P],!1)]:[`${i}:${Ji(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[P]!=null?`${xa(t)}/${n[0]}`:`${xa(t)}/(${n.join("//")})`}}function Ey(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ta(t){return Ey(t).replace(/%3B/gi,";")}function II(t){return encodeURI(t)}function Dd(t){return Ey(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Na(t){return decodeURIComponent(t)}function py(t){return Na(t.replace(/\+/g,"%20"))}function Iy(t){return`${Dd(t.path)}${SI(t.parameters)}`}function SI(t){return Object.entries(t).map(([e,n])=>`;${Dd(e)}=${Dd(n)}`).join("")}function TI(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ta(n)}=${Ta(i)}`).join("&"):`${Ta(n)}=${Ta(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var MI=/^[^\/()?;#]+/;function gd(t){let e=t.match(MI);return e?e[0]:""}var AI=/^[^\/()?;=#]+/;function xI(t){let e=t.match(AI);return e?e[0]:""}var NI=/^[^=?&#]+/;function OI(t){let e=t.match(NI);return e?e[0]:""}var RI=/^[^&#]+/;function PI(t){let e=t.match(RI);return e?e[0]:""}var bd=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[P]=new ee(e,n)),r}parseSegment(){let e=gd(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new y(4009,!1);return this.capture(e),new sr(Na(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=xI(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=gd(this.remaining);i&&(r=i,this.capture(r))}e[Na(n)]=Na(r)}parseQueryParam(e){let n=OI(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=PI(this.remaining);o&&(r=o,this.capture(r))}let i=py(n),s=py(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=gd(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new y(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=P);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[P]:new ee([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new y(4011,!1)}};function Sy(t){return t.segments.length>0?new ee([],{[P]:t}):t}function Ty(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Ty(i);if(r===P&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ee(t.segments,e);return FI(n)}function FI(t){if(t.numberOfChildren===1&&t.children[P]){let e=t.children[P];return new ee(t.segments.concat(e.segments),e.children)}return t}function si(t){return t instanceof Dn}function kI(t,e,n=null,r=null){let i=My(t);return Ay(i,e,n,r)}function My(t){let e;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new ee(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=Sy(r);return e??i}function Ay(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return md(i,i,i,n,r);let s=LI(e);if(s.toRoot())return md(i,i,new ee([],{}),n,r);let o=jI(s,i,t),a=o.processChildren?ts(o.segmentGroup,o.index,s.commands):Ny(o.segmentGroup,o.index,s.commands);return md(i,o.segmentGroup,a,n,r)}function Ra(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function is(t){return typeof t=="object"&&t!=null&&t.outlets}function md(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;t===e?o=n:o=xy(t,e,n);let a=Sy(Ty(o));return new Dn(a,s,i)}function xy(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=xy(s,e,n)}),new ee(t.segments,r)}var Pa=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ra(r[0]))throw new y(4003,!1);let i=r.find(is);if(i&&i!==wy(r))throw new y(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function LI(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Pa(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Pa(n,e,r)}var ni=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function jI(t,e,n){if(t.isAbsolute)return new ni(e,!0,0);if(!n)return new ni(e,!1,NaN);if(n.parent===null)return new ni(n,!0,0);let r=Ra(t.commands[0])?0:1,i=n.segments.length-1+r;return VI(n,i,t.numberOfDoubleDots)}function VI(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new y(4005,!1);i=r.segments.length}return new ni(r,!1,i-s)}function $I(t){return is(t[0])?t[0].outlets:{[P]:t}}function Ny(t,e,n){if(t??=new ee([],{}),t.segments.length===0&&t.hasChildren())return ts(t,e,n);let r=UI(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ee(t.segments.slice(0,r.pathIndex),{});return s.children[P]=new ee(t.segments.slice(r.pathIndex),t.children),ts(s,0,i)}else return r.match&&i.length===0?new ee(t.segments,{}):r.match&&!t.hasChildren()?Cd(t,e,n):r.match?ts(t,0,i):Cd(t,e,n)}function ts(t,e,n){if(n.length===0)return new ee(t.segments,{});{let r=$I(n),i={};if(Object.keys(r).some(s=>s!==P)&&t.children[P]&&t.numberOfChildren===1&&t.children[P].segments.length===0){let s=ts(t.children[P],e,n);return new ee(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Ny(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ee(t.segments,i)}}function UI(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(is(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!my(l,c,o))return s;r+=2}else{if(!my(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Cd(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(is(s)){let l=BI(s.outlets);return new ee(r,l)}if(i===0&&Ra(n[0])){let l=t.segments[e];r.push(new sr(l.path,gy(n[0]))),i++;continue}let o=is(s)?s.outlets[P]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ra(a)?(r.push(new sr(o,gy(a))),i+=2):(r.push(new sr(o,{})),i++)}return new ee(r,{})}function BI(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Cd(new ee([],{}),0,r))}),e}function gy(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function my(t,e,n){return t==n.path&&At(e,n.parameters)}var ns="imperative",Ie=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ie||{}),Je=class{constructor(e,n){this.id=e,this.url=n}},ss=class extends Je{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ie.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ar=class extends Je{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ie.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},He=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(He||{}),Ed=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ed||{}),bn=class extends Je{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ie.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},lr=class extends Je{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ie.NavigationSkipped}},os=class extends Je{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ie.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Fa=class extends Je{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ie.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Id=class extends Je{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ie.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sd=class extends Je{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ie.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Td=class extends Je{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ie.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Md=class extends Je{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ie.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ad=class{constructor(e){this.route=e,this.type=Ie.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},xd=class{constructor(e){this.route=e,this.type=Ie.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Nd=class{constructor(e){this.snapshot=e,this.type=Ie.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Od=class{constructor(e){this.snapshot=e,this.type=Ie.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rd=class{constructor(e){this.snapshot=e,this.type=Ie.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pd=class{constructor(e){this.snapshot=e,this.type=Ie.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var as=class{},ls=class{constructor(e){this.url=e}};var Fd=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ua,this.attachRef=null}},Ua=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Fd,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ka=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=kd(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=kd(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ld(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ld(e,this._root).map(n=>n.value)}};function kd(t,e){if(t===e.value)return e;for(let n of e.children){let r=kd(t,n);if(r)return r}return null}function Ld(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Ld(t,n);if(r.length)return r.unshift(e),r}return[]}var Be=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ti(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var La=class extends ka{constructor(e,n){super(e),this.snapshot=n,Kd(this,e)}toString(){return this.snapshot.toString()}};function Oy(t){let e=HI(t),n=new Ce([new sr("",{})]),r=new Ce({}),i=new Ce({}),s=new Ce({}),o=new Ce(""),a=new oi(n,r,s,o,i,P,t,e.root);return a.snapshot=e.root,new La(new Be(a,[]),e)}function HI(t){let e={},n={},r={},i="",s=new cs([],e,r,i,n,P,t,null,{});return new ja("",new Be(s,[]))}var oi=class{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(z(c=>c[fs]))??O(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(z(e=>ii(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(z(e=>ii(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Wd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:w(w({},e.params),t.params),data:w(w({},e.data),t.data),resolve:w(w(w(w({},t.data),e.data),i?.data),t._resolvedData)}:r={params:w({},t.params),data:w({},t.data),resolve:w(w({},t.data),t._resolvedData??{})},i&&Py(i)&&(r.resolve[fs]=i.title),r}var cs=class{get title(){return this.data?.[fs]}constructor(e,n,r,i,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ii(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ii(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ja=class extends ka{constructor(e,n){super(n),this.url=e,Kd(this,n)}toString(){return Ry(this._root)}};function Kd(t,e){e.value._routerState=t,e.children.forEach(n=>Kd(t,n))}function Ry(t){let e=t.children.length>0?` { ${t.children.map(Ry).join(", ")} } `:"";return`${t.value}${e}`}function yd(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,At(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),At(e.params,n.params)||t.paramsSubject.next(n.params),vI(e.url,n.url)||t.urlSubject.next(n.url),At(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function jd(t,e){let n=At(t.params,e.params)&&bI(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||jd(t.parent,e.parent))}function Py(t){return typeof t.title=="string"||t.title===null}var Qd=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=P,this.activateEvents=new Te,this.deactivateEvents=new Te,this.attachEvents=new Te,this.detachEvents=new Te,this.parentContexts=_(Ua),this.location=_(qi),this.changeDetector=_(Xr),this.environmentInjector=_(Ye),this.inputBinder=_(Yd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new y(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Vd(r,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Re({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qn]});let t=e;return t})(),Vd=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===oi?this.route:e===Ua?this.childContexts:this.parent.get(e,n)}},Yd=new x("");function zI(t,e,n){let r=us(t,e._root,n?n._root:void 0);return new La(r,e)}function us(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=GI(t,e,n);return new Be(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>us(t,a)),o}}let r=qI(e.value),i=e.children.map(s=>us(t,s));return new Be(r,i)}}function GI(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return us(t,r,i);return us(t,r)})}function qI(t){return new oi(new Ce(t.url),new Ce(t.params),new Ce(t.queryParams),new Ce(t.fragment),new Ce(t.data),t.outlet,t.component,t)}var Fy="ngNavigationCancelingError";function ky(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=si(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ly(!1,He.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Ly(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Fy]=!0,n.cancellationCode=e,n}function WI(t){return jy(t)&&si(t.url)}function jy(t){return!!t&&t[Fy]}var KI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["ng-component"]],standalone:!0,features:[ge],decls:1,vars:0,template:function(i,s){i&1&&te(0,"router-outlet")},dependencies:[Qd],encapsulation:2});let t=e;return t})();function QI(t,e){return t.providers&&!t._injector&&(t._injector=Yu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Zd(t){let e=t.children&&t.children.map(Zd),n=e?G(w({},t),{children:e}):w({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==P&&(n.component=KI),n}function xt(t){return t.outlet||P}function YI(t,e){let n=t.filter(r=>xt(r)===e);return n.push(...t.filter(r=>xt(r)!==e)),n}function hs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ZI=(t,e,n,r)=>z(i=>(new $d(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),$d=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),yd(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ti(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ti(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ti(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ti(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Pd(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Od(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(yd(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),yd(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=hs(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Va=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ri=class{constructor(e,n){this.component=e,this.route=n}};function JI(t,e,n){let r=t._root,i=e?e._root:null;return Xi(r,i,n,[r.value])}function XI(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function li(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Rp(t)?t:e.get(t):r}function Xi(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ti(e);return t.children.forEach(o=>{eS(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>rs(a,n.getContext(o),i)),i}function eS(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=tS(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Va(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Xi(t,e,a?a.children:null,r,i):Xi(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ri(a.outlet.component,o))}else o&&rs(e,a,i),i.canActivateChecks.push(new Va(r)),s.component?Xi(t,null,a?a.children:null,r,i):Xi(t,null,n,r,i);return i}function tS(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!or(t.url,e.url);case"pathParamsOrQueryParamsChange":return!or(t.url,e.url)||!At(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jd(t,e)||!At(t.queryParams,e.queryParams);case"paramsChange":default:return!jd(t,e)}}function rs(t,e,n){let r=ti(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?rs(o,e.children.getContext(s),n):rs(o,null,n):rs(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ri(e.outlet.component,i)):n.canDeactivateChecks.push(new ri(null,i)):n.canDeactivateChecks.push(new ri(null,i))}function ps(t){return typeof t=="function"}function nS(t){return typeof t=="boolean"}function rS(t){return t&&ps(t.canLoad)}function iS(t){return t&&ps(t.canActivate)}function sS(t){return t&&ps(t.canActivateChild)}function oS(t){return t&&ps(t.canDeactivate)}function aS(t){return t&&ps(t.canMatch)}function Vy(t){return t instanceof $t||t?.name==="EmptyError"}var Ma=Symbol("INITIAL_VALUE");function ai(){return at(t=>yo(t.map(e=>e.pipe(Ut(1),sc(Ma)))).pipe(z(e=>{for(let n of e)if(n!==!0){if(n===Ma)return Ma;if(n===!1||n instanceof Dn)return n}return!0}),ot(e=>e!==Ma),Ut(1)))}function lS(t,e){return ve(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?O(G(w({},n),{guardsResult:!0})):cS(o,r,i,t).pipe(ve(a=>a&&nS(a)?uS(r,s,t,e):O(a)),z(a=>G(w({},n),{guardsResult:a})))})}function cS(t,e,n,r){return le(t).pipe(ve(i=>gS(i.component,i.route,n,e,r)),wt(i=>i!==!0,!0))}function uS(t,e,n,r){return le(e).pipe(Nr(i=>xr(fS(i.route.parent,r),dS(i.route,r),pS(t,i.path,n),hS(t,i.route,n))),wt(i=>i!==!0,!0))}function dS(t,e){return t!==null&&e&&e(new Rd(t)),O(!0)}function fS(t,e){return t!==null&&e&&e(new Nd(t)),O(!0)}function hS(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(s=>vo(()=>{let o=hs(e)??n,a=li(s,o),l=iS(a)?a.canActivate(e,t):Kn(o,()=>a(e,t));return Cn(l).pipe(wt())}));return O(i).pipe(ai())}function pS(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>XI(o)).filter(o=>o!==null).map(o=>vo(()=>{let a=o.guards.map(l=>{let c=hs(o.node)??n,u=li(l,c),d=sS(u)?u.canActivateChild(r,t):Kn(c,()=>u(r,t));return Cn(d).pipe(wt())});return O(a).pipe(ai())}));return O(s).pipe(ai())}function gS(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return O(!0);let o=s.map(a=>{let l=hs(e)??i,c=li(a,l),u=oS(c)?c.canDeactivate(t,e,n,r):Kn(l,()=>c(t,e,n,r));return Cn(u).pipe(wt())});return O(o).pipe(ai())}function mS(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return O(!0);let s=i.map(o=>{let a=li(o,t),l=rS(a)?a.canLoad(e,n):Kn(t,()=>a(e,n));return Cn(l)});return O(s).pipe(ai(),$y(r))}function $y(t){return Ql(Ee(e=>{if(si(e))throw ky(t,e)}),z(e=>e===!0))}function yS(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return O(!0);let s=i.map(o=>{let a=li(o,t),l=aS(a)?a.canMatch(e,n):Kn(t,()=>a(e,n));return Cn(l)});return O(s).pipe(ai(),$y(r))}var ds=class{constructor(e){this.segmentGroup=e||null}},$a=class extends Error{constructor(e){super(),this.urlTree=e}};function ei(t){return Ar(new ds(t))}function vS(t){return Ar(new y(4e3,!1))}function wS(t){return Ar(Ly(!1,He.GuardRejected))}var Ud=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[P])return vS(e.redirectTo);i=i.children[P]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new $a(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Dn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new ee(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new y(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Bd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _S(t,e,n,r,i){let s=Jd(t,e,n);return s.matched?(r=QI(e,r),yS(r,e,n,i).pipe(z(o=>o===!0?s:w({},Bd)))):O(s)}function Jd(t,e,n){if(e.path==="**")return DS(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?w({},Bd):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||yI)(n,t,e);if(!i)return w({},Bd);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?w(w({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function DS(t){return{matched:!0,parameters:t.length>0?wy(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function yy(t,e,n,r){return n.length>0&&ES(t,n,r)?{segmentGroup:new ee(e,CS(r,new ee(n,t.children))),slicedSegments:[]}:n.length===0&&IS(t,n,r)?{segmentGroup:new ee(t.segments,bS(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ee(t.segments,t.children),slicedSegments:n}}function bS(t,e,n,r){let i={};for(let s of n)if(Ba(t,e,s)&&!r[xt(s)]){let o=new ee([],{});i[xt(s)]=o}return w(w({},r),i)}function CS(t,e){let n={};n[P]=e;for(let r of t)if(r.path===""&&xt(r)!==P){let i=new ee([],{});n[xt(r)]=i}return n}function ES(t,e,n){return n.some(r=>Ba(t,e,r)&&xt(r)!==P)}function IS(t,e,n){return n.some(r=>Ba(t,e,r))}function Ba(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function SS(t,e,n,r){return xt(t)!==r&&(r===P||!Ba(e,n,t))?!1:Jd(e,t,n).matched}function TS(t,e,n){return e.length===0&&!t.children[n]}var Hd=class{};function MS(t,e,n,r,i,s,o="emptyOnly"){return new zd(t,e,n,r,i,o,s).recognize()}var AS=31,zd=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Ud(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new y(4002,`'${e.segmentGroup}'`)}recognize(){let e=yy(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(z(n=>{let r=new cs([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,{},P,this.rootComponentType,null,{}),i=new Be(r,n),s=new ja("",i),o=kI(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,P).pipe(dn(r=>{if(r instanceof $a)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ds?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Wd(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(z(s=>s instanceof Be?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return le(i).pipe(Nr(s=>{let o=r.children[s],a=YI(n,s);return this.processSegmentGroup(e,a,o,s)}),ic((s,o)=>(s.push(...o),s)),fn(null),rc(),ve(s=>{if(s===null)return ei(r);let o=Uy(s);return xS(o),O(o)}))}processSegment(e,n,r,i,s,o){return le(n).pipe(Nr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(dn(l=>{if(l instanceof ds)return O(null);throw l}))),wt(a=>!!a),dn(a=>{if(Vy(a))return TS(r,i,s)?O(new Hd):ei(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return SS(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ei(i):ei(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=Jd(n,i,s);if(!a)return ei(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>AS&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(ve(h=>this.processSegment(e,r,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=_S(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(at(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(at(({routes:l})=>{let c=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new cs(u,h,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,OS(r),xt(r),r.component??r._loadedComponent??null,r,RS(r)),{segmentGroup:g,slicedSegments:m}=yy(n,u,d,l);if(m.length===0&&g.hasChildren())return this.processChildren(c,l,g).pipe(z(D=>D===null?null:new Be(f,D)));if(l.length===0&&m.length===0)return O(new Be(f,[]));let v=xt(r)===s;return this.processSegment(c,l,g,m,v?P:s,!0).pipe(z(D=>new Be(f,D instanceof Be?[D]:[])))}))):ei(n)))}getChildConfig(e,n,r){return n.children?O({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):mS(e,n,r,this.urlSerializer).pipe(ve(i=>i?this.configLoader.loadChildren(e,n).pipe(Ee(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):wS(n))):O({routes:[],injector:e})}};function xS(t){t.sort((e,n)=>e.value.outlet===P?-1:n.value.outlet===P?1:e.value.outlet.localeCompare(n.value.outlet))}function NS(t){let e=t.value.routeConfig;return e&&e.path===""}function Uy(t){let e=[],n=new Set;for(let r of t){if(!NS(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Uy(r.children);e.push(new Be(r.value,i))}return e.filter(r=>!n.has(r))}function OS(t){return t.data||{}}function RS(t){return t.resolve||{}}function PS(t,e,n,r,i,s){return ve(o=>MS(t,e,n,r,o.extractedUrl,i,s).pipe(z(({state:a,tree:l})=>G(w({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function FS(t,e){return ve(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of By(l))o.add(c);let a=0;return le(o).pipe(Nr(l=>s.has(l)?kS(l,r,t,e):(l.data=Wd(l,l.parent,t).resolve,O(void 0))),Ee(()=>a++),Or(1),ve(l=>a===o.size?O(n):$e))})}function By(t){let e=t.children.map(n=>By(n)).flat();return[t,...e]}function kS(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Py(i)&&(s[fs]=i.title),LS(s,t,e,r).pipe(z(o=>(t._resolvedData=o,t.data=Wd(t,t.parent,n).resolve,null)))}function LS(t,e,n,r){let i=_d(t);if(i.length===0)return O({});let s={};return le(i).pipe(ve(o=>jS(t[o],e,n,r).pipe(wt(),Ee(a=>{s[o]=a}))),Or(1),nc(s),dn(o=>Vy(o)?$e:Ar(o)))}function jS(t,e,n,r){let i=hs(e)??r,s=li(t,i),o=s.resolve?s.resolve(e,n):Kn(i,()=>s(e,n));return Cn(o)}function vd(t){return at(e=>{let n=t(e);return n?le(n).pipe(z(()=>e)):O(e)})}var Hy=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===P);return i}getResolvedTitleForRoute(r){return r.data[fs]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>_(VS),providedIn:"root"});let t=e;return t})(),VS=(()=>{let e=class e extends Hy{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(M(dy))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xd=new x("",{providedIn:"root",factory:()=>({})}),ef=new x(""),$S=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_(td)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return O(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Cn(r.loadComponent()).pipe(z(zy),Ee(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Ai(()=>{this.componentLoaders.delete(r)})),s=new Mr(i,()=>new ae).pipe(Tr());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return O({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=US(i,this.compiler,r,this.onLoadEndListener).pipe(Ai(()=>{this.childrenLoaders.delete(i)})),a=new Mr(o,()=>new ae).pipe(Tr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function US(t,e,n,r){return Cn(t.loadChildren()).pipe(z(zy),ve(i=>i instanceof $i||Array.isArray(i)?O(i):le(e.compileModuleAsync(i))),z(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(ef,[],{optional:!0,self:!0}).flat()),{routes:o.map(Zd),injector:s}}))}function BS(t){return t&&typeof t=="object"&&"default"in t}function zy(t){return BS(t)?t.default:t}var tf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>_(HS),providedIn:"root"});let t=e;return t})(),HS=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zS=new x("");var GS=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ae,this.transitionAbortSubject=new ae,this.configLoader=_($S),this.environmentInjector=_(Ye),this.urlSerializer=_(qd),this.rootContexts=_(Ua),this.location=_(Wi),this.inputBindingEnabled=_(Yd,{optional:!0})!==null,this.titleStrategy=_(Hy),this.options=_(Xd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_(tf),this.createViewTransition=_(zS,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>O(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Ad(s)),i=s=>this.events.next(new xd(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(G(w(w({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ce({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ns,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ot(o=>o.id!==0),z(o=>G(w({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),at(o=>{let a=!1,l=!1;return O(o).pipe(at(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",He.SupersededByNewNavigation),$e;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?G(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new lr(c.id,this.urlSerializer.serialize(c.rawUrl),h,Ed.IgnoredSameUrlNavigation)),c.resolve(null),$e}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return O(c).pipe(at(h=>{let f=this.transitions?.getValue();return this.events.next(new ss(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?$e:Promise.resolve(h)}),PS(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ee(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=G(w({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Fa(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:m,extras:v}=c,D=new ss(h,this.urlSerializer.serialize(f),g,m);this.events.next(D);let j=Oy(this.rootComponentType).snapshot;return this.currentTransition=o=G(w({},c),{targetSnapshot:j,urlAfterRedirects:f,extras:G(w({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,O(o)}else{let h="";return this.events.next(new lr(c.id,this.urlSerializer.serialize(c.extractedUrl),h,Ed.IgnoredByUrlHandlingStrategy)),c.resolve(null),$e}}),Ee(c=>{let u=new Id(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),z(c=>(this.currentTransition=o=G(w({},c),{guards:JI(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),lS(this.environmentInjector,c=>this.events.next(c)),Ee(c=>{if(o.guardsResult=c.guardsResult,si(c.guardsResult))throw ky(this.urlSerializer,c.guardsResult);let u=new Sd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),ot(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",He.GuardRejected),!1)),vd(c=>{if(c.guards.canActivateChecks.length)return O(c).pipe(Ee(u=>{let d=new Td(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),at(u=>{let d=!1;return O(u).pipe(FS(this.paramsInheritanceStrategy,this.environmentInjector),Ee({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",He.NoDataFromResolver)}}))}),Ee(u=>{let d=new Md(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),vd(c=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ee(f=>{d.component=f}),z(()=>{})));for(let f of d.children)h.push(...u(f));return h};return yo(u(c.targetSnapshot.root)).pipe(fn(null),Ut(1))}),vd(()=>this.afterPreactivation()),at(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?le(d).pipe(z(()=>o)):O(o)}),z(c=>{let u=zI(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=G(w({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Ee(()=>{this.events.next(new as)}),ZI(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ut(1),Ee({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ar(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),oc(this.transitionAbortSubject.pipe(Ee(c=>{throw c}))),Ai(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",He.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),dn(c=>{if(l=!0,jy(c))this.events.next(new bn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),WI(c)?this.events.next(new ls(c.url)):o.resolve(!1);else{this.events.next(new os(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return $e}))}))}cancelNavigationTransition(r,i,s){let o=new bn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qS(t){return t!==ns}var WS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>_(KS),providedIn:"root"});let t=e;return t})(),Gd=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},KS=(()=>{let e=class e extends Gd{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Hi(e)))(s||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>_(QS),providedIn:"root"});let t=e;return t})(),QS=(()=>{let e=class e extends Gy{constructor(){super(...arguments),this.location=_(Wi),this.urlSerializer=_(qd),this.options=_(Xd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_(tf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Dn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Oy(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ss)this.stateMemento=this.createStateMemento();else if(r instanceof lr)this.rawUrlTree=i.initialUrl;else if(r instanceof Fa){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof as?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof bn&&(r.code===He.GuardRejected||r.code===He.NoDataFromResolver)?this.restoreHistory(i):r instanceof os?this.restoreHistory(i,!0):r instanceof ar&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=w(w({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=w(w({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Hi(e)))(s||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),es=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(es||{});function YS(t,e){t.events.pipe(ot(n=>n instanceof ar||n instanceof bn||n instanceof os||n instanceof lr),z(n=>n instanceof ar||n instanceof lr?es.COMPLETE:(n instanceof bn?n.code===He.Redirect||n.code===He.SupersededByNewNavigation:!1)?es.REDIRECTING:es.FAILED),ot(n=>n!==es.REDIRECTING),Ut(1)).subscribe(()=>{e()})}function ZS(t){throw t}var JS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ha=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=_(_a),this.stateManager=_(Gy),this.options=_(Xd,{optional:!0})||{},this.pendingTasks=_(ga),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_(GS),this.urlSerializer=_(qd),this.location=_(Wi),this.urlHandlingStrategy=_(tf),this._events=new ae,this.errorHandler=this.options.errorHandler||ZS,this.navigated=!1,this.routeReuseStrategy=_(WS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_(ef,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_(Yd,{optional:!0}),this.eventsSubscription=new ye,this.isNgZoneEnabled=_(ie)instanceof ie&&ie.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof bn&&i.code!==He.Redirect&&i.code!==He.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ar)this.navigated=!0;else if(i instanceof ls){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||qS(s.source)};this.scheduleNavigation(a,ns,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}tT(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ns,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=w({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Zd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=My(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return Ay(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=si(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ns,null,i)}navigate(r,i={skipLocationChange:!1}){return eT(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=w({},JS):i===!1?s=w({},XS):s=i,si(r))return hy(this.currentUrlTree,r,s);let o=this.parseUrl(r);return hy(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((h,f)=>{l=h,c=f});let d=this.pendingTasks.add();return YS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function eT(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new y(4008,!1)}function tT(t){return!(t instanceof as)&&!(t instanceof ls)}var nT=new x("");function qy(t,...e){return Kr([{provide:ef,multi:!0,useValue:t},[],{provide:oi,useFactory:rT,deps:[Ha]},{provide:ed,multi:!0,useFactory:iT},e.map(n=>n.\u0275providers)])}function rT(t){return t.routerState.root}function iT(){let t=_(Tt);return e=>{let n=t.get(en);if(e!==n.components[0])return;let r=t.get(Ha),i=t.get(sT);t.get(oT)===1&&r.initialNavigation(),t.get(aT,null,V.Optional)?.setUpPreloading(),t.get(nT,null,V.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var sT=new x("",{factory:()=>new ae}),oT=new x("",{providedIn:"root",factory:()=>1});var aT=new x("");var R=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(R||{}),Nt="*";function Wy(t,e){return{type:R.Trigger,name:t,definitions:e,options:{}}}function nf(t,e=null){return{type:R.Animate,styles:e,timings:t}}function Ky(t,e=null){return{type:R.Sequence,steps:t,options:e}}function cr(t){return{type:R.Style,styles:t,offset:null}}function za(t,e,n){return{type:R.State,name:t,styles:e,options:n}}function rf(t,e,n=null){return{type:R.Transition,expr:t,animation:e,options:n}}var En=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},gs=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Ga="!";function Qy(t){return new y(3e3,!1)}function cT(){return new y(3100,!1)}function uT(){return new y(3101,!1)}function dT(t){return new y(3001,!1)}function fT(t){return new y(3003,!1)}function hT(t){return new y(3004,!1)}function pT(t,e){return new y(3005,!1)}function gT(){return new y(3006,!1)}function mT(){return new y(3007,!1)}function yT(t,e){return new y(3008,!1)}function vT(t){return new y(3002,!1)}function wT(t,e,n,r,i){return new y(3010,!1)}function _T(){return new y(3011,!1)}function DT(){return new y(3012,!1)}function bT(){return new y(3200,!1)}function CT(){return new y(3202,!1)}function ET(){return new y(3013,!1)}function IT(t){return new y(3014,!1)}function ST(t){return new y(3015,!1)}function TT(t){return new y(3016,!1)}function MT(t,e){return new y(3404,!1)}function AT(t){return new y(3502,!1)}function xT(t){return new y(3503,!1)}function NT(){return new y(3300,!1)}function OT(t){return new y(3504,!1)}function RT(t){return new y(3301,!1)}function PT(t,e){return new y(3302,!1)}function FT(t){return new y(3303,!1)}function kT(t,e){return new y(3400,!1)}function LT(t){return new y(3401,!1)}function jT(t){return new y(3402,!1)}function VT(t,e){return new y(3505,!1)}function In(t){switch(t.length){case 0:return new En;case 1:return t[0];default:return new gs(t)}}function cv(t,e,n=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let g=f,m=h;if(f!=="offset")switch(g=t.normalizePropertyName(g,i),m){case Ga:m=n.get(f);break;case Nt:m=r.get(f);break;default:m=t.normalizeStyleValue(f,g,m,i);break}d.set(g,m)}),u||s.push(d),a=d,o=c}),i.length)throw AT(i);return s}function Tf(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&sf(n,"start",t)));break;case"done":t.onDone(()=>r(n&&sf(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&sf(n,"destroy",t)));break}}function sf(t,e,n){let r=n.totalTime,i=!!n.disabled,s=Mf(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),o=t._data;return o!=null&&(s._data=o),s}function Mf(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ge(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function Yy(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var $T=typeof document>"u"?null:document.documentElement;function Af(t){let e=t.parentNode||t.host||null;return e===$T?null:e}function UT(t){return t.substring(1,6)=="ebkit"}var ur=null,Zy=!1;function BT(t){ur||(ur=HT()||{},Zy=ur.style?"WebkitAppearance"in ur.style:!1);let e=!0;return ur.style&&!UT(t)&&(e=t in ur.style,!e&&Zy&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in ur.style)),e}function HT(){return typeof document<"u"?document.body:null}function uv(t,e){for(;e;){if(e===t)return!0;e=Af(e)}return!1}function dv(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var xf=(()=>{let e=class e{validateStyleProperty(r){return BT(r)}matchesElement(r,i){return!1}containsElement(r,i){return uv(r,i)}getParentElement(r){return Af(r)}query(r,i,s){return dv(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,l=[],c){return new En(s,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Pf=class Pf{};Pf.NOOP=new xf;var hr=Pf,pr=class{};var zT=1e3,fv="{{",GT="}}",hv="ng-enter",df="ng-leave",qa="ng-trigger",Za=".ng-trigger",Jy="ng-animating",ff=".ng-animating";function nn(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:hf(parseFloat(e[1]),e[2])}function hf(t,e){switch(e){case"s":return t*zT;default:return t}}function Ja(t,e,n){return t.hasOwnProperty("duration")?t:qT(t,e,n)}function qT(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(Qy(t)),{duration:0,delay:0,easing:""};i=hf(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=hf(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(cT()),a=!0),s<0&&(e.push(uT()),a=!0),a&&e.splice(l,0,Qy(t))}return{duration:i,delay:s,easing:o}}function WT(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Ot(t,e,n){e.forEach((r,i)=>{let s=Nf(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function fr(t,e){e.forEach((n,r)=>{let i=Nf(r);t.style[i]=""})}function ms(t){return Array.isArray(t)?t.length==1?t[0]:Ky(t):t}function KT(t,e,n){let r=e.params||{},i=pv(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(dT(s))})}var pf=new RegExp(`${fv}\\s*(.+?)\\s*${GT}`,"g");function pv(t){let e=[];if(typeof t=="string"){let n;for(;n=pf.exec(t);)e.push(n[1]);pf.lastIndex=0}return e}function vs(t,e,n){let r=`${t}`,i=r.replace(pf,(s,o)=>{let a=e[o];return a==null&&(n.push(fT(o)),a=""),a.toString()});return i==r?t:i}var QT=/-+([a-z0-9])/g;function Nf(t){return t.replace(QT,(...e)=>e[1].toUpperCase())}function YT(t,e){return t===0||e===0}function ZT(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,Of(t,a)))}}return e}function ze(t,e,n){switch(e.type){case R.Trigger:return t.visitTrigger(e,n);case R.State:return t.visitState(e,n);case R.Transition:return t.visitTransition(e,n);case R.Sequence:return t.visitSequence(e,n);case R.Group:return t.visitGroup(e,n);case R.Animate:return t.visitAnimate(e,n);case R.Keyframes:return t.visitKeyframes(e,n);case R.Style:return t.visitStyle(e,n);case R.Reference:return t.visitReference(e,n);case R.AnimateChild:return t.visitAnimateChild(e,n);case R.AnimateRef:return t.visitAnimateRef(e,n);case R.Query:return t.visitQuery(e,n);case R.Stagger:return t.visitStagger(e,n);default:throw hT(e.type)}}function Of(t,e){return window.getComputedStyle(t)[e]}var JT=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Xa=class extends pr{normalizePropertyName(e,n){return Nf(e)}normalizeStyleValue(e,n,r,i){let s="",o=r.toString().trim();if(JT.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(pT(e,r))}return o+s}};var el="*";function XT(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>eM(r,n,e)):n.push(t),n}function eM(t,e,n){if(t[0]==":"){let l=tM(t,n);if(typeof l=="function"){e.push(l);return}t=l}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(ST(t)),e;let i=r[1],s=r[2],o=r[3];e.push(Xy(i,o));let a=i==el&&o==el;s[0]=="<"&&!a&&e.push(Xy(o,i))}function tM(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(TT(t)),"* => *"}}var Wa=new Set(["true","1"]),Ka=new Set(["false","0"]);function Xy(t,e){let n=Wa.has(t)||Ka.has(t),r=Wa.has(e)||Ka.has(e);return(i,s)=>{let o=t==el||t==i,a=e==el||e==s;return!o&&n&&typeof i=="boolean"&&(o=i?Wa.has(t):Ka.has(t)),!a&&r&&typeof s=="boolean"&&(a=s?Wa.has(e):Ka.has(e)),o&&a}}var gv=":self",nM=new RegExp(`s*${gv}s*,?`,"g");function mv(t,e,n,r){return new gf(t).build(e,n,r)}var ev="",gf=class{constructor(e){this._driver=e}build(e,n,r){let i=new mf(n);return this._resetContextStyleTimingState(i),ze(this,ms(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=ev,e.collectedStyles=new Map,e.collectedStyles.set(ev,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(gT()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==R.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,n))}),l.name=c}else if(a.type==R.Transition){let l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(mT())}),{type:R.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{pv(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&n.errors.push(yT(e.name,[...s.values()]))}return{type:R.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=ze(this,ms(e.animation),n),i=XT(e.expr,n.errors);return{type:R.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:dr(e.options)}}visitSequence(e,n){return{type:R.Sequence,steps:e.steps.map(r=>ze(this,r,n)),options:dr(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,s=e.steps.map(o=>{n.currentTime=r;let a=ze(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:R.Group,steps:s,options:dr(e.options)}}visitAnimate(e,n){let r=oM(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:cr({});if(s.type==R.Keyframes)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};r.easing&&(c.easing=r.easing),o=cr(c)}n.currentTime+=r.duration+r.delay;let l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:R.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Nt?r.push(a):n.errors.push(vT(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(fv)>=0){s=!0;break}}}),{type:R.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(n.errors.push(wT(l,u.startTime,u.endTime,s,i)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),n.options&&KT(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:R.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(_T()),r;let i=1,s=0,o=[],a=!1,l=!1,c=0,u=e.steps.map(D=>{let j=this._makeStyleAst(D,n),F=j.offset!=null?j.offset:sM(j.styles),A=0;return F!=null&&(s++,A=j.offset=F),l=l||A<0||A>1,a=a||A<c,c=A,o.push(A),j});l&&n.errors.push(DT()),a&&n.errors.push(bT());let d=e.steps.length,h=0;s>0&&s<d?n.errors.push(CT()):s==0&&(h=i/(d-1));let f=d-1,g=n.currentTime,m=n.currentAnimateTimings,v=m.duration;return u.forEach((D,j)=>{let F=h>0?j==f?1:h*j:o[j],A=F*v;n.currentTime=g+m.delay+A,m.duration=A,this._validateStyleAst(D,n),D.offset=F,r.styles.push(D)}),r}visitReference(e,n){return{type:R.Reference,animation:ze(this,ms(e.animation),n),options:dr(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:R.AnimateChild,options:dr(e.options)}}visitAnimateRef(e,n){return{type:R.AnimateRef,animation:this.visitReference(e.animation,n),options:dr(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=rM(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,Ge(n.collectedStyles,n.currentQuerySelector,new Map);let a=ze(this,ms(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:R.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:dr(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(ET());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Ja(e.timings,n.errors,!0);return{type:R.Stagger,animation:ze(this,ms(e.animation),n),timings:r,options:null}}};function rM(t){let e=!!t.split(/\s*,\s*/).find(n=>n==gv);return e&&(t=t.replace(nM,"")),t=t.replace(/@\*/g,Za).replace(/@\w+/g,n=>Za+"-"+n.slice(1)).replace(/:animating/g,ff),[t,e]}function iM(t){return t?w({},t):null}var mf=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function sM(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function oM(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=Ja(t,e).duration;return of(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=of(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=Ja(n,e);return of(i.duration,i.delay,i.easing)}function dr(t){return t?(t=w({},t),t.params&&(t.params=iM(t.params))):t={},t}function of(t,e,n){return{duration:t,delay:e,easing:n}}function Rf(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var ws=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},aM=1,lM=":enter",cM=new RegExp(lM,"g"),uM=":leave",dM=new RegExp(uM,"g");function yv(t,e,n,r,i,s=new Map,o=new Map,a,l,c=[]){return new yf().buildKeyframes(t,e,n,r,i,s,o,a,l,c)}var yf=class{buildKeyframes(e,n,r,i,s,o,a,l,c,u=[]){c=c||new ws;let d=new vf(e,n,c,i,s,u,[]);d.options=l;let h=l.delay?nn(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),ze(this,r,d);let f=d.timelines.filter(g=>g.containsAnimation());if(f.length&&a.size){let g;for(let m=f.length-1;m>=0;m--){let v=f[m];if(v.element===n){g=v;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,d.errors,l)}return f.length?f.map(g=>g.buildKeyframes()):[Rf(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:nn(vs(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime,o=r.duration!=null?nn(r.duration):null,a=r.delay!=null?nn(r.delay):null;return o!==0&&e.forEach(l=>{let c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),ze(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==R.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=tl);let o=nn(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ze(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,s=e.options&&e.options.delay?nn(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),ze(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?vs(r,n.params,n.errors):r;return Ja(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==R.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?nn(i.delay):0;s&&(n.previousNode.type===R.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=tl);let o=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),ze(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;o=Math.max(o,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let u=n.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;ze(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},tl={},vf=class t{constructor(e,n,r,i,s,o,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=tl,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new nl(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=nn(r.duration)),r.delay!=null&&(i.delay=nn(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=vs(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,s=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=tl,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new wf(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(cM,"."+this._enterClassName),e=e.replace(dM,"."+this._leaveClassName);let l=r!=1,c=this._driver.query(this.element,e,l);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&a.length==0&&o.push(IT(n)),a}},nl=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=aM,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Nt),this._currentKeyframe.set(n,Nt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},o=fM(e,this._globalTimelineStyles);for(let[a,l]of o){let c=vs(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Nt),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===Ga?e.add(d):u===Nt&&n.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});let s=[...e.values()],o=[...n.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Rf(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},wf=class extends nl{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=r+n,a=n/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",tv(a)),s.push(c);let u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]),f=h.get("offset"),g=n+f*r;h.set("offset",tv(g/o)),s.push(h)}r=o,n=0,i="",e=s}return Rf(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function tv(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function fM(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)n.set(s,Nt)}else for(let[s,o]of i)n.set(s,o)}),n}function nv(t,e,n,r,i,s,o,a,l,c,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}var af={},rl=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return hM(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,l,c,u){let d=[],h=this.ast.options&&this.ast.options.params||af,f=a&&a.params||af,g=this.buildStyles(r,f,d),m=l&&l.params||af,v=this.buildStyles(i,m,d),D=new Set,j=new Map,F=new Map,A=i==="void",fe={params:vv(m,h),delay:this.ast.options?.delay},ue=u?[]:yv(e,n,this.ast.animation,s,o,g,v,fe,c,d),de=0;return ue.forEach(we=>{de=Math.max(we.duration+we.delay,de)}),d.length?nv(n,this._triggerName,r,i,A,g,v,[],[],j,F,de,d):(ue.forEach(we=>{let Vt=we.element,ln=Ge(j,Vt,new Set);we.preStyleProps.forEach(Rn=>ln.add(Rn));let uh=Ge(F,Vt,new Set);we.postStyleProps.forEach(Rn=>uh.add(Rn)),Vt!==n&&D.add(Vt)}),nv(n,this._triggerName,r,i,A,g,v,ue,[...D.values()],j,F,de))}};function hM(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}function vv(t,e){let n=w({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var _f=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=vv(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=vs(o,i,n));let l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}};function pM(t,e,n){return new Df(t,e,n)}var Df=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new _f(i.style,s,r))}),rv(this.states,"true","1"),rv(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new rl(e,i,this.states))}),this.fallbackTransition=gM(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function gM(t,e,n){let r=[(o,a)=>!0],i={type:R.Sequence,steps:[],options:null},s={type:R.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new rl(t,s,e)}function rv(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var mM=new ws,bf=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],s=mv(this._driver,n,r,i);if(r.length)throw xT(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,r){let i=e.element,s=cv(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=yv(this._driver,n,s,hv,df,new Map,new Map,r,mM,i),o.forEach(u=>{let d=Ge(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(NT()),o=[]),i.length)throw OT(i);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Nt))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=In(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw RT(e);return n}listen(e,n,r,i){let s=Mf(n,"","","");return Tf(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},iv="ng-animate-queued",yM=".ng-animate-queued",lf="ng-animate-disabled",vM=".ng-animate-disabled",wM="ng-star-inserted",_M=".ng-star-inserted",DM=[],wv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bM={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},mt="__ng_removed",_s=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=EM(i),r){let s=e,{value:o}=s,a=ph(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},ys="void",cf=new _s(ys),Cf=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Xe(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw PT(r,n);if(r==null||r.length==0)throw FT(n);if(!IM(r))throw kT(r,n);let s=Ge(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);let a=Ge(this._engine.statesByElement,e,new Map);return a.has(n)||(Xe(e,qa),Xe(e,qa+"-"+n),a.set(n,cf)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw LT(e);return n}trigger(e,n,r,i=!0){let s=this._getTrigger(n),o=new Ds(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Xe(e,qa),Xe(e,qa+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n),c=new _s(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=cf),!(c.value===ys)&&l.value===c.value){if(!MM(l.params,c.params)){let m=[],v=s.matchStyles(l.value,l.params,m),D=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{fr(e,v),Ot(e,D)})}return}let h=Ge(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==n&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),g=!1;if(!f){if(!i)return;f=s.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:g}),g||(Xe(e,iv),o.onStart(()=>{ci(e,iv)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);let v=this._engine.playersByElement.get(e);if(v){let D=v.indexOf(o);D>=0&&v.splice(D,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,Za,!0);r.forEach(i=>{if(i[mt])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,ys,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&In(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let l=this._triggers.get(o).fallbackTransition,c=r.get(o)||cf,u=new _s(ys),d=new Ds(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let s=e[mt];(!s||s===wv)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Xe(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let l=Mf(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,Tf(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Ef=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new Cf(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let l=i.get(a);if(l){let c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(e,n,r,i){if(Qa(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!Qa(n))return;let s=n[mt];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Xe(e,lf)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ci(e,lf))}removeNode(e,n,r){if(Qa(n)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[mt]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return Qa(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,Za,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,ff,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return In(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[mt];if(n&&n.setForRemoval){if(e[mt]=wv,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(lf)&&this.markElementAsDisabled(e,!1),this.driver.query(e,vM,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Xe(i,wM)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?In(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw jT(e)}_flushAnimations(e,n){let r=new ws,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(b=>{u.add(b);let E=this.driver.query(b,yM,!0);for(let S=0;S<E.length;S++)u.add(E[S])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=av(h,this.collectedEnterElements),g=new Map,m=0;f.forEach((b,E)=>{let S=hv+m++;g.set(E,S),b.forEach(K=>Xe(K,S))});let v=[],D=new Set,j=new Set;for(let b=0;b<this.collectedLeaveElements.length;b++){let E=this.collectedLeaveElements[b],S=E[mt];S&&S.setForRemoval&&(v.push(E),D.add(E),S.hasAnimation?this.driver.query(E,_M,!0).forEach(K=>D.add(K)):j.add(E))}let F=new Map,A=av(h,Array.from(D));A.forEach((b,E)=>{let S=df+m++;F.set(E,S),b.forEach(K=>Xe(K,S))}),e.push(()=>{f.forEach((b,E)=>{let S=g.get(E);b.forEach(K=>ci(K,S))}),A.forEach((b,E)=>{let S=F.get(E);b.forEach(K=>ci(K,S))}),v.forEach(b=>{this.processLeaveNode(b)})});let fe=[],ue=[];for(let b=this._namespaceList.length-1;b>=0;b--)this._namespaceList[b].drainQueuedTransitions(n).forEach(S=>{let K=S.player,_e=S.element;if(fe.push(K),this.collectedEnterElements.length){let Se=_e[mt];if(Se&&Se.setForMove){if(Se.previousTriggersValues&&Se.previousTriggersValues.has(S.triggerName)){let Pn=Se.previousTriggersValues.get(S.triggerName),We=this.statesByElement.get(S.element);if(We&&We.has(S.triggerName)){let qs=We.get(S.triggerName);qs.value=Pn,We.set(S.triggerName,qs)}}K.destroy();return}}let vt=!d||!this.driver.containsElement(d,_e),je=F.get(_e),cn=g.get(_e),oe=this._buildInstruction(S,r,cn,je,vt);if(oe.errors&&oe.errors.length){ue.push(oe);return}if(vt){K.onStart(()=>fr(_e,oe.fromStyles)),K.onDestroy(()=>Ot(_e,oe.toStyles)),i.push(K);return}if(S.isFallbackTransition){K.onStart(()=>fr(_e,oe.fromStyles)),K.onDestroy(()=>Ot(_e,oe.toStyles)),i.push(K);return}let hh=[];oe.timelines.forEach(Se=>{Se.stretchStartingKeyframe=!0,this.disabledNodes.has(Se.element)||hh.push(Se)}),oe.timelines=hh,r.append(_e,oe.timelines);let e_={instruction:oe,player:K,element:_e};o.push(e_),oe.queriedElements.forEach(Se=>Ge(a,Se,[]).push(K)),oe.preStyleProps.forEach((Se,Pn)=>{if(Se.size){let We=l.get(Pn);We||l.set(Pn,We=new Set),Se.forEach((qs,Vl)=>We.add(Vl))}}),oe.postStyleProps.forEach((Se,Pn)=>{let We=c.get(Pn);We||c.set(Pn,We=new Set),Se.forEach((qs,Vl)=>We.add(Vl))})});if(ue.length){let b=[];ue.forEach(E=>{b.push(VT(E.triggerName,E.errors))}),fe.forEach(E=>E.destroy()),this.reportError(b)}let de=new Map,we=new Map;o.forEach(b=>{let E=b.element;r.has(E)&&(we.set(E,E),this._beforeAnimationBuild(b.player.namespaceId,b.instruction,de))}),i.forEach(b=>{let E=b.element;this._getPreviousPlayers(E,!1,b.namespaceId,b.triggerName,null).forEach(K=>{Ge(de,E,[]).push(K),K.destroy()})});let Vt=v.filter(b=>lv(b,l,c)),ln=new Map;ov(ln,this.driver,j,c,Nt).forEach(b=>{lv(b,l,c)&&Vt.push(b)});let Rn=new Map;f.forEach((b,E)=>{ov(Rn,this.driver,new Set(b),l,Ga)}),Vt.forEach(b=>{let E=ln.get(b),S=Rn.get(b);ln.set(b,new Map([...E?.entries()??[],...S?.entries()??[]]))});let jl=[],dh=[],fh={};o.forEach(b=>{let{element:E,player:S,instruction:K}=b;if(r.has(E)){if(u.has(E)){S.onDestroy(()=>Ot(E,K.toStyles)),S.disabled=!0,S.overrideTotalTime(K.totalTime),i.push(S);return}let _e=fh;if(we.size>1){let je=E,cn=[];for(;je=je.parentNode;){let oe=we.get(je);if(oe){_e=oe;break}cn.push(je)}cn.forEach(oe=>we.set(oe,_e))}let vt=this._buildAnimation(S.namespaceId,K,de,s,Rn,ln);if(S.setRealPlayer(vt),_e===fh)jl.push(S);else{let je=this.playersByElement.get(_e);je&&je.length&&(S.parentPlayer=In(je)),i.push(S)}}else fr(E,K.fromStyles),S.onDestroy(()=>Ot(E,K.toStyles)),dh.push(S),u.has(E)&&i.push(S)}),dh.forEach(b=>{let E=s.get(b.element);if(E&&E.length){let S=In(E);b.setRealPlayer(S)}}),i.forEach(b=>{b.parentPlayer?b.syncPlayerEvents(b.parentPlayer):b.destroy()});for(let b=0;b<v.length;b++){let E=v[b],S=E[mt];if(ci(E,df),S&&S.hasAnimation)continue;let K=[];if(a.size){let vt=a.get(E);vt&&vt.length&&K.push(...vt);let je=this.driver.query(E,ff,!0);for(let cn=0;cn<je.length;cn++){let oe=a.get(je[cn]);oe&&oe.length&&K.push(...oe)}}let _e=K.filter(vt=>!vt.destroyed);_e.length?SM(this,E,_e):this.processLeaveNode(E)}return v.length=0,jl.forEach(b=>{this.players.push(b),b.onDone(()=>{b.destroy();let E=this.players.indexOf(b);this.players.splice(E,1)}),b.play()}),jl}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==ys;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){let i=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let l of n.timelines){let c=l.element,u=c!==s,d=Ge(r,c,[]);this._getPreviousPlayers(c,u,o,a,n.toState).forEach(f=>{let g=f.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),f.destroy(),d.push(f)})}fr(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){let a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,h=n.timelines.map(g=>{let m=g.element;u.add(m);let v=m[mt];if(v&&v.removedBeforeQueried)return new En(g.duration,g.delay);let D=m!==l,j=TM((r.get(m)||DM).map(de=>de.getRealPlayer())).filter(de=>{let we=de;return we.element?we.element===m:!1}),F=s.get(m),A=o.get(m),fe=cv(this._normalizer,g.keyframes,F,A),ue=this._buildPlayer(g,fe,j);if(g.subTimeline&&i&&d.add(m),D){let de=new Ds(e,a,m);de.setRealPlayer(ue),c.push(de)}return ue});c.forEach(g=>{Ge(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>CM(this.playersByQueriedElement,g.element,g))}),u.forEach(g=>Xe(g,Jy));let f=In(h);return f.onDestroy(()=>{u.forEach(g=>ci(g,Jy)),Ot(l,n.toStyles)}),d.forEach(g=>{Ge(i,g,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new En(e.duration,e.delay)}},Ds=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new En,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>Tf(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Ge(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function CM(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function EM(t){return t??null}function Qa(t){return t&&t.nodeType===1}function IM(t){return t=="start"||t=="done"}function sv(t,e){let n=t.style.display;return t.style.display=e??"none",n}function ov(t,e,n,r,i){let s=[];n.forEach(l=>s.push(sv(l)));let o=[];r.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let h=e.computeStyle(c,d,i);u.set(d,h),(!h||h.length==0)&&(c[mt]=bM,o.push(c))}),t.set(c,u)});let a=0;return n.forEach(l=>sv(l,s[a++])),o}function av(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;let c=a.parentNode;return n.has(c)?l=c:i.has(c)?l=r:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==r&&n.get(l).push(a)}),n}function Xe(t,e){t.classList?.add(e)}function ci(t,e){t.classList?.remove(e)}function SM(t,e,n){In(n).onDone(()=>t.processLeaveNode(e))}function TM(t){let e=[];return _v(t,e),e}function _v(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof gs?_v(r.players,e):e.push(r)}}function MM(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function lv(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}var di=class{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new Ef(e.body,n,r,i),this._timelineEngine=new bf(e.body,n,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,n,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let l=[],c=[],u=mv(this._driver,s,l,c);if(l.length)throw MT(i,l);c.length&&void 0,a=pM(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[s,o]=Yy(r),a=i;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if(r.charAt(0)=="@"){let[o,a]=Yy(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function AM(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=uf(e[0]),e.length>1&&(r=uf(e[e.length-1]))):e instanceof Map&&(n=uf(e)),n||r?new If(t,n,r):null}var ui=class ui{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=ui.initialStylesByElement.get(e);i||ui.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Ot(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ot(this._element,this._initialStyles),this._endStyles&&(Ot(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ui.initialStylesByElement.delete(this._element),this._startStyles&&(fr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fr(this._element,this._endStyles),this._endStyles=null),Ot(this._element,this._initialStyles),this._state=3)}};ui.initialStylesByElement=new WeakMap;var If=ui;function uf(t){let e=null;return t.forEach((n,r)=>{xM(r)&&(e=e||new Map,e.set(r,n))}),e}function xM(t){return t==="display"||t==="position"}var il=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Of(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},sl=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return uv(e,n)}getParentElement(e){return Af(e)}query(e,n,r){return dv(e,n,r)}computeStyle(e,n,r){return Of(e,n)}animate(e,n,r,i,s,o=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(f=>f instanceof il);YT(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((g,m)=>c.set(m,g))});let d=WT(n).map(f=>new Map(f));d=ZT(e,d,c);let h=AM(e,d);return new il(e,d,l,h)}};var Ya="@",Dv="@.disabled",ol=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==Ya&&n==Dv?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},Sf=class extends ol{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==Ya?n.charAt(1)=="."&&n==Dv?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==Ya){let i=NM(e),s=n.slice(1),o="";return s.charAt(0)!=Ya&&([s,o]=OM(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,r,a)})}return this.delegate.listen(e,n,r)}};function NM(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function OM(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var al=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{let o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let c=this._rendererCache,u=c.get(i);if(!u){let d=()=>c.delete(i);u=new ol(r,i,this.engine,d),c.set(i,u)}return u}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return n.data.animation.forEach(a),new Sf(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var PM=(()=>{let e=class e extends di{constructor(r,i,s){super(r,i,s,_(ji,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(M(De),M(hr),M(pr))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();function FM(){return new Xa}function kM(t,e,n){return new al(t,e,n)}var bv=[{provide:pr,useFactory:FM},{provide:di,useClass:PM},{provide:qn,useFactory:kM,deps:[Ia,di,ie]}],LM=[{provide:hr,useFactory:()=>new sl},{provide:Nu,useValue:"BrowserAnimations"},...bv],W1=[{provide:hr,useClass:xf},{provide:Nu,useValue:"NoopAnimations"},...bv];function Cv(){return pa("NgEagerAnimations"),[...LM]}var Ov=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(I(Xn),I(Yt))},e.\u0275dir=Re({type:e});let t=e;return t})(),jM=(()=>{let e=class e extends Ov{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Hi(e)))(s||e)}})(),e.\u0275dir=Re({type:e,features:[vn]});let t=e;return t})(),Rv=new x("");var VM={provide:Rv,useExisting:Wr(()=>Pt),multi:!0};function $M(){let t=tn()?tn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var UM=new x(""),Pt=(()=>{let e=class e extends Ov{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!$M())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(I(Xn),I(Yt),I(UM,8))},e.\u0275dir=Re({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&ce("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[wa([VM]),vn]});let t=e;return t})();function Sn(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Pv(t){return t!=null&&typeof t.length=="number"}var Fv=new x(""),kv=new x(""),BM=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Rt=class{static min(e){return HM(e)}static max(e){return zM(e)}static required(e){return GM(e)}static requiredTrue(e){return qM(e)}static email(e){return WM(e)}static minLength(e){return KM(e)}static maxLength(e){return QM(e)}static pattern(e){return YM(e)}static nullValidator(e){return Lv(e)}static compose(e){return Hv(e)}static composeAsync(e){return Gv(e)}};function HM(t){return e=>{if(Sn(e.value)||Sn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function zM(t){return e=>{if(Sn(e.value)||Sn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function GM(t){return Sn(t.value)?{required:!0}:null}function qM(t){return t.value===!0?null:{required:!0}}function WM(t){return Sn(t.value)||BM.test(t.value)?null:{email:!0}}function KM(t){return e=>Sn(e.value)||!Pv(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function QM(t){return e=>Pv(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function YM(t){if(!t)return Lv;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Sn(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Lv(t){return null}function jv(t){return t!=null}function Vv(t){return nr(t)?le(t):t}function $v(t){let e={};return t.forEach(n=>{e=n!=null?w(w({},e),n):e}),Object.keys(e).length===0?null:e}function Uv(t,e){return e.map(n=>n(t))}function ZM(t){return!t.validate}function Bv(t){return t.map(e=>ZM(e)?e:n=>e.validate(n))}function Hv(t){if(!t)return null;let e=t.filter(jv);return e.length==0?null:function(n){return $v(Uv(n,e))}}function zv(t){return t!=null?Hv(Bv(t)):null}function Gv(t){if(!t)return null;let e=t.filter(jv);return e.length==0?null:function(n){let r=Uv(n,e).map(Vv);return tc(r).pipe(z($v))}}function qv(t){return t!=null?Gv(Bv(t)):null}function Ev(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Wv(t){return t._rawValidators}function Kv(t){return t._rawAsyncValidators}function Ff(t){return t?Array.isArray(t)?t:[t]:[]}function cl(t,e){return Array.isArray(t)?t.includes(e):t===e}function Iv(t,e){let n=Ff(e);return Ff(t).forEach(i=>{cl(n,i)||n.push(i)}),n}function Sv(t,e){return Ff(e).filter(n=>!cl(t,n))}var ul=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},hi=class extends ul{get formDirective(){return null}get path(){return null}},Es=class extends ul{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},dl=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},JM={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},uL=G(w({},JM),{"[class.ng-submitted]":"isSubmitted"}),Tn=(()=>{let e=class e extends dl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(I(Es,2))},e.\u0275dir=Re({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&ma("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[vn]});let t=e;return t})(),Mn=(()=>{let e=class e extends dl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(I(hi,10))},e.\u0275dir=Re({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&ma("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[vn]});let t=e;return t})();var bs="VALID",ll="INVALID",fi="PENDING",Cs="DISABLED";function jf(t){return(gl(t)?t.validators:t)||null}function XM(t){return Array.isArray(t)?zv(t):t||null}function Vf(t,e){return(gl(e)?e.asyncValidators:t)||null}function eA(t){return Array.isArray(t)?qv(t):t||null}function gl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Qv(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new y(1e3,"");if(!r[n])throw new y(1001,"")}function Yv(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new y(1002,"")})}var pi=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===bs}get invalid(){return this.status===ll}get pending(){return this.status==fi}get disabled(){return this.status===Cs}get enabled(){return this.status!==Cs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Iv(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Iv(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Sv(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Sv(e,this._rawAsyncValidators))}hasValidator(e){return cl(this._rawValidators,e)}hasAsyncValidator(e){return cl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fi,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Cs,this.errors=null,this._forEachChild(r=>{r.disable(G(w({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(G(w({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=bs,this._forEachChild(r=>{r.enable(G(w({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(G(w({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bs||this.status===fi)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cs:bs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fi,this._hasOwnPendingAsyncValidator=!0;let n=Vv(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Te,this.statusChanges=new Te}_calculateStatus(){return this._allControlsDisabled()?Cs:this.errors?ll:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fi)?fi:this._anyControlsHaveStatus(ll)?ll:bs}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){gl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=XM(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=eA(this._rawAsyncValidators)}},fl=class extends pi{constructor(e,n,r){super(jf(n),Vf(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Yv(this,!0,e),Object.keys(e).forEach(r=>{Qv(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var kf=class extends fl{};var Zv=new x("CallSetDisabledState",{providedIn:"root",factory:()=>$f}),$f="always";function tA(t,e){return[...e.path,t]}function Tv(t,e,n=$f){Uf(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),rA(t,e),sA(t,e),iA(t,e),nA(t,e)}function Mv(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),pl(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function hl(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function nA(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Uf(t,e){let n=Wv(t);e.validator!==null?t.setValidators(Ev(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Kv(t);e.asyncValidator!==null?t.setAsyncValidators(Ev(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();hl(e._rawValidators,i),hl(e._rawAsyncValidators,i)}function pl(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=Wv(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=Kv(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return hl(e._rawValidators,r),hl(e._rawAsyncValidators,r),n}function rA(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Jv(t,e)})}function iA(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Jv(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Jv(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function sA(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function oA(t,e){t==null,Uf(t,e)}function aA(t,e){return pl(t,e)}function lA(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function cA(t){return Object.getPrototypeOf(t.constructor)===jM}function uA(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function dA(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Pt?n=s:cA(s)?r=s:i=s}),i||r||n||null}function fA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Av(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function xv(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var et=class extends pi{constructor(e=null,n,r){super(jf(n),Vf(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(xv(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Av(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Av(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){xv(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var hA=t=>t instanceof et;var An=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Re({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var Xv=new x("");var pA={provide:hi,useExisting:Wr(()=>rn)},rn=(()=>{let e=class e extends hi{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Te,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Tv(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){Mv(r.control||null,r,!1),fA(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,uA(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(Mv(i||null,r),hA(s)&&(Tv(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);oA(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&aA(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Uf(this.form,this),this._oldForm&&pl(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(I(Fv,10),I(kv,10),I(Zv,8))},e.\u0275dir=Re({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&ce("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[Le.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wa([pA]),vn,Qn]});let t=e;return t})();var gA={provide:Es,useExisting:Wr(()=>sn)},sn=(()=>{let e=class e extends Es{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Te,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=dA(this,o)}ngOnChanges(r){this._added||this._setUpControl(),lA(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return tA(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(I(hi,13),I(Fv,10),I(kv,10),I(Rv,10),I(Xv,8))},e.\u0275dir=Re({type:e,selectors:[["","formControlName",""]],inputs:{name:[Le.None,"formControlName","name"],isDisabled:[Le.None,"disabled","isDisabled"],model:[Le.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[wa([gA]),vn,Qn]});let t=e;return t})();var mA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kt({type:e}),e.\u0275inj=Wt({});let t=e;return t})(),Lf=class extends pi{constructor(e,n,r){super(jf(n),Vf(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Yv(this,!1,e),e.forEach((r,i)=>{Qv(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Nv(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var xn=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return Nv(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new fl(s,o)}record(r,i=null){let s=this._reduceControls(r);return new kf(s,i)}control(r,i,s){let o={};return this.useNonNullable?(Nv(i)?o=i:(o.validators=i,o.asyncValidators=s),new et(r,G(w({},o),{nonNullable:!0}))):new et(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new Lf(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof et)return r;if(r instanceof pi)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ft=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Xv,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Zv,useValue:r.callSetDisabledState??$f}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kt({type:e}),e.\u0275inj=Wt({imports:[mA]});let t=e;return t})();var ew=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-BTCSFMYB.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};var Is=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},yl=class extends Is{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},vl=class extends Is{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},wl=class extends Is{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},Bf=function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t}(Bf||{});var yA=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},Ss=class{constructor(e,{headers:n={},customFetch:r,region:i=Bf.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=ew(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return yA(this,void 0,void 0,function*(){try{let{headers:i,method:s,body:o}=n,a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));let u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(g=>{throw new yl(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new vl(u);if(!u.ok)throw new wl(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield u.json():h==="application/octet-stream"?f=yield u.blob():h==="text/event-stream"?f=u:h==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}};var _l=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};var Ts=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ws:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(s=>p(this,null,function*(){var o,a,l;let c=null,u=null,d=null,h=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){let D=yield s.text();D===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=D:u=JSON.parse(D))}let m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let m=yield s.text();try{c=JSON.parse(m),Array.isArray(c)&&s.status===404&&(u=[],c=null,h=200,f="OK")}catch{s.status===404&&m===""?(h=204,f="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,f="OK"),c&&this.shouldThrowOnError)throw new _l(c)}return{error:c,data:u,count:d,status:h,statusText:f}}));return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s?.name)!==null&&o!==void 0?o:"FetchError"}: ${s?.message}`,details:`${(a=s?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}};var Ms=class extends Ts{select(e){let n=!1,r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){let o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){let s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;let l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};var yt=class extends Ms{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){let r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");let o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};var As=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){let i=n?"HEAD":"GET",s=!1,o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new yt({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){let i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){let o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){let a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new yt({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){let o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){let l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new yt({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new yt({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new yt({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var tw="1.15.2";var nw={"X-Client-Info":`postgrest-js/${tw}`};var xs=class t{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},nw),n),this.schemaName=r,this.fetch=i}from(e){let n=new URL(`${this.url}/${e}`);return new As(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let o,a=new URL(`${this.url}/rpc/${e}`),l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=n);let c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new yt({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};var rw="2.9.5";var iw={"X-Client-Info":`realtime-js/${rw}`},sw="1.0.0",Dl=1e4,ow=1e3,gi=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(gi||{}),qe=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(qe||{}),tt=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(tt||{}),Hf=function(t){return t.websocket="websocket",t}(Hf||{}),gr=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}(gr||{});var mi=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var bl=class{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){let i=n.getUint8(1),s=n.getUint8(2),o=this.HEADER_LENGTH+2,a=r.decode(e.slice(o,o+i));o=o+i;let l=r.decode(e.slice(o,o+s));o=o+s;let c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var yi=class{constructor(e,n,r={},i=Dl){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Ns=class t{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=t.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=t.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){let s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{let d=s[c];if(d){let h=u.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),g=u.filter(v=>f.indexOf(v.presence_ref)<0),m=d.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){let{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;let u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){let d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;let u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{let i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var se=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}(se||{}),Gf=(t,e,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=vA(o,t,e,i),s),{})},vA=(t,e,n,r)=>{let i=e.find(a=>a.name===t),s=i?.type,o=n[t];return s&&!r.includes(s)?aw(s,o):zf(o)},aw=(t,e)=>{if(t.charAt(0)==="_"){let n=t.slice(1,t.length);return bA(e,n)}switch(t){case se.bool:return wA(e);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return _A(e);case se.json:case se.jsonb:return DA(e);case se.timestamp:return CA(e);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return zf(e);default:return zf(e)}},zf=t=>t,wA=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},_A=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},DA=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},bA=(t,e)=>{if(typeof t!="string")return t;let n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s,o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>aw(e,a))}return t},CA=t=>typeof t=="string"?t.replace(" ","T"):t;var Os=class t{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new yi(this,tt.join,this.params,this.timeout),this.rejoinTimer=new mi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tt.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Ns(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:s,presence:o}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));let a={},l={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&i!==void 0?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:c})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{let d=this.bindings.postgres_changes,h=(u=d?.length)!==null&&u!==void 0?u:0,f=[];for(let g=0;g<h;g++){let m=d[g],{filter:{event:v,schema:D,table:j,filter:F}}=m,A=c&&c[g];if(A&&A.event===v&&A.schema===D&&A.table===j&&A.filter===F)f.push(Object.assign(Object.assign({},m),{id:A.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(e,n={}){return yield this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,n,r){return this._on(e,n,r)}send(r){return p(this,arguments,function*(e,n={}){var i,s;if(!this._canPush()&&e.type==="broadcast"){let{event:o,payload:a}=e,l={method:"POST",headers:{apikey:(i=this.socket.apiKey)!==null&&i!==void 0?i:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a}]})};try{return(yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout)).ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;let u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qe.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let i=new yi(this,tt.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}_fetchWithTimeout(e,n,r){return p(this,null,function*(){let i=new AbortController,s=setTimeout(()=>i.abort(),r),o=yield this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o})}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new yi(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;let o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=tt;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,m,v;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=f.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var g,m,v,D,j,F;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){let A=f.id,fe=(g=f.filter)===null||g===void 0?void 0:g.event;return A&&((m=n.ids)===null||m===void 0?void 0:m.includes(A))&&(fe==="*"||fe?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let A=(j=(D=f?.filter)===null||D===void 0?void 0:D.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return A==="*"||A===((F=n?.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){let g=h.data,{schema:m,table:v,commit_timestamp:D,type:j,errors:F}=g;h=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:D,eventType:j,new:{},old:{},errors:F}),this._getPayloadRecords(g))}f.callback(h,r)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){let i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){let r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&t.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(tt.close,{},e)}_onError(e){this._on(tt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Gf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Gf(e.columns,e.old_record)),n}};var IA=()=>{},SA=typeof WebSocket<"u",Rs=class{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=iw,this.params={},this.timeout=Dl,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=IA,this.conn=null,this.sendBuffer=[],this.serializer=new bl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>import("./chunk-BTCSFMYB.js").then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Hf.websocket}`,n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);let i=(r=n?.params)===null||r===void 0?void 0:r.apikey;i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n?.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new mi(()=>p(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(SA){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new qf(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-5AVUGGWP.js").then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return p(this,null,function*(){let n=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return p(this,null,function*(){let e=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e})}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case gi.connecting:return gr.Connecting;case gi.open:return gr.Open;case gi.closing:return gr.Closing;default:return gr.Closed}}isConnected(){return this.connectionState()===gr.Open}channel(e,n={config:{}}){let r=new Os(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){let{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(tt.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:sw}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;(o&&o===this.pendingHeartbeatRef||i===s?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(tt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;let r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(ow,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}};var qf=class{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=gi.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}};var vi=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function be(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Cl=class extends vi{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Ps=class extends vi{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}};var TA=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},El=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-BTCSFMYB.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},lw=()=>TA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-BTCSFMYB.js")).Response:Response});var wi=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},Wf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),MA=(t,e)=>wi(void 0,void 0,void 0,function*(){let n=yield lw();t instanceof n?t.json().then(r=>{e(new Cl(Wf(r),t.status||500))}).catch(r=>{e(new Ps(Wf(r),r))}):e(new Ps(Wf(t),t))}),AA=(t,e,n,r)=>{let i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function Il(t,e,n,r,i,s){return wi(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,AA(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>MA(l,a))})})}function Fs(t,e,n,r){return wi(this,void 0,void 0,function*(){return Il(t,"GET",e,n,r)})}function kt(t,e,n,r,i){return wi(this,void 0,void 0,function*(){return Il(t,"POST",e,r,i,n)})}function cw(t,e,n,r,i){return wi(this,void 0,void 0,function*(){return Il(t,"PUT",e,r,i,n)})}function Sl(t,e,n,r,i){return wi(this,void 0,void 0,function*(){return Il(t,"DELETE",e,r,i,n)})}var nt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},xA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},uw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Tl=class{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=El(i)}uploadOrUpdate(e,n,r,i){return nt(this,void 0,void 0,function*(){try{let s,o=Object.assign(Object.assign({},uw),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl)):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);let l=this._removeEmptyFolders(n),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:s,headers:a},o?.duplex?{duplex:o.duplex}:{})),d=yield u.json();return u.ok?{data:{path:l,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(s){if(be(s))return{data:null,error:s};throw s}})}upload(e,n,r){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return nt(this,void 0,void 0,function*(){let s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l,c=Object.assign({upsert:uw.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(be(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e){return nt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),r=yield kt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:this.headers}),i=new URL(this.url+r.url),s=i.searchParams.get("token");if(!s)throw new vi("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:s},error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}update(e,n,r){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n){return nt(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}copy(e,n){return nt(this,void 0,void 0,function*(){try{return{data:{path:(yield kt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,r){return nt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield kt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return nt(this,void 0,void 0,function*(){try{let i=yield kt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}download(e,n){return nt(this,void 0,void 0,function*(){let i=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),o=s?`?${s}`:"";try{let a=this._getFinalPath(e);return{data:yield(yield Fs(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(be(a))return{data:null,error:a};throw a}})}getPublicUrl(e,n){let r=this._getFinalPath(e),i=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);let a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return nt(this,void 0,void 0,function*(){try{return{data:yield Sl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}list(e,n,r){return nt(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},xA),n),{prefix:e||""});return{data:yield kt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(be(i))return{data:null,error:i};throw i}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}};var dw="2.5.5";var fw={"X-Client-Info":`storage-js/${dw}`};var _i=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},Ml=class{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},fw),n),this.fetch=El(r)}listBuckets(){return _i(this,void 0,void 0,function*(){try{return{data:yield Fs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(be(e))return{data:null,error:e};throw e}})}getBucket(e){return _i(this,void 0,void 0,function*(){try{return{data:yield Fs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return _i(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return _i(this,void 0,void 0,function*(){try{return{data:yield cw(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}emptyBucket(e){return _i(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}deleteBucket(e){return _i(this,void 0,void 0,function*(){try{return{data:yield Sl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}};var ks=class extends Ml{constructor(e,n={},r){super(e,n,r)}from(e){return new Tl(this.url,this.headers,e,this.fetch)}};var hw="2.43.1";var Ls="";typeof Deno<"u"?Ls="deno":typeof document<"u"?Ls="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ls="react-native":Ls="node";var NA={"X-Client-Info":`supabase-js-${Ls}/${hw}`},pw={headers:NA},gw={schema:"public"},mw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yw={};var OA=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},RA=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ws:e=fetch,(...n)=>e(...n)},PA=()=>typeof Headers>"u"?gh:Headers,vw=(t,e,n)=>{let r=RA(n),i=PA();return(s,o)=>OA(void 0,void 0,void 0,function*(){var a;let l=(a=yield e())!==null&&a!==void 0?a:t,c=new i(o?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};function ww(t){return t.replace(/\/$/,"")}function _w(t,e){let{db:n,auth:r,realtime:i,global:s}=t,{db:o,auth:a,realtime:l,global:c}=e;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s)}}var Al="2.64.2";var Dw="http://localhost:9999",bw="supabase.auth.token";var Cw={"X-Client-Info":`gotrue-js/${Al}`},Kf=10;var js="X-Supabase-Api-Version",Qf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Ew(t){return Math.round(Date.now()/1e3)+t}function Iw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}var rt=()=>typeof document<"u",mr={tested:!1,writable:!1},Nn=()=>{if(!rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mr.tested)return mr.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),mr.tested=!0,mr.writable=!0}catch{mr.tested=!0,mr.writable=!1}return mr.writable};function xl(t){let e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}var Nl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-BTCSFMYB.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Sw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Yf=(t,e,n)=>p(void 0,null,function*(){yield t.setItem(e,JSON.stringify(n))}),$s=(t,e)=>p(void 0,null,function*(){let n=yield t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),Ol=(t,e)=>p(void 0,null,function*(){yield t.removeItem(e)});function FA(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",r,i,s,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,i=(a&15)<<4|l>>2,s=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&i!=0&&(n=n+String.fromCharCode(i)),c!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}var Vs=class t{constructor(){this.promise=new t.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};Vs.promiseConstructor=Promise;function Zf(t){let e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=n[1];return JSON.parse(FA(r))}function Tw(t){return p(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function Mw(t,e){return new Promise((r,i)=>{p(this,null,function*(){for(let s=0;s<1/0;s++)try{let o=yield t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})})}function kA(t){return("0"+t.toString(16)).substr(-2)}function LA(){let e=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,kA).join("")}function jA(t){return p(this,null,function*(){let n=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")})}function VA(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function $A(t){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let n=yield jA(t);return VA(n)})}function yr(t,e,n=!1){return p(this,null,function*(){let r=LA(),i=r;n&&(i+="/PASSWORD_RECOVERY"),yield Yf(t,`${e}-code-verifier`,i);let s=yield $A(r);return[s,r===s?"plain":"s256"]})}var UA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Aw(t){let e=t.headers.get(js);if(!e||!e.match(UA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}var Us=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var Rl=class extends Us{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function xw(t){return L(t)&&t.name==="AuthApiError"}var Di=class extends Us{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},on=class extends Us{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}},Lt=class extends on{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}},bi=class extends on{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},vr=class extends on{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},wr=class extends on{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Bs=class extends on{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ci=class extends on{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function Pl(t){return L(t)&&t.name==="AuthRetryableFetchError"}var Hs=class extends on{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var BA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},_r=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),HA=[502,503,504];function Nw(t){return p(this,null,function*(){var e;if(!Sw(t))throw new Ci(_r(t),0);if(HA.includes(t.status))throw new Ci(_r(t),t.status);let n;try{n=yield t.json()}catch(s){throw new Di(_r(s),s)}let r,i=Aw(t);if(i&&i.getTime()>=Qf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Hs(_r(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[])}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Hs(_r(n),t.status,n.weak_password.reasons);throw new Rl(_r(n),t.status||500,r)})}var zA=(t,e,n,r)=>{let i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function B(t,e,n,r){return p(this,null,function*(){var i;let s=Object.assign({},r?.headers);s[js]||(s[js]=Qf["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);let o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);let a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=yield GA(t,e,n+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function GA(t,e,n,r,i,s){return p(this,null,function*(){let o=zA(e,r,i,s),a;try{a=yield t(n,Object.assign({},o))}catch(l){throw console.error(l),new Ci(_r(l),0)}if(a.ok||(yield Nw(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield Nw(l)}})}function an(t){var e;let n=null;qA(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Ew(t.expires_in)));let r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Jf(t){let e=an(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function jt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Ow(t){return{data:t,error:null}}function Rw(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=BA(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Pw(t){return t}function qA(t){return t.access_token&&t.refresh_token&&t.expires_in}var WA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Ei=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Nl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e,n="global"){return p(this,null,function*(){try{return yield B(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return p(this,arguments,function*(e,n={}){try{return yield B(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:jt})}catch(i){if(L(i))return{data:{user:null},error:i};throw i}})}generateLink(e){return p(this,null,function*(){try{let{options:n}=e,r=WA(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Rw,redirectTo:n?.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(e){return p(this,null,function*(){try{return yield B(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:jt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}})}listUsers(e){return p(this,null,function*(){var n,r,i,s,o,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Pw});if(u.error)throw u.error;let d=yield u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);c[`${v}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}})}getUserById(e){return p(this,null,function*(){try{return yield B(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:jt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}})}updateUserById(e,n){return p(this,null,function*(){try{return yield B(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:jt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,n=!1){return p(this,null,function*(){try{return yield B(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:jt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return p(this,null,function*(){try{let{data:n,error:r}=yield B(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(L(n))return{data:null,error:n};throw n}})}_deleteFactor(e){return p(this,null,function*(){try{return{data:yield B(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}})}};var Fw={getItem:t=>Nn()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Nn()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Nn()&&globalThis.localStorage.removeItem(t)}};function Xf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function kw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Dr={debug:!!(globalThis&&Nn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},zs=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Fl=class extends zs{};function eh(t,e,n){return p(this,null,function*(){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),yield globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>p(this,null,function*(){if(i){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return yield n()}finally{Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Fl(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Dr.debug)try{let s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}}))})}kw();var KA={url:Dw,storageKey:bw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Cw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Gs=30*1e3,Lw=3;function jw(t,e,n){return p(this,null,function*(){return yield n()})}var th=(()=>{class t{constructor(n){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&rt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let s=Object.assign(Object.assign({},KA),n);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Ei({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Nl(s.fetch),this.lock=s.lock||jw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:rt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=eh:this.lock=jw,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Nn()?this.storage=Fw:(this.memoryStorage={},this.storage=Xf(this.memoryStorage)):(this.memoryStorage={},this.storage=Xf(this.memoryStorage)),rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",o=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",o),yield this._notifyAllSubscribers(o.data.event,o.data.session,!1)}))}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Al}) ${new Date().toISOString()}`,...n),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){try{let n=rt()?yield this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",n),n||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:r,error:i}=yield this._getSessionFromURL(n);if(i)return this._debug("#_initialize()","error detecting session from URL",i),i?.message==="Identity is already linked"||i?.message==="Identity is already linked to another user"?{error:i}:(yield this._removeSession(),{error:i});let{session:s,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),yield this._saveSession(s),setTimeout(()=>p(this,null,function*(){o==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",s):yield this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?{error:n}:{error:new Di("Unexpected error during initialization",n)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return p(this,null,function*(){var r,i,s;try{yield this._removeSession();let o=yield B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=n?.options)===null||s===void 0?void 0:s.captchaToken}},xform:an}),{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(L(o))return{data:{user:null,session:null},error:o};throw o}})}signUp(n){return p(this,null,function*(){var r,i,s;try{yield this._removeSession();let o;if("email"in n){let{email:d,password:h,options:f}=n,g=null,m=null;this.flowType==="pkce"&&([g,m]=yield yr(this.storage,this.storageKey)),o=yield B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:m},xform:an})}else if("phone"in n){let{phone:d,password:h,options:f}=n;o=yield B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(s=f?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:an})}else throw new vr("You must provide either an email or phone number and a password");let{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(L(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithPassword(n){return p(this,null,function*(){try{yield this._removeSession();let r;if("email"in n){let{email:o,password:a,options:l}=n;r=yield B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Jf})}else if("phone"in n){let{phone:o,password:a,options:l}=n;r=yield B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Jf})}else throw new vr("You must provide either an email or phone number and a password");let{data:i,error:s}=r;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new bi}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return p(this,null,function*(){var r,i,s,o;return yield this._removeSession(),yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=n.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=n.options)===null||o===void 0?void 0:o.skipBrowserRedirect})})}exchangeCodeForSession(n){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(n)}))})}_exchangeCodeForSession(n){return p(this,null,function*(){let r=yield $s(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(r??"").split("/"),{data:o,error:a}=yield B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:an});return yield Ol(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new bi}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})})}signInWithIdToken(n){return p(this,null,function*(){yield this._removeSession();try{let{options:r,provider:i,token:s,access_token:o,nonce:a}=n,l=yield B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:an}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new bi}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return p(this,null,function*(){var r,i,s,o,a;try{if(yield this._removeSession(),"email"in n){let{email:l,options:c}=n,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield yr(this.storage,this.storageKey));let{error:h}=yield B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in n){let{phone:l,options:c}=n,{data:u,error:d}=yield B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c?.data)!==null&&s!==void 0?s:{},create_user:(o=c?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new vr("You must provide either an email or phone number.")}catch(l){if(L(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(n){return p(this,null,function*(){var r,i;try{n.type!=="email_change"&&n.type!=="phone_change"&&(yield this._removeSession());let s,o;"options"in n&&(s=(r=n.options)===null||r===void 0?void 0:r.redirectTo,o=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=yield B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:an});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithSSO(n){return p(this,null,function*(){var r,i,s;try{yield this._removeSession();let o=null,a=null;return this.flowType==="pkce"&&([o,a]=yield yr(this.storage,this.storageKey)),yield B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=n?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:Ow})}catch(o){if(L(o))return{data:null,error:o};throw o}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(n=>p(this,null,function*(){let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new Lt;let{error:s}=yield B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}}))}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return p(this,null,function*(){try{n.type!="email_change"&&n.type!="phone_change"&&(yield this._removeSession());let r=`${this.url}/resend`;if("email"in n){let{email:i,type:s,options:o}=n,{error:a}=yield B(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:i,type:s,options:o}=n,{data:a,error:l}=yield B(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new vr("You must provide either an email or phone number and a type")}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(r=>p(this,null,function*(){return r}))}))})}_acquireLock(n,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=p(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(p(this,null,function*(){try{yield s}catch{}})),s}return yield this.lock(`lock:${this.storageKey}`,n,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(p(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let s=[...this.pendingInLock];yield Promise.all(s),this.pendingInLock.splice(0,s.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield $s(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.storage.isServer){let a=this.suppressGetSessionWarning;n=new Proxy(n,{get(c,u,d){return!a&&u==="user"&&console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),Reflect.get(c,u,d)}})}return{data:{session:n},error:null}}let{session:s,error:o}=yield this._callRefreshToken(n.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return p(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return p(this,null,function*(){try{return n?yield B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:jt}):yield this._useSession(r=>p(this,null,function*(){var i,s,o;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Lt}:yield B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:jt})}))}catch(r){if(L(r))return{data:{user:null},error:r};throw r}})}updateUser(i){return p(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(i){return p(this,arguments,function*(n,r={}){try{return yield this._useSession(s=>p(this,null,function*(){let{data:o,error:a}=s;if(a)throw a;if(!o.session)throw new Lt;let l=o.session,c=null,u=null;this.flowType==="pkce"&&n.email!=null&&([c,u]=yield yr(this.storage,this.storageKey));let{data:d,error:h}=yield B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:jt});if(h)throw h;return l.user=d.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(s){if(L(s))return{data:{user:null},error:s};throw s}})}_decodeJWT(n){return Zf(n)}setSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return p(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new Lt;let r=Date.now()/1e3,i=r,s=!0,o=null,a=Zf(n.access_token);if(a.exp&&(i=a.exp,s=i<=r),s){let{session:l,error:c}=yield this._callRefreshToken(n.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{let{data:l,error:c}=yield this._getUser(n.access_token);if(c)throw c;o={access_token:n.access_token,refresh_token:n.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(L(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;if(!n){let{data:a,error:l}=r;if(l)throw l;n=(i=a.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new Lt;let{session:s,error:o}=yield this._callRefreshToken(n.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n){return p(this,null,function*(){try{if(!rt())throw new wr("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new wr("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!n)throw new Bs("Not a valid PKCE flow url.");let r=xl(window.location.href);if(n){if(!r.code)throw new Bs("No code detected.");let{data:F,error:A}=yield this._exchangeCodeForSession(r.code);if(A)throw A;let fe=new URL(window.location.href);return fe.searchParams.delete("code"),window.history.replaceState(window.history.state,"",fe.toString()),{data:{session:F.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new wr(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});let{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=r;if(!o||!l||!a||!u)throw new wr("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(l),f=d+h;c&&(f=parseInt(c));let g=f-d;g*1e3<=Gs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);let m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",m,f,d);let{data:v,error:D}=yield this._getUser(o);if(D)throw D;let j={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:r.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}})}_isImplicitGrantFlow(){let n=xl(window.location.href);return!!(rt()&&(n.access_token||n.error_description))}_isPKCEFlow(){return p(this,null,function*(){let n=xl(window.location.href),r=yield $s(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return p(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return p(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var i;let{data:s,error:o}=r;if(o)return{error:o};let a=(i=s.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=yield this.admin.signOut(a,n);if(l&&!(xw(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return n!=="others"&&(yield this._removeSession(),yield Ol(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))})}onAuthStateChange(n){let r=Iw(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(n){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var i,s;try{let{data:{session:o},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o),this._debug("INITIAL_SESSION","callback id",n,"session",o)}catch(o){yield(s=this.stateChangeEmitters.get(n))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",o),console.error(o)}}))})}resetPasswordForEmail(i){return p(this,arguments,function*(n,r={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=yield yr(this.storage,this.storageKey,!0));try{return yield B(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(L(a))return{data:null,error:a};throw a}})}getUserIdentities(){return p(this,null,function*(){var n;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}})}linkIdentity(n){return p(this,null,function*(){var r;try{let{data:i,error:s}=yield this._useSession(o=>p(this,null,function*(){var a,l,c,u,d;let{data:h,error:f}=o;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield B(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(s)throw s;return rt()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:n.provider,url:i?.url},error:null}}catch(i){if(L(i))return{data:{provider:n.provider,url:null},error:i};throw i}})}unlinkIdentity(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i,s;let{data:o,error:a}=r;if(a)throw a;return yield B(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})}))}catch(r){if(L(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return p(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield Mw(s=>p(this,null,function*(){return s>0&&(yield Tw(200*Math.pow(2,s-1))),this._debug(r,"refreshing attempt",s),yield B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:an})}),(s,o)=>{let a=200*Math.pow(2,s);return o&&Pl(o)&&Date.now()+a-i<Gs})}catch(i){if(this._debug(r,"error",i),L(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return p(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),rt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var n;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=yield $s(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&(yield this._removeSession());return}let s=Math.round(Date.now()/1e3),o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)<s+Kf;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Kf}s`),o){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),Pl(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}})}_callRefreshToken(n){return p(this,null,function*(){var r,i;if(!n)throw new Lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let s=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Vs;let{data:o,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!o.session)throw new Lt;yield this._saveSession(o.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);let l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),L(o)){let a={session:null,error:o};return Pl(o)||(yield this._removeSession(),yield this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}})}_notifyAllSubscribers(n,r,i=!0){return p(this,null,function*(){let s=`#_notifyAllSubscribers(${n})`;this._debug(s,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let o=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>p(this,null,function*(){try{yield l.callback(n,r)}catch(c){o.push(c)}}));if(yield Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}})}_saveSession(n){return p(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,yield Yf(this.storage,this.storageKey,n)})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield Ol(this.storage,this.storageKey)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&rt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Gs);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let s=Math.floor((i.expires_at*1e3-n)/Gs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Gs}ms, refresh threshold is ${Lw} ticks`),s<=Lw&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof zs)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!rt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return p(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,i){return p(this,null,function*(){let s=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[o,a]=yield yr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(i?.queryParams){let o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${s.join("&")}`})}_unenroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;let{data:s,error:o}=r;return o?{data:null,error:o}:yield B(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(L(r))return{data:null,error:r};throw r}})}_enroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i,s;let{data:o,error:a}=r;if(a)return{data:null,error:a};let{data:l,error:c}=yield B(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:n.friendlyName,factor_type:n.factorType,issuer:n.issuer},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(!((s=l?.totp)===null||s===void 0)&&s.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(L(r))return{data:null,error:r};throw r}})}_verify(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;let{data:s,error:o}=r;if(o)return{data:null,error:o};let{data:a,error:l}=yield B(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})}))}catch(r){if(L(r))return{data:null,error:r};throw r}}))})}_challenge(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;let{data:s,error:o}=r;return o?{data:null,error:o}:yield B(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(L(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return p(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:n.factorId});return i?{data:null,error:i}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return p(this,null,function*(){let{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=n?.factors||[],s=i.filter(o=>o.factor_type==="totp"&&o.status==="verified");return{data:{all:i,totp:s},error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){return yield this._useSession(n=>p(this,null,function*(){var r,i;let{data:{session:s},error:o}=n;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(s.access_token),l=null;a.aal&&(l=a.aal);let c=l;((i=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");let d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}))})}}return t.nextInstanceID=0,t})();var QA=th,nh=QA;var kl=class extends nh{constructor(e){super(e)}};var YA=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},Ll=class{constructor(e,n,r){var i,s,o,a,l,c,u,d;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");let h=ww(e);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;let f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g={db:gw,realtime:yw,auth:Object.assign(Object.assign({},mw),{storageKey:f}),global:pw},m=_w(r??{},g);this.storageKey=(s=(i=m.auth)===null||i===void 0?void 0:i.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=(o=m.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,(c=m.global)===null||c===void 0?void 0:c.fetch),this.fetch=vw(n,this._getAccessToken.bind(this),(u=m.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},m.realtime)),this.rest=new xs(`${h}/rest/v1`,{headers:this.headers,schema:(d=m.db)===null||d===void 0?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Ss(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ks(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return YA(this,void 0,void 0,function*(){let{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,debug:a},l,c){var u;let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kl({url:this.authUrl,headers:Object.assign(Object.assign({},d),l),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,debug:a,fetch:c,hasCustomAuthorizationHeader:(u="Authorization"in this.headers)!==null&&u!==void 0?u:!1})}_initRealtimeClient(e){return new Rs(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Vw=(t,e,n)=>new Ll(t,e,n);var rh={production:!1,supabaseUrl:"https://ndwpuwmviljvgpyhkxxh.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5kd3B1d212aWxqdmdweWhreHhoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTU0MTk2MDksImV4cCI6MjAzMDk5NTYwOX0.0NHbNORCIK2IgYG3iRDkWybDSzHOv-XqSCnZQyIa6GI"};var it=(()=>{let e=class e{constructor(){this._session=null,this.supabase=Vw(rh.supabaseUrl,rh.supabaseKey)}getSession$(){return le(this.supabase.auth.getSession())}profile(r){return this.supabase.from("profiles").select("username,website,avatar_url").eq("id",r.id)}authChanges(r){return this.supabase.auth.onAuthStateChange(r)}signInMagicLink(r){return this.supabase.auth.signInWithOtp({email:r,options:{emailRedirectTo:window.location.href.split("?")[0].split("#")[0]}})}signInPassword(r,i){return this.supabase.auth.signInWithPassword({email:r,password:i})}register(r,i){return this.supabase.auth.signUp({email:r,password:i})}signOut(){return this.supabase.auth.signOut()}updateProfile(r){let i=G(w({},r),{updated_at:new Date});return this.supabase.from("profiles").upsert(i)}downloadImage(r){return this.supabase.storage.from("avatars").download(r)}uploadAvatar(r,i){return this.supabase.storage.from("avatars").upload(r,i)}getDynaLink(r){return this.supabase.from("dynalinks").select("target").eq("uuid::text",r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $w=(()=>{let e=class e{constructor(r,i){this.supabase=r,this.formBuilder=i,this.loading=!1,this.updateProfileForm=this.formBuilder.group({username:"",website:"",avatar_url:""}),this.supabase.getSession$().subscribe(s=>{s.data.session!=null&&(this.session=s.data.session)})}ngOnInit(){return p(this,null,function*(){if(this.session!=null&&this.session.user!=null&&(yield this.getProfile(),this.profile!=null)){let{username:r,website:i,avatar_url:s}=this.profile;this.updateProfileForm.patchValue({username:r,website:i,avatar_url:s})}})}getProfile(){return p(this,null,function*(){try{this.loading=!0;let{data:r,error:i,status:s}=yield this.supabase.profile(this.session.user);if(i&&s!==406)throw i;r&&(this.profile=r[0])}catch(r){r instanceof Error&&console.log(r)}finally{this.loading=!1}})}updateProfile(){return p(this,null,function*(){try{this.loading=!0;let{user:r}=this.session,i=this.updateProfileForm.value.username,s=this.updateProfileForm.value.website,o=this.updateProfileForm.value.avatar_url,{error:a}=yield this.supabase.updateProfile({id:r.id,username:i,website:s,avatar_url:o});if(a)throw a}catch(r){r instanceof Error&&console.log(r)}finally{this.loading=!1}})}signOut(){return p(this,null,function*(){yield this.supabase.signOut()})}};e.\u0275fac=function(i){return new(i||e)(I(it),I(xn))},e.\u0275cmp=pe({type:e,selectors:[["app-account"]],standalone:!0,features:[ge],decls:16,vars:4,consts:[[1,"account-container"],[1,"updateProfileForm",3,"ngSubmit","formGroup"],[1,"profile"],["for","email"],["type","email","id","email","disabled","",3,"value"],["for","username"],["formControlName","username","type","text","id","username"],["for","website"],["formControlName","website","type","url","id","website"],["type","submit",1,"submit",3,"disabled","value"],[1,"sign-out",3,"click"]],template:function(i,s){i&1&&(k(0,"div",0)(1,"form",1),ce("ngSubmit",function(){return s.updateProfile()}),k(2,"div",2),Y(3,"Profile"),$(),k(4,"label",3),Y(5,"Email"),$(),te(6,"input",4),k(7,"label",5),Y(8,"Username"),$(),te(9,"input",6),k(10,"label",7),Y(11,"Website"),$(),te(12,"input",8)(13,"input",9),k(14,"button",10),ce("click",function(){return s.signOut()}),Y(15,"Sign Out"),$()()()),i&2&&(X(),Q("formGroup",s.updateProfileForm),X(5),Q("value",s.session==null||s.session.user==null?null:s.session.user.email),X(7),tr("value",s.loading?"Loading ...":"Update"),Q("disabled",s.loading))},dependencies:[Ft,An,Pt,Tn,Mn,rn,sn],styles:['.account-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);padding:2em;border-radius:1em;border:solid 1px white}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]{display:grid;grid-template-areas:"profile sign-out" "email-label email" "username-label username" "website-label website" ". update";row-gap:1em;column-gap:1em;align-items:center;justify-content:center}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{font-size:larger;font-weight:600}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   label[for=email][_ngcontent-%COMP%]{grid-area:email-label}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   #email[_ngcontent-%COMP%]{grid-area:email}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   label[for=username][_ngcontent-%COMP%]{grid-area:username-label}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   #username[_ngcontent-%COMP%]{grid-area:username}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   label[for=website][_ngcontent-%COMP%]{grid-area:website-label}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   #website[_ngcontent-%COMP%]{grid-area:website}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{grid-area:update}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   .sign-out[_ngcontent-%COMP%]{grid-area:sign-out;width:fit-content;place-self:end}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   .sign-out[_ngcontent-%COMP%]:hover{border-color:red}']});let t=e;return t})();var Uw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-loading"]],standalone:!0,features:[ge],decls:5,vars:0,consts:[[1,"loading"],[1,"text"],[1,"dot"]],template:function(i,s){i&1&&(k(0,"div",0)(1,"h1",1),Y(2,"_DynaLink"),$(),k(3,"h1",2),Y(4,"."),$()())},styles:[".loading[_ngcontent-%COMP%]{transition:all .2s;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);padding:2em;min-width:340px;grid-area:header;display:flex;align-items:center;justify-items:center}.loading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:10em}.loading[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{color:red}@media only screen and (max-width: 940px){.loading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5em}}@media only screen and (max-width: 470px){.loading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em}}"]});let t=e;return t})();var Bw=(()=>{let e=class e{constructor(r,i){this.supabase=r,this.router=i,this.uuid=""}ngOnInit(){return p(this,null,function*(){this.uuid=this.router.lastSuccessfulNavigation?.finalUrl?.queryParams.dynaLink,console.log(this.uuid);let r=yield this.supabase.getDynaLink(this.uuid);if(r.data!=null){let i=r.data[0];window.location.href=i.target}})}};e.\u0275fac=function(i){return new(i||e)(I(it),I(Ha))},e.\u0275cmp=pe({type:e,selectors:[["app-redirect"]],standalone:!0,features:[ge],decls:1,vars:0,template:function(i,s){i&1&&te(0,"app-loading")},dependencies:[Uw]});let t=e;return t})();var Hw=[{path:"profile",component:$w},{path:"redirect",component:Bw}];var zw=["toast-component",""];function ZA(t,e){if(t&1){let n=Ju();k(0,"button",5),ce("click",function(){Cu(n);let i=Pe();return Eu(i.remove())}),k(1,"span",6),Y(2,"\xD7"),$()()}}function JA(t,e){if(t&1&&(ya(0),Y(1),va()),t&2){let n=Pe(2);X(),_n("[",n.duplicatesCount+1,"]")}}function XA(t,e){if(t&1&&(k(0,"div"),Y(1),gt(2,JA,2,1,"ng-container",4),$()),t&2){let n=Pe();Xt(n.options.titleClass),wn("aria-label",n.title),X(),_n(" ",n.title," "),X(),Q("ngIf",n.duplicatesCount)}}function ex(t,e){if(t&1&&te(0,"div",7),t&2){let n=Pe();Xt(n.options.messageClass),Q("innerHTML",n.message,ku)}}function tx(t,e){if(t&1&&(k(0,"div",8),Y(1),$()),t&2){let n=Pe();Xt(n.options.messageClass),wn("aria-label",n.message),X(),_n(" ",n.message," ")}}function nx(t,e){if(t&1&&(k(0,"div"),te(1,"div",9),$()),t&2){let n=Pe();X(),er("width",n.width+"%")}}function rx(t,e){if(t&1){let n=Ju();k(0,"button",5),ce("click",function(){Cu(n);let i=Pe();return Eu(i.remove())}),k(1,"span",6),Y(2,"\xD7"),$()()}}function ix(t,e){if(t&1&&(ya(0),Y(1),va()),t&2){let n=Pe(2);X(),_n("[",n.duplicatesCount+1,"]")}}function sx(t,e){if(t&1&&(k(0,"div"),Y(1),gt(2,ix,2,1,"ng-container",4),$()),t&2){let n=Pe();Xt(n.options.titleClass),wn("aria-label",n.title),X(),_n(" ",n.title," "),X(),Q("ngIf",n.duplicatesCount)}}function ox(t,e){if(t&1&&te(0,"div",7),t&2){let n=Pe();Xt(n.options.messageClass),Q("innerHTML",n.message,ku)}}function ax(t,e){if(t&1&&(k(0,"div",8),Y(1),$()),t&2){let n=Pe();Xt(n.options.messageClass),wn("aria-label",n.message),X(),_n(" ",n.message," ")}}function lx(t,e){if(t&1&&(k(0,"div"),te(1,"div",9),$()),t&2){let n=Pe();X(),er("width",n.width+"%")}}var ih=class{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},sh=class{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},oh=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new ae;_activate=new ae;_manualClose=new ae;_resetTimeout=new ae;_countDuplicate=new ae;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},Si=class{toastId;config;message;title;toastType;toastRef;_onTap=new ae;_onAction=new ae;constructor(e,n,r,i,s,o){this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},Gw={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},qw=new x("ToastConfig"),ah=class extends sh{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,r){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){let r=this._componentFactoryResolver.resolveComponentFactory(e.component),i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},cx=(()=>{class t{_document=_(De);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lh=class{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}},ux=(()=>{class t{_overlayContainer=_(cx);_componentFactoryResolver=_(Zr);_appRef=_(en);_document=_(De);_paneElements=new Map;create(n,r){return this._createOverlayRef(this.getPaneElement(n,r))}getPaneElement(n="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[n]||(this._paneElements.get(r)[n]=this._createPaneElement(n,r)),this._paneElements.get(r)[n]}_createPaneElement(n,r){let i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new ah(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new lh(this._createPortalHost(n))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),On=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig=w(w({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=w(w({},n.default.iconClasses),n.config.iconClasses))}show(n,r,i={},s=""){return this._preBuildNotification(s,n,r,this.applyConfig(i))}success(n,r,i={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}error(n,r,i={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}info(n,r,i={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}warning(n,r,i={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}clear(n){for(let r of this.toasts)if(n!==void 0){if(r.toastId===n){r.toastRef.manualClose();return}}else r.toastRef.manualClose()}remove(n){let r=this._findToast(n);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",r="",i,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let l=o&&a.title===n;if((!o||l)&&a.message===r)return a.toastRef.onDuplicate(i,s),a}return null}applyConfig(n={}){return w(w({},this.toastrConfig),n)}_findToast(n){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===n)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(n,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,r,i,s)):this._buildNotification(n,r,i,s)}_buildNotification(n,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let c=r;r&&s.enableHtml&&(c=this.sanitizer.sanitize(pt.HTML,r));let u=new oh(l),d=new Si(this.index,s,c,i,n,u),h=[{provide:Si,useValue:d}],f=Tt.create({providers:h,parent:this._injector}),g=new ih(s.toastComponent,f),m=l.attach(g,s.newestOnTop);u.componentInstance=m.instance;let v={toastId:this.index,title:i||"",message:r||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:m};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{v.toastRef.activate()})),this.toasts.push(v),v}static \u0275fac=function(r){return new(r||t)(M(qw),M(ux),M(Tt),M(pd),M(ie))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dx=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=G(w({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=G(w({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=G(w({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),r)):this.timeout=setTimeout(()=>n(),r)}outsideInterval(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),r)):this.intervalId=setInterval(()=>n(),r)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(r){return new(r||t)(I(On),I(Si),I(ie))};static \u0275cmp=pe({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){r&1&&ce("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(Xu("@flyInOut",i.state),Xt(i.toastClasses),er("display",i.displayStyle))},standalone:!0,features:[ge],attrs:zw,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&gt(0,ZA,3,0,"button",0)(1,XA,3,5,"div",1)(2,ex,1,3,"div",2)(3,tx,2,4,"div",3)(4,nx,2,2,"div",4),r&2&&(Q("ngIf",i.options.closeButton),X(),Q("ngIf",i.title),X(),Q("ngIf",i.message&&i.options.enableHtml),X(),Q("ngIf",i.message&&!i.options.enableHtml),X(),Q("ngIf",i.options.progressBar))},dependencies:[ir],encapsulation:2,data:{animation:[Wy("flyInOut",[za("inactive",cr({opacity:0})),za("active",cr({opacity:1})),za("removed",cr({opacity:0})),rf("inactive => active",nf("{{ easeTime }}ms {{ easing }}")),rf("active => removed",nf("{{ easeTime }}ms {{ easing }}"))])]}})}return t})(),fx=G(w({},Gw),{toastComponent:dx}),Ww=(t={})=>Kr([{provide:qw,useValue:{default:fx,config:t}}]);var hx=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){return this.state==="inactive"?"none":null}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.appRef=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(r){return new(r||t)(I(On),I(Si),I(en))};static \u0275cmp=pe({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(r,i){r&1&&ce("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(Xt(i.toastClasses),er("display",i.displayStyle))},standalone:!0,features:[ge],attrs:zw,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&gt(0,rx,3,0,"button",0)(1,sx,3,5,"div",1)(2,ox,1,3,"div",2)(3,ax,2,4,"div",3)(4,lx,2,2,"div",4),r&2&&(Q("ngIf",i.options.closeButton),X(),Q("ngIf",i.title),X(),Q("ngIf",i.message&&i.options.enableHtml),X(),Q("ngIf",i.message&&!i.options.enableHtml),X(),Q("ngIf",i.options.progressBar))},dependencies:[ir],encapsulation:2})}return t})(),A$=G(w({},Gw),{toastComponent:hx});var Kw={providers:[qy(Hw),Ww(),Cv()]};var Qw=(()=>{let e=class e{constructor(r,i,s){this.supabase=r,this.formBuilder=i,this.toastrService=s,this.loading=!1,this.signInForm=this.formBuilder.group({email:new et("",Rt.email)})}onSubmit(){return p(this,null,function*(){try{this.loading=!0;let r=this.signInForm.value.email,{error:i}=yield this.supabase.signInMagicLink(r);if(i)throw i;this.toastrService.info("MagicLink sent, check your mail \u{1F4E9}")}catch(r){r instanceof Error&&this.toastrService.error("Something went wrong \u{1F622}")}finally{this.signInForm.reset(),this.loading=!1}})}};e.\u0275fac=function(i){return new(i||e)(I(it),I(xn),I(On))},e.\u0275cmp=pe({type:e,selectors:[["app-magiclink"]],standalone:!0,features:[ge],decls:5,vars:1,consts:[[1,"signin-form",3,"ngSubmit","formGroup"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Your Email",1,"inputField"],["type","submit"]],template:function(i,s){i&1&&(k(0,"form",0),ce("ngSubmit",function(){return s.onSubmit()}),k(1,"label",1),Y(2,"Email"),$(),te(3,"input",2)(4,"input",3),$()),i&2&&Q("formGroup",s.signInForm)},dependencies:[Ft,An,Pt,Tn,Mn,rn,sn],styles:['.signin-form[_ngcontent-%COMP%]{display:grid;grid-template-areas:"subheader subheader" "label input" ".submit";row-gap:1em;column-gap:1em;align-items:center;justify-content:center}.signin-form[_ngcontent-%COMP%]   .subheader[_ngcontent-%COMP%]{grid-area:subheader}.signin-form[_ngcontent-%COMP%]   label[for=email][_ngcontent-%COMP%]{grid-area:label}.signin-form[_ngcontent-%COMP%]   #email[_ngcontent-%COMP%]{grid-area:input}.signin-form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{grid-area:submit}']});let t=e;return t})();var Yw=(()=>{let e=class e{constructor(r,i,s){this.supabase=r,this.formBuilder=i,this.toastrService=s,this.loading=!1,this.signInForm=this.formBuilder.group({email:new et("",Rt.email),password:new et("",Rt.minLength(6))})}onSubmit(){return p(this,null,function*(){try{this.loading=!0;let r=this.signInForm.value.email,i=this.signInForm.value.password,{error:s}=yield this.supabase.signInPassword(r,i);if(s)throw s}catch(r){r instanceof Error&&this.toastrService.error("Something went wrong \u{1F622}")}finally{this.signInForm.reset(),this.loading=!1}})}};e.\u0275fac=function(i){return new(i||e)(I(it),I(xn),I(On))},e.\u0275cmp=pe({type:e,selectors:[["app-password"]],standalone:!0,features:[ge],decls:8,vars:1,consts:[[1,"signin-form",3,"ngSubmit","formGroup"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Your Email",1,"inputField"],["for","password"],["id","password","type","password","formControlName","password","placeholder","Password",1,"inputField"],["type","submit"]],template:function(i,s){i&1&&(k(0,"form",0),ce("ngSubmit",function(){return s.onSubmit()}),k(1,"label",1),Y(2,"Email"),$(),te(3,"input",2),k(4,"label",3),Y(5,"Password"),$(),te(6,"input",4)(7,"input",5),$()),i&2&&Q("formGroup",s.signInForm)},dependencies:[Ft,An,Pt,Tn,Mn,rn,sn],styles:['.signin-form[_ngcontent-%COMP%]{display:grid;grid-template-areas:"subheader subheader" "emaillabel emailinput" "pwdlabel pwdinput" ".submit";row-gap:1em;column-gap:1em;align-items:center;justify-content:center}.signin-form[_ngcontent-%COMP%]   .subheader[_ngcontent-%COMP%]{grid-area:subheader}.signin-form[_ngcontent-%COMP%]   label[for=email][_ngcontent-%COMP%]{grid-area:emaillabel}.signin-form[_ngcontent-%COMP%]   #email[_ngcontent-%COMP%]{grid-area:emailinput}.signin-form[_ngcontent-%COMP%]   label[for=password][_ngcontent-%COMP%]{grid-area:pwdlabel}.signin-form[_ngcontent-%COMP%]   #password[_ngcontent-%COMP%]{grid-area:pwdinput}.signin-form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{grid-area:submit}']});let t=e;return t})();var Zw=(()=>{let e=class e{constructor(r,i,s){this.supabase=r,this.formBuilder=i,this.toastrService=s,this.loading=!1,this.signUpForm=this.formBuilder.group({email:new et("",Rt.email),password:new et("",Rt.minLength(6))})}onSubmit(){return p(this,null,function*(){try{this.loading=!0;let r=this.signUpForm.value.email,i=this.signUpForm.value.password,{error:s}=yield this.supabase.register(r,i);if(s)throw s;this.toastrService.success("You are now a DynaLink Member \u{1F60E}")}catch(r){r instanceof Error&&(console.log(r),this.toastrService.error("Something went wrong \u{1F622}"))}finally{this.signUpForm.reset(),this.loading=!1}})}};e.\u0275fac=function(i){return new(i||e)(I(it),I(xn),I(On))},e.\u0275cmp=pe({type:e,selectors:[["app-register"]],standalone:!0,features:[ge],decls:8,vars:1,consts:[[1,"signup-form",3,"ngSubmit","formGroup"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Your Email",1,"inputField"],["for","password"],["id","password","type","password","formControlName","password","placeholder","Password",1,"inputField"],["type","submit"]],template:function(i,s){i&1&&(k(0,"form",0),ce("ngSubmit",function(){return s.onSubmit()}),k(1,"label",1),Y(2,"Email"),$(),te(3,"input",2),k(4,"label",3),Y(5,"Password"),$(),te(6,"input",4)(7,"input",5),$()),i&2&&Q("formGroup",s.signUpForm)},dependencies:[Ft,An,Pt,Tn,Mn,rn,sn],styles:['.signup-form[_ngcontent-%COMP%]{display:grid;grid-template-areas:"subheader subheader" "emaillabel emailinput" "pwdlabel pwdinput" ".submit";row-gap:1em;column-gap:1em;align-items:center;justify-content:center}.signup-form[_ngcontent-%COMP%]   .subheader[_ngcontent-%COMP%]{grid-area:subheader}.signup-form[_ngcontent-%COMP%]   label[for=email][_ngcontent-%COMP%]{grid-area:emaillabel}.signup-form[_ngcontent-%COMP%]   #email[_ngcontent-%COMP%]{grid-area:emailinput}.signup-form[_ngcontent-%COMP%]   label[for=password][_ngcontent-%COMP%]{grid-area:pwdlabel}.signup-form[_ngcontent-%COMP%]   #password[_ngcontent-%COMP%]{grid-area:pwdinput}.signup-form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{grid-area:submit}']});let t=e;return t})();function px(t,e){t&1&&te(0,"app-magiclink")}function gx(t,e){t&1&&te(0,"app-password")}function mx(t,e){t&1&&te(0,"app-register")}var Jw=(()=>{let e=class e{constructor(){this.selectedAuthType=""}onMagicLinkSelect(){this.selectedAuthType="magicLink"}onPasswordSelected(){this.selectedAuthType="password"}onRegisterSelected(){this.selectedAuthType="register"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-auth"]],standalone:!0,features:[ge],decls:16,vars:6,consts:[[1,"auth-container"],[1,"header"],[1,"dot"],[1,"btn-container"],["id","magicLink",3,"click","ngClass"],["id","password",3,"click","ngClass"],["id","register",3,"click","ngClass"],[4,"ngIf"]],template:function(i,s){i&1&&(k(0,"div",0)(1,"div",1)(2,"h1"),Y(3,"_DynaLink"),$(),k(4,"h1",2),Y(5,"."),$()(),k(6,"div",3)(7,"button",4),ce("click",function(){return s.onMagicLinkSelect()}),Y(8," Magic Link "),$(),k(9,"button",5),ce("click",function(){return s.onPasswordSelected()}),Y(10," Password "),$(),k(11,"button",6),ce("click",function(){return s.onRegisterSelected()}),Y(12," Register "),$()(),gt(13,px,1,0,"app-magiclink",7)(14,gx,1,0,"app-password",7)(15,mx,1,0,"app-register",7),$()),i&2&&(X(7),tr("ngClass",s.selectedAuthType==="magicLink"?"enabled":""),X(2),tr("ngClass",s.selectedAuthType==="password"?"enabled":""),X(2),tr("ngClass",s.selectedAuthType==="register"?"enabled":""),X(2),Q("ngIf",s.selectedAuthType==="magicLink"),X(),Q("ngIf",s.selectedAuthType==="password"),X(),Q("ngIf",s.selectedAuthType==="register"))},dependencies:[Ft,Qw,Yw,Ki,ty,ir,Zw],styles:[".auth-container[_ngcontent-%COMP%]{transition:all .2s;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);padding:2em;border-radius:1em;border:solid 1px white;min-width:340px}.auth-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{grid-area:header;display:flex}.auth-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{color:red}.auth-container[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.auth-container[_ngcontent-%COMP%]   .enabled[_ngcontent-%COMP%]{border-color:red}"]});let t=e;return t})();function yx(t,e){t&1&&te(0,"router-outlet")}function vx(t,e){t&1&&te(0,"app-auth")}function wx(t,e){if(t&1&&gt(0,vx,1,0,"app-auth",2),t&2){let n=Pe();Q("ngIf",!n.loading)}}var Xw=(()=>{let e=class e{constructor(r){this.supabase=r,this.title="dynalink",this.loading=!0,this.redirect=window.location.pathname.split("/")[1]=="redirect",this.supabase.getSession$().subscribe(i=>{this.session=i.data.session,this.loading=!1})}ngOnInit(){console.log(window.location.pathname),this.supabase.authChanges((r,i)=>this.session=i)}};e.\u0275fac=function(i){return new(i||e)(I(it))},e.\u0275cmp=pe({type:e,selectors:[["app-root"]],standalone:!0,features:[ge],decls:3,vars:2,consts:[["auth",""],[4,"ngIf","ngIfElse"],[4,"ngIf"]],template:function(i,s){if(i&1&&gt(0,yx,1,0,"router-outlet",1)(1,wx,1,1,"ng-template",null,0,Lm),i&2){let o=Fm(2);Q("ngIf",s.session&&!s.loading||s.redirect!==!1)("ngIfElse",o)}},dependencies:[Qd,Jw,Ki,ir]});let t=e;return t})();uy(Xw,Kw).catch(t=>console.error(t));
