import{b as Ii,c as hl}from"./chunk-JENGY3ED.js";import{a as v,b as U,d as p}from"./chunk-PYQTE2ZK.js";var pl=null;var Gs=1,gl=Symbol("SIGNAL");function L(t){let e=pl;return pl=t,e}var ml={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Kg(t){if(!(Ws(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Gs)){if(!t.producerMustRecompute(t)&&!zs(t)){t.dirty=!1,t.lastCleanEpoch=Gs;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Gs}}function vl(t){return t&&(t.nextProducerIndex=0),L(t)}function yl(t,e){if(L(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ws(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)qs(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function zs(t){Si(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Kg(n),r!==n.version))return!0}return!1}function wl(t){if(Si(t),Ws(t))for(let e=0;e<t.producerNode.length;e++)qs(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function qs(t,e){if(Jg(t),Si(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)qs(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Si(i),i.producerIndexOfThis[r]=e}}function Ws(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Si(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Jg(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Xg(){throw new Error}var em=Xg;function Dl(t){em=t}function E(t){return typeof t=="function"}function un(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Mi=un(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function lr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var K=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(E(r))try{r()}catch(o){e=o instanceof Mi?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Cl(o)}catch(s){e=e??[],s instanceof Mi?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Mi(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Cl(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&lr(n,e)}remove(e){let{_finalizers:n}=this;n&&lr(n,e),e instanceof t&&e._removeParent(this)}};K.EMPTY=(()=>{let t=new K;return t.closed=!0,t})();var Ys=K.EMPTY;function xi(t){return t instanceof K||t&&"closed"in t&&E(t.remove)&&E(t.add)&&E(t.unsubscribe)}function Cl(t){E(t)?t():t.unsubscribe()}var Oe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var cn={setTimeout(t,e,...n){let{delegate:r}=cn;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=cn;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ti(t){cn.setTimeout(()=>{let{onUnhandledError:e}=Oe;if(e)e(t);else throw t})}function dr(){}var bl=Zs("C",void 0,void 0);function _l(t){return Zs("E",void 0,t)}function El(t){return Zs("N",t,void 0)}function Zs(t,e,n){return{kind:t,value:e,error:n}}var Tt=null;function ln(t){if(Oe.useDeprecatedSynchronousErrorHandling){let e=!Tt;if(e&&(Tt={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Tt;if(Tt=null,n)throw r}}else t()}function Il(t){Oe.useDeprecatedSynchronousErrorHandling&&Tt&&(Tt.errorThrown=!0,Tt.error=t)}var At=class extends K{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,xi(e)&&e.add(this)):this.destination=rm}static create(e,n,r){return new dn(e,n,r)}next(e){this.isStopped?Ks(El(e),this):this._next(e)}error(e){this.isStopped?Ks(_l(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ks(bl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tm=Function.prototype.bind;function Qs(t,e){return tm.call(t,e)}var Js=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ai(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ai(r)}else Ai(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ai(n)}}},dn=class extends At{constructor(e,n,r){super();let i;if(E(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Oe.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Qs(e.next,o),error:e.error&&Qs(e.error,o),complete:e.complete&&Qs(e.complete,o)}):i=e}this.destination=new Js(i)}};function Ai(t){Oe.useDeprecatedSynchronousErrorHandling?Il(t):Ti(t)}function nm(t){throw t}function Ks(t,e){let{onStoppedNotification:n}=Oe;n&&cn.setTimeout(()=>n(t,e))}var rm={closed:!0,next:dr,error:nm,complete:dr};var fn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function fe(t){return t}function Xs(...t){return ea(t)}function ea(t){return t.length===0?fe:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var V=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=om(n)?n:new dn(n,r,i);return ln(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Sl(r),new r((i,o)=>{let s=new dn({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[fn](){return this}pipe(...n){return ea(n)(this)}toPromise(n){return n=Sl(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Sl(t){var e;return(e=t??Oe.Promise)!==null&&e!==void 0?e:Promise}function im(t){return t&&E(t.next)&&E(t.error)&&E(t.complete)}function om(t){return t&&t instanceof At||im(t)&&xi(t)}function ta(t){return E(t?.lift)}function k(t){return e=>{if(ta(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function N(t,e,n,r,i){return new na(t,e,n,r,i)}var na=class extends At{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function hn(){return k((t,e)=>{let n=null;t._refCount++;let r=N(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var pn=class extends V{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ta(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new K;let n=this.getSubject();e.add(this.source.subscribe(N(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=K.EMPTY)}return e}refCount(){return hn()(this)}};var Ml=un(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=(()=>{class t extends V{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ni(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ml}next(n){ln(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ln(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ln(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ys:(this.currentObservers=null,o.push(n),new K(()=>{this.currentObservers=null,lr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new V;return n.source=this,n}}return t.create=(e,n)=>new Ni(e,n),t})(),Ni=class extends se{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ys}};var ee=class extends se{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var he=new V(t=>t.complete());function xl(t){return t&&E(t.schedule)}function Tl(t){return t[t.length-1]}function Oi(t){return E(Tl(t))?t.pop():void 0}function ht(t){return xl(Tl(t))?t.pop():void 0}function Nl(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function Al(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nt(t){return this instanceof Nt?(this.v=t,this):new Nt(t)}function Ol(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(g,m){o.push([f,h,g,m])>1||a(f,h)})})}function a(f,h){try{u(r[f](h))}catch(g){d(o[0][3],g)}}function u(f){f.value instanceof Nt?Promise.resolve(f.value.v).then(c,l):d(o[0][2],f)}function c(f){a("next",f)}function l(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Rl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Al=="function"?Al(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}}var Ri=t=>t&&typeof t.length=="number"&&typeof t!="function";function Pi(t){return E(t?.then)}function ki(t){return E(t[fn])}function Fi(t){return Symbol.asyncIterator&&E(t?.[Symbol.asyncIterator])}function Li(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function sm(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ji=sm();function Vi(t){return E(t?.[ji])}function $i(t){return Ol(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Nt(n.read());if(i)return yield Nt(void 0);yield yield Nt(r)}}finally{n.releaseLock()}})}function Ui(t){return E(t?.getReader)}function W(t){if(t instanceof V)return t;if(t!=null){if(ki(t))return am(t);if(Ri(t))return um(t);if(Pi(t))return cm(t);if(Fi(t))return Pl(t);if(Vi(t))return lm(t);if(Ui(t))return dm(t)}throw Li(t)}function am(t){return new V(e=>{let n=t[fn]();if(E(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function um(t){return new V(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function cm(t){return new V(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ti)})}function lm(t){return new V(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Pl(t){return new V(e=>{fm(t,e).catch(n=>e.error(n))})}function dm(t){return Pl($i(t))}function fm(t,e){var n,r,i,o;return Nl(this,void 0,void 0,function*(){try{for(n=Rl(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function le(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Bi(t,e=0){return k((n,r)=>{n.subscribe(N(r,i=>le(r,t,()=>r.next(i),e),()=>le(r,t,()=>r.complete(),e),i=>le(r,t,()=>r.error(i),e)))})}function Hi(t,e=0){return k((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function kl(t,e){return W(t).pipe(Hi(e),Bi(e))}function Fl(t,e){return W(t).pipe(Hi(e),Bi(e))}function Ll(t,e){return new V(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function jl(t,e){return new V(n=>{let r;return le(n,e,()=>{r=t[ji](),le(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>E(r?.return)&&r.return()})}function Gi(t,e){if(!t)throw new Error("Iterable cannot be null");return new V(n=>{le(n,e,()=>{let r=t[Symbol.asyncIterator]();le(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Vl(t,e){return Gi($i(t),e)}function $l(t,e){if(t!=null){if(ki(t))return kl(t,e);if(Ri(t))return Ll(t,e);if(Pi(t))return Fl(t,e);if(Fi(t))return Gi(t,e);if(Vi(t))return jl(t,e);if(Ui(t))return Vl(t,e)}throw Li(t)}function q(t,e){return e?$l(t,e):W(t)}function I(...t){let e=ht(t);return q(t,e)}function gn(t,e){let n=E(t)?t:()=>t,r=i=>i.error(n());return new V(e?i=>e.schedule(r,0,i):r)}function ra(t){return!!t&&(t instanceof V||E(t.lift)&&E(t.subscribe))}var rt=un(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function O(t,e){return k((n,r)=>{let i=0;n.subscribe(N(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:hm}=Array;function pm(t,e){return hm(e)?t(...e):t(e)}function zi(t){return O(e=>pm(t,e))}var{isArray:gm}=Array,{getPrototypeOf:mm,prototype:vm,keys:ym}=Object;function qi(t){if(t.length===1){let e=t[0];if(gm(e))return{args:e,keys:null};if(wm(e)){let n=ym(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function wm(t){return t&&typeof t=="object"&&mm(t)===vm}function Wi(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Yi(...t){let e=ht(t),n=Oi(t),{args:r,keys:i}=qi(t);if(r.length===0)return q([],e);let o=new V(Dm(r,e,i?s=>Wi(i,s):fe));return n?o.pipe(zi(n)):o}function Dm(t,e,n=fe){return r=>{Ul(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Ul(e,()=>{let c=q(t[u],e),l=!1;c.subscribe(N(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Ul(t,e,n){t?le(n,t,e):e()}function Bl(t,e,n,r,i,o,s,a){let u=[],c=0,l=0,d=!1,f=()=>{d&&!u.length&&!c&&e.complete()},h=m=>c<r?g(m):u.push(m),g=m=>{o&&e.next(m),c++;let w=!1;W(n(m,l++)).subscribe(N(e,C=>{i?.(C),o?h(C):e.next(C)},()=>{w=!0},void 0,()=>{if(w)try{for(c--;u.length&&c<r;){let C=u.shift();s?le(e,s,()=>g(C)):g(C)}f()}catch(C){e.error(C)}}))};return t.subscribe(N(e,h,()=>{d=!0,f()})),()=>{a?.()}}function J(t,e,n=1/0){return E(e)?J((r,i)=>O((o,s)=>e(r,o,i,s))(W(t(r,i))),n):(typeof e=="number"&&(n=e),k((r,i)=>Bl(r,i,t,n)))}function ia(t=1/0){return J(fe,t)}function Hl(){return ia(1)}function mn(...t){return Hl()(q(t,ht(t)))}function Zi(t){return new V(e=>{W(t()).subscribe(e)})}function oa(...t){let e=Oi(t),{args:n,keys:r}=qi(t),i=new V(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,c=s;for(let l=0;l<s;l++){let d=!1;W(n[l]).subscribe(N(o,f=>{d||(d=!0,c--),a[l]=f},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?Wi(r,a):a),o.complete())}))}});return e?i.pipe(zi(e)):i}function Re(t,e){return k((n,r)=>{let i=0;n.subscribe(N(r,o=>t.call(e,o,i++)&&r.next(o)))})}function pt(t){return k((e,n)=>{let r=null,i=!1,o;r=e.subscribe(N(n,void 0,void 0,s=>{o=W(t(s,pt(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Gl(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(N(s,l=>{let d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function vn(t,e){return E(e)?J(t,e,1):J(t,1)}function gt(t){return k((e,n)=>{let r=!1;e.subscribe(N(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function it(t){return t<=0?()=>he:k((e,n)=>{let r=0;e.subscribe(N(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function sa(t){return O(()=>t)}function Qi(t=Cm){return k((e,n)=>{let r=!1;e.subscribe(N(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Cm(){return new rt}function fr(t){return k((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ue(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Re((i,o)=>t(i,o,r)):fe,it(1),n?gt(e):Qi(()=>new rt))}function yn(t){return t<=0?()=>he:k((e,n)=>{let r=[];e.subscribe(N(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function aa(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Re((i,o)=>t(i,o,r)):fe,yn(1),n?gt(e):Qi(()=>new rt))}function ua(t,e){return k(Gl(t,e,arguments.length>=2,!0))}function ca(...t){let e=ht(t);return k((n,r)=>{(e?mn(t,n,e):mn(t,n)).subscribe(r)})}function Pe(t,e){return k((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(N(r,u=>{i?.unsubscribe();let c=0,l=o++;W(t(u,l)).subscribe(i=N(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function la(t){return k((e,n)=>{W(t).subscribe(N(n,()=>n.complete(),dr)),!n.closed&&e.subscribe(n)})}function te(t,e,n){let r=E(t)||e||n?{next:t,error:e,complete:n}:t;return r?k((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(N(o,u=>{var c;(c=r.next)===null||c===void 0||c.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,u),o.error(u)},()=>{var u,c;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):fe}var bm="https://g.co/ng/security#xss",D=class extends Error{constructor(e,n){super(uu(e,n)),this.code=e}};function uu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function _o(t){return{toString:t}.toString()}var hr=globalThis;function B(t){for(let e in t)if(t[e]===B)return e;throw Error("Could not find renamed property on target object.")}function _m(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ue(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ue).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function zl(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Em=B({__forward_ref__:B});function On(t){return t.__forward_ref__=On,t.toString=function(){return ue(this())},t}function ae(t){return Sd(t)?t():t}function Sd(t){return typeof t=="function"&&t.hasOwnProperty(Em)&&t.__forward_ref__===On}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Bt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Eo(t){return ql(t,xd)||ql(t,Td)}function Md(t){return Eo(t)!==null}function ql(t,e){return t.hasOwnProperty(e)?t[e]:null}function Im(t){let e=t&&(t[xd]||t[Td]);return e||null}function Wl(t){return t&&(t.hasOwnProperty(Yl)||t.hasOwnProperty(Sm))?t[Yl]:null}var xd=B({\u0275prov:B}),Yl=B({\u0275inj:B}),Td=B({ngInjectableDef:B}),Sm=B({ngInjectorDef:B}),S=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=_({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ad(t){return t&&!!t.\u0275providers}var Mm=B({\u0275cmp:B}),xm=B({\u0275dir:B}),Tm=B({\u0275pipe:B}),Am=B({\u0275mod:B}),io=B({\u0275fac:B}),pr=B({__NG_ELEMENT_ID__:B}),Zl=B({__NG_ENV_ID__:B});function Nd(t){return typeof t=="string"?t:t==null?"":String(t)}function Nm(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Nd(t)}function Om(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new D(-200,t)}function cu(t,e){throw new D(-201,!1)}var T=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(T||{}),Sa;function Od(){return Sa}function De(t){let e=Sa;return Sa=t,e}function Rd(t,e,n){let r=Eo(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&T.Optional)return null;if(e!==void 0)return e;cu(t,"Injector")}var Rm={},gr=Rm,Pm="__NG_DI_FLAG__",oo="ngTempTokenPath",km="ngTokenPath",Fm=/\n/gm,Lm="\u0275",Ql="__source",bn;function jm(){return bn}function mt(t){let e=bn;return bn=t,e}function Vm(t,e=T.Default){if(bn===void 0)throw new D(-203,!1);return bn===null?Rd(t,void 0,e):bn.get(t,e&T.Optional?null:void 0,e)}function F(t,e=T.Default){return(Od()||Vm)(ae(t),e)}function y(t,e=T.Default){return F(t,Io(e))}function Io(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ma(t){let e=[];for(let n=0;n<t.length;n++){let r=ae(t[n]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let i,o=T.Default;for(let s=0;s<r.length;s++){let a=r[s],u=$m(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(F(i,o))}else e.push(F(r))}return e}function $m(t){return t[Pm]}function Um(t,e,n,r){let i=t[oo];throw e[Ql]&&i.unshift(e[Ql]),t.message=Bm(`
`+t.message,i,n,r),t[km]=i,t[oo]=null,t}function Bm(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Lm?t.slice(2):t;let i=ue(e);if(Array.isArray(e))i=e.map(ue).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ue(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Fm,`
  `)}`}function En(t,e){let n=t.hasOwnProperty(io);return n?t[io]:null}function lu(t,e){t.forEach(n=>Array.isArray(n)?lu(n,e):e(n))}function Pd(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function so(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Hm(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Gm(t,e,n){let r=Sr(t,e);return r>=0?t[r|1]=n:(r=~r,Hm(t,r,e,n)),r}function da(t,e){let n=Sr(t,e);if(n>=0)return t[n|1]}function Sr(t,e){return zm(t,e,1)}function zm(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var In={},Ce=[],Sn=new S(""),kd=new S("",-1),Fd=new S(""),ao=class{get(e,n=gr){if(n===gr){let r=new Error(`NullInjectorError: No provider for ${ue(e)}!`);throw r.name="NullInjectorError",r}return n}},Ld=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ld||{}),Ge=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ge||{}),pe=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(pe||{});function qm(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function xa(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];Ym(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Wm(t){return t===3||t===4||t===6}function Ym(t){return t.charCodeAt(0)===64}function mr(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Kl(t,n,i,null,e[++r]):Kl(t,n,i,null,null))}}return t}function Kl(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var jd="ng-template";function Zm(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&qm(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(du(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function du(t){return t.type===4&&t.value!==jd}function Qm(t,e,n){let r=t.type===4&&!n?jd:t.value;return e===r}function Km(t,e,n){let r=4,i=t.attrs,o=i!==null?ev(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!ke(r)&&!ke(u))return!1;if(s&&ke(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Qm(t,u,n)||u===""&&e.length===1){if(ke(r))return!1;s=!0}}else if(r&8){if(i===null||!Zm(t,i,u,n)){if(ke(r))return!1;s=!0}}else{let c=e[++a],l=Jm(u,i,du(t),n);if(l===-1){if(ke(r))return!1;s=!0;continue}if(c!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),r&2&&c!==d){if(ke(r))return!1;s=!0}}}}return ke(r)||s}function ke(t){return(t&1)===0}function Jm(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return tv(e,t)}function Xm(t,e,n=!1){for(let r=0;r<e.length;r++)if(Km(t,e[r],n))return!0;return!1}function ev(t){for(let e=0;e<t.length;e++){let n=t[e];if(Wm(n))return e}return t.length}function tv(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Jl(t,e){return t?":not("+e.trim()+")":e}function nv(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ke(s)&&(e+=Jl(o,i),i=""),r=s,o=o||!ke(r);n++}return i!==""&&(e+=Jl(o,i)),e}function rv(t){return t.map(nv).join(",")}function iv(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!ke(i))break;i=o}r++}return{attrs:e,classes:n}}function Dt(t){return _o(()=>{let e=Hd(t),n=U(v({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ld.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ge.Emulated,styles:t.styles||Ce,_:null,schemas:t.schemas||null,tView:null,id:""});Gd(n);let r=t.dependencies;return n.directiveDefs=ed(r,!1),n.pipeDefs=ed(r,!0),n.id=av(n),n})}function ov(t){return Pt(t)||Vd(t)}function sv(t){return t!==null}function Ht(t){return _o(()=>({type:t.type,bootstrap:t.bootstrap||Ce,declarations:t.declarations||Ce,imports:t.imports||Ce,exports:t.exports||Ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Xl(t,e){if(t==null)return In;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=pe.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==pe.None?[r,a]:r,e[o]=s):n[o]=r}return n}function ge(t){return _o(()=>{let e=Hd(t);return Gd(e),e})}function Pt(t){return t[Mm]||null}function Vd(t){return t[xm]||null}function $d(t){return t[Tm]||null}function Ud(t){let e=Pt(t)||Vd(t)||$d(t);return e!==null?e.standalone:!1}function Bd(t,e){let n=t[Am]||null;if(!n&&e===!0)throw new Error(`Type ${ue(t)} does not have '\u0275mod' property.`);return n}function Hd(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||In,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ce,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xl(t.inputs,e),outputs:Xl(t.outputs),debugInfo:null}}function Gd(t){t.features?.forEach(e=>e(t))}function ed(t,e){if(!t)return null;let n=e?$d:ov;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(sv)}function av(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function So(t){return{\u0275providers:t}}function uv(...t){return{\u0275providers:zd(!0,t),\u0275fromNgModule:!0}}function zd(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return lu(e,s=>{let a=s;Ta(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&qd(i,o),n}function qd(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];fu(i,o=>{e(o,r)})}}function Ta(t,e,n,r){if(t=ae(t),!t)return!1;let i=null,o=Wl(t),s=!o&&Pt(t);if(!o&&!s){let u=t.ngModule;if(o=Wl(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of u)Ta(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{lu(o.imports,l=>{Ta(l,e,n,r)&&(c||=[],c.push(l))})}finally{}c!==void 0&&qd(c,e)}if(!a){let c=En(i)||(()=>new i);e({provide:i,useFactory:c,deps:Ce},i),e({provide:Fd,useValue:i,multi:!0},i),e({provide:Sn,useValue:()=>F(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let c=t;fu(u,l=>{e(l,c)})}}else return!1;return i!==t&&t.providers!==void 0}function fu(t,e){for(let n of t)Ad(n)&&(n=n.\u0275providers),Array.isArray(n)?fu(n,e):e(n)}var cv=B({provide:String,useValue:B});function Wd(t){return t!==null&&typeof t=="object"&&cv in t}function lv(t){return!!(t&&t.useExisting)}function dv(t){return!!(t&&t.useFactory)}function Mn(t){return typeof t=="function"}function fv(t){return!!t.useClass}var Mo=new S(""),Xi={},hv={},fa;function hu(){return fa===void 0&&(fa=new ao),fa}var _e=class{},vr=class extends _e{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Na(e,s=>this.processProvider(s)),this.records.set(kd,wn(void 0,this)),i.has("environment")&&this.records.set(_e,wn(void 0,this));let o=this.records.get(Mo);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Fd,Ce,T.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=L(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),L(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=mt(this),r=De(void 0),i;try{return e()}finally{mt(n),De(r)}}get(e,n=gr,r=T.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Zl))return e[Zl](this);r=Io(r);let i,o=mt(this),s=De(void 0);try{if(!(r&T.SkipSelf)){let u=this.records.get(e);if(u===void 0){let c=yv(e)&&Eo(e);c&&this.injectableDefInScope(c)?u=wn(Aa(e),Xi):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&T.Self?hu():this.parent;return n=r&T.Optional&&n===gr?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[oo]=a[oo]||[]).unshift(ue(e)),o)throw a;return Um(a,e,"R3InjectorError",this.source)}else throw a}finally{De(s),mt(o)}}resolveInjectorInitializers(){let e=L(null),n=mt(this),r=De(void 0),i;try{let o=this.get(Sn,Ce,T.Self);for(let s of o)s()}finally{mt(n),De(r),L(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ue(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){e=ae(e);let n=Mn(e)?e:ae(e&&e.provide),r=gv(e);if(!Mn(e)&&e.multi===!0){let i=this.records.get(n);i||(i=wn(void 0,Xi,!0),i.factory=()=>Ma(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=L(null);try{return n.value===Xi&&(n.value=hv,n.value=n.factory()),typeof n.value=="object"&&n.value&&vv(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{L(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ae(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Aa(t){let e=Eo(t),n=e!==null?e.factory:En(t);if(n!==null)return n;if(t instanceof S)throw new D(204,!1);if(t instanceof Function)return pv(t);throw new D(204,!1)}function pv(t){if(t.length>0)throw new D(204,!1);let n=Im(t);return n!==null?()=>n.factory(t):()=>new t}function gv(t){if(Wd(t))return wn(void 0,t.useValue);{let e=Yd(t);return wn(e,Xi)}}function Yd(t,e,n){let r;if(Mn(t)){let i=ae(t);return En(i)||Aa(i)}else if(Wd(t))r=()=>ae(t.useValue);else if(dv(t))r=()=>t.useFactory(...Ma(t.deps||[]));else if(lv(t))r=()=>F(ae(t.useExisting));else{let i=ae(t&&(t.useClass||t.provide));if(mv(t))r=()=>new i(...Ma(t.deps));else return En(i)||Aa(i)}return r}function wn(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function mv(t){return!!t.deps}function vv(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function yv(t){return typeof t=="function"||typeof t=="object"&&t instanceof S}function Na(t,e){for(let n of t)Array.isArray(n)?Na(n,e):n&&Ad(n)?Na(n.\u0275providers,e):e(n)}function Gt(t,e){t instanceof vr&&t.assertNotDestroyed();let n,r=mt(t),i=De(void 0);try{return e()}finally{mt(r),De(i)}}function wv(){return Od()!==void 0||jm()!=null}function Dv(t){return typeof t=="function"}var ut=0,R=1,b=2,ie=3,Fe=4,Le=5,uo=6,yr=7,ze=8,xn=9,qe=10,oe=11,wr=12,td=13,Rn=14,We=15,xo=16,Dn=17,Tn=18,To=19,Zd=20,vt=21,ha=22,kt=23,ot=25,Qd=1;var Ft=7,co=8,lo=9,be=10,pu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(pu||{});function Ot(t){return Array.isArray(t)&&typeof t[Qd]=="object"}function ct(t){return Array.isArray(t)&&t[Qd]===!0}function Kd(t){return(t.flags&4)!==0}function Ao(t){return t.componentOffset>-1}function gu(t){return(t.flags&1)===1}function yt(t){return!!t.template}function Cv(t){return(t[b]&512)!==0}var Oa=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Jd(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function zt(){return Xd}function Xd(t){return t.type.prototype.ngOnChanges&&(t.setInput=_v),bv}zt.ngInherit=!0;function bv(){let t=tf(this),e=t?.current;if(e){let n=t.previous;if(n===In)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function _v(t,e,n,r,i){let o=this.declaredInputs[r],s=tf(t)||Ev(t,{previous:In,current:null}),a=s.current||(s.current={}),u=s.previous,c=u[o];a[o]=new Oa(c&&c.currentValue,n,u===In),Jd(t,e,i,n)}var ef="__ngSimpleChanges__";function tf(t){return t[ef]||null}function Ev(t,e){return t[ef]=e}var nd=null;var Be=function(t,e,n){nd?.(t,e,n)},Iv="svg",Sv="math",Mv=!1;function xv(){return Mv}function Ye(t){for(;Array.isArray(t);)t=t[ut];return t}function Tv(t,e){return Ye(e[t])}function je(t,e){return Ye(e[t.index])}function nf(t,e){return t.data[e]}function Av(t,e){return t[e]}function Ct(t,e){let n=e[t];return Ot(n)?n:n[ut]}function mu(t){return(t[b]&128)===128}function Nv(t){return ct(t[ie])}function fo(t,e){return e==null?null:t[e]}function rf(t){t[Dn]=0}function Ov(t){t[b]&1024||(t[b]|=1024,mu(t)&&Dr(t))}function Rv(t,e){for(;t>0;)e=e[Rn],t--;return e}function vu(t){return!!(t[b]&9216||t[kt]?.dirty)}function Ra(t){t[qe].changeDetectionScheduler?.notify(1),vu(t)?Dr(t):t[b]&64&&(xv()?(t[b]|=1024,Dr(t)):t[qe].changeDetectionScheduler?.notify())}function Dr(t){t[qe].changeDetectionScheduler?.notify();let e=Cr(t);for(;e!==null&&!(e[b]&8192||(e[b]|=8192,!mu(e)));)e=Cr(e)}function of(t,e){if((t[b]&256)===256)throw new D(911,!1);t[vt]===null&&(t[vt]=[]),t[vt].push(e)}function Pv(t,e){if(t[vt]===null)return;let n=t[vt].indexOf(e);n!==-1&&t[vt].splice(n,1)}function Cr(t){let e=t[ie];return ct(e)?e[ie]:e}var P={lFrame:hf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function kv(){return P.lFrame.elementDepthCount}function Fv(){P.lFrame.elementDepthCount++}function Lv(){P.lFrame.elementDepthCount--}function sf(){return P.bindingsEnabled}function jv(){return P.skipHydrationRootTNode!==null}function Vv(t){return P.skipHydrationRootTNode===t}function $v(){P.skipHydrationRootTNode=null}function Z(){return P.lFrame.lView}function Ve(){return P.lFrame.tView}function Ee(){let t=af();for(;t!==null&&t.type===64;)t=t.parent;return t}function af(){return P.lFrame.currentTNode}function Uv(){let t=P.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Mr(t,e){let n=P.lFrame;n.currentTNode=t,n.isParent=e}function uf(){return P.lFrame.isParent}function Bv(){P.lFrame.isParent=!1}function Hv(){return P.lFrame.contextLView}function Gv(t){return P.lFrame.bindingIndex=t}function cf(){return P.lFrame.bindingIndex++}function zv(t){let e=P.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function qv(){return P.lFrame.inI18n}function Wv(t,e){let n=P.lFrame;n.bindingIndex=n.bindingRootIndex=t,Pa(e)}function Yv(){return P.lFrame.currentDirectiveIndex}function Pa(t){P.lFrame.currentDirectiveIndex=t}function Zv(t){let e=P.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function lf(t){P.lFrame.currentQueryIndex=t}function Qv(t){let e=t[R];return e.type===2?e.declTNode:e.type===1?t[Le]:null}function df(t,e,n){if(n&T.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&T.Host);)if(i=Qv(o),i===null||(o=o[Rn],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=P.lFrame=ff();return r.currentTNode=e,r.lView=t,!0}function yu(t){let e=ff(),n=t[R];P.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ff(){let t=P.lFrame,e=t===null?null:t.child;return e===null?hf(t):e}function hf(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function pf(){let t=P.lFrame;return P.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var gf=pf;function wu(){let t=pf();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Kv(t){return(P.lFrame.contextLView=Rv(t,P.lFrame.contextLView))[ze]}function xr(){return P.lFrame.selectedIndex}function Lt(t){P.lFrame.selectedIndex=t}function mf(){let t=P.lFrame;return nf(t.tView,t.selectedIndex)}function Jv(){return P.lFrame.currentNamespace}var vf=!0;function Du(){return vf}function Cu(t){vf=t}function Xv(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Xd(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function bu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function eo(t,e,n){yf(t,e,3,n)}function to(t,e,n,r){(t[b]&3)===n&&yf(t,e,n,r)}function pa(t,e){let n=t[b];(n&3)===e&&(n&=16383,n+=1,t[b]=n)}function yf(t,e,n,r){let i=r!==void 0?t[Dn]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Dn]+=65536),(a<o||o==-1)&&(ey(t,n,e,u),t[Dn]=(t[Dn]&4294901760)+u+2),u++}function rd(t,e){Be(4,t,e);let n=L(null);try{e.call(t)}finally{L(n),Be(5,t,e)}}function ey(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[b]>>14<t[Dn]>>16&&(t[b]&3)===e&&(t[b]+=16384,rd(a,o)):rd(a,o)}var _n=-1,jt=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function ty(t){return t instanceof jt}function ny(t){return(t.flags&8)!==0}function ry(t){return(t.flags&16)!==0}function wf(t){return t!==_n}function ho(t){return t&32767}function iy(t){return t>>16}function po(t,e){let n=iy(t),r=e;for(;n>0;)r=r[Rn],n--;return r}var ka=!0;function id(t){let e=ka;return ka=t,e}var oy=256,Df=oy-1,Cf=5,sy=0,He={};function ay(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(pr)&&(r=n[pr]),r==null&&(r=n[pr]=sy++);let i=r&Df,o=1<<i;e.data[t+(i>>Cf)]|=o}function go(t,e){let n=bf(t,e);if(n!==-1)return n;let r=e[R];r.firstCreatePass&&(t.injectorIndex=e.length,ga(r.data,t),ga(e,null),ga(r.blueprint,null));let i=_u(t,e),o=t.injectorIndex;if(wf(i)){let s=ho(i),a=po(i,e),u=a[R].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function ga(t,e){t.push(0,0,0,0,0,0,0,0,e)}function bf(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function _u(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Mf(i),r===null)return _n;if(n++,i=i[Rn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return _n}function Fa(t,e,n){ay(t,e,n)}function _f(t,e,n){if(n&T.Optional||t!==void 0)return t;cu(e,"NodeInjector")}function Ef(t,e,n,r){if(n&T.Optional&&r===void 0&&(r=null),!(n&(T.Self|T.Host))){let i=t[xn],o=De(void 0);try{return i?i.get(e,r,n&T.Optional):Rd(e,r,n&T.Optional)}finally{De(o)}}return _f(r,e,n)}function If(t,e,n,r=T.Default,i){if(t!==null){if(e[b]&2048&&!(r&T.Self)){let s=fy(t,e,n,r,He);if(s!==He)return s}let o=Sf(t,e,n,r,He);if(o!==He)return o}return Ef(e,n,r,i)}function Sf(t,e,n,r,i){let o=ly(n);if(typeof o=="function"){if(!df(e,t,r))return r&T.Host?_f(i,n,r):Ef(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&T.Optional))cu(n);else return s}finally{gf()}}else if(typeof o=="number"){let s=null,a=bf(t,e),u=_n,c=r&T.Host?e[We][Le]:null;for((a===-1||r&T.SkipSelf)&&(u=a===-1?_u(t,e):e[a+8],u===_n||!sd(r,!1)?a=-1:(s=e[R],a=ho(u),e=po(u,e)));a!==-1;){let l=e[R];if(od(o,a,l.data)){let d=uy(a,e,n,s,r,c);if(d!==He)return d}u=e[a+8],u!==_n&&sd(r,e[R].data[a+8]===c)&&od(o,a,e)?(s=l,a=ho(u),e=po(u,e)):a=-1}}return i}function uy(t,e,n,r,i,o){let s=e[R],a=s.data[t+8],u=r==null?Ao(a)&&ka:r!=s&&(a.type&3)!==0,c=i&T.Host&&o===a,l=cy(a,s,n,u,c);return l!==null?An(e,s,l,a):He}function cy(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,c=t.directiveEnd,l=o>>20,d=r?a:a+l,f=i?a+l:c;for(let h=d;h<f;h++){let g=s[h];if(h<u&&n===g||h>=u&&g.type===n)return h}if(i){let h=s[u];if(h&&yt(h)&&h.type===n)return u}return null}function An(t,e,n,r){let i=t[n],o=e.data;if(ty(i)){let s=i;s.resolving&&Om(Nm(o[n]));let a=id(s.canSeeViewProviders);s.resolving=!0;let u,c=s.injectImpl?De(s.injectImpl):null,l=df(t,r,T.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&Xv(n,o[n],e)}finally{c!==null&&De(c),id(a),s.resolving=!1,gf()}}return i}function ly(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(pr)?t[pr]:void 0;return typeof e=="number"?e>=0?e&Df:dy:e}function od(t,e,n){let r=1<<t;return!!(n[e+(t>>Cf)]&r)}function sd(t,e){return!(t&T.Self)&&!(t&T.Host&&e)}var Rt=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return If(this._tNode,this._lView,e,Io(r),n)}};function dy(){return new Rt(Ee(),Z())}function Tr(t){return _o(()=>{let e=t.prototype.constructor,n=e[io]||La(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[io]||La(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function La(t){return Sd(t)?()=>{let e=La(ae(t));return e&&e()}:En(t)}function fy(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[b]&2048&&!(s[b]&512);){let a=Sf(o,s,n,r|T.Self,He);if(a!==He)return a;let u=o.parent;if(!u){let c=s[Zd];if(c){let l=c.get(n,He,r);if(l!==He)return l}u=Mf(s),s=s[Rn]}o=u}return i}function Mf(t){let e=t[R],n=e.type;return n===2?e.declTNode:n===1?t[Le]:null}function ad(t,e=null,n=null,r){let i=xf(t,e,n,r);return i.resolveInjectorInitializers(),i}function xf(t,e=null,n=null,r,i=new Set){let o=[n||Ce,uv(t)];return r=r||(typeof t=="object"?void 0:ue(t)),new vr(o,e||hu(),r||null,i)}var Pn=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return ad({name:""},i,r,"");{let o=r.name??"";return ad({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=gr,e.NULL=new ao,e.\u0275prov=_({token:e,providedIn:"any",factory:()=>F(kd)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var hy="ngOriginalError";function ma(t){return t[hy]}var st=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ma(e);for(;n&&ma(n);)n=ma(n);return n||null}},Tf=new S("",{providedIn:"root",factory:()=>y(st).handleError.bind(void 0)}),Af=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=py,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),ja=class extends Af{constructor(e){super(),this._lView=e}onDestroy(e){return of(this._lView,e),()=>Pv(this._lView,e)}};function py(){return new ja(Z())}function gy(){return No(Ee(),Z())}function No(t,e){return new qt(je(t,e))}var qt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=gy;let t=e;return t})();var Va=class extends se{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,wv()&&(this.destroyRef=y(Af,{optional:!0})??void 0)}emit(e){let n=L(null);try{super.next(e)}finally{L(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=va(o),i&&(i=va(i)),s&&(s=va(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof K&&e.add(a),a}};function va(t){return e=>{setTimeout(t,void 0,e)}}var re=Va;function Nf(t){return(t.flags&128)===128}var Of=new Map,my=0;function vy(){return my++}function yy(t){Of.set(t[To],t)}function wy(t){Of.delete(t[To])}var ud="__ngContext__";function Vt(t,e){Ot(e)?(t[ud]=e[To],yy(e)):t[ud]=e}function Rf(t){return kf(t[wr])}function Pf(t){return kf(t[Fe])}function kf(t){for(;t!==null&&!ct(t);)t=t[Fe];return t}var $a;function Ff(t){$a=t}function Dy(){if($a!==void 0)return $a;if(typeof document<"u")return document;throw new D(210,!1)}var Eu=new S("",{providedIn:"root",factory:()=>Cy}),Cy="ng",Iu=new S(""),kn=new S("",{providedIn:"platform",factory:()=>"unknown"});var Su=new S("",{providedIn:"root",factory:()=>Dy().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var by="h",_y="b";var Ey=()=>null;function Mu(t,e,n=!1){return Ey(t,e,n)}var Lf=!1,Iy=new S("",{providedIn:"root",factory:()=>Lf});var Ua=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bm})`}};function xu(t){return t instanceof Ua?t.changingThisBreaksApplicationSecurity:t}function jf(t){return t instanceof Function?t():t}var at=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(at||{}),Sy;function Tu(t,e){return Sy(t,e)}function Cn(t,e,n,r,i){if(r!=null){let o,s=!1;ct(r)?o=r:Ot(r)&&(s=!0,r=r[ut]);let a=Ye(r);t===0&&n!==null?i==null?Hf(e,n,a):mo(e,n,a,i||null,!0):t===1&&n!==null?mo(e,n,a,i||null,!0):t===2?By(e,a,s):t===3&&e.destroyNode(a),o!=null&&Gy(e,t,o,n,i)}}function My(t,e){return t.createText(e)}function Vf(t,e,n){return t.createElement(e,n)}function xy(t,e){$f(t,e),e[ut]=null,e[Le]=null}function Ty(t,e,n,r,i,o){r[ut]=i,r[Le]=e,Oo(t,r,n,1,i,o)}function $f(t,e){e[qe].changeDetectionScheduler?.notify(1),Oo(t,e,e[oe],2,null,null)}function Ay(t){let e=t[wr];if(!e)return ya(t[R],t);for(;e;){let n=null;if(Ot(e))n=e[wr];else{let r=e[be];r&&(n=r)}if(!n){for(;e&&!e[Fe]&&e!==t;)Ot(e)&&ya(e[R],e),e=e[ie];e===null&&(e=t),Ot(e)&&ya(e[R],e),n=e&&e[Fe]}e=n}}function Ny(t,e,n,r){let i=be+r,o=n.length;r>0&&(n[i-1][Fe]=e),r<o-be?(e[Fe]=n[i],Pd(n,be+r,e)):(n.push(e),e[Fe]=null),e[ie]=n;let s=e[xo];s!==null&&n!==s&&Oy(s,e);let a=e[Tn];a!==null&&a.insertView(t),Ra(e),e[b]|=128}function Oy(t,e){let n=t[lo],i=e[ie][ie][We];e[We]!==i&&(t[b]|=pu.HasTransplantedViews),n===null?t[lo]=[e]:n.push(e)}function Uf(t,e){let n=t[lo],r=n.indexOf(e);n.splice(r,1)}function Ba(t,e){if(t.length<=be)return;let n=be+e,r=t[n];if(r){let i=r[xo];i!==null&&i!==t&&Uf(i,r),e>0&&(t[n-1][Fe]=r[Fe]);let o=so(t,be+e);xy(r[R],r);let s=o[Tn];s!==null&&s.detachView(o[R]),r[ie]=null,r[Fe]=null,r[b]&=-129}return r}function Bf(t,e){if(!(e[b]&256)){let n=e[oe];n.destroyNode&&Oo(t,e,n,3,null,null),Ay(e)}}function ya(t,e){if(e[b]&256)return;let n=L(null);try{e[b]&=-129,e[b]|=256,e[kt]&&wl(e[kt]),Py(t,e),Ry(t,e),e[R].type===1&&e[oe].destroy();let r=e[xo];if(r!==null&&ct(e[ie])){r!==e[ie]&&Uf(r,e);let i=e[Tn];i!==null&&i.detachView(t)}wy(e)}finally{L(n)}}function Ry(t,e){let n=t.cleanup,r=e[yr];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[yr]=null);let i=e[vt];if(i!==null){e[vt]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Py(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof jt)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Be(4,a,u);try{u.call(a)}finally{Be(5,a,u)}}else{Be(4,i,o);try{o.call(i)}finally{Be(5,i,o)}}}}}function ky(t,e,n){return Fy(t,e.parent,n)}function Fy(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[ut];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ge.None||o===Ge.Emulated)return null}return je(r,n)}}function mo(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Hf(t,e,n){t.appendChild(e,n)}function cd(t,e,n,r,i){r!==null?mo(t,e,n,r,i):Hf(t,e,n)}function Ly(t,e,n,r){t.removeChild(e,n,r)}function Au(t,e){return t.parentNode(e)}function jy(t,e){return t.nextSibling(e)}function Vy(t,e,n){return Uy(t,e,n)}function $y(t,e,n){return t.type&40?je(t,n):null}var Uy=$y,ld;function Nu(t,e,n,r){let i=ky(t,r,e),o=e[oe],s=r.parent||e[Le],a=Vy(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)cd(o,i,n[u],a,!1);else cd(o,i,n,a,!1);ld!==void 0&&ld(o,r,e,n,i)}function no(t,e){if(e!==null){let n=e.type;if(n&3)return je(e,t);if(n&4)return Ha(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return no(t,r);{let i=t[e.index];return ct(i)?Ha(-1,i):Ye(i)}}else{if(n&32)return Tu(e,t)()||Ye(t[e.index]);{let r=Gf(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Cr(t[We]);return no(i,r)}else return no(t,e.next)}}}return null}function Gf(t,e){if(e!==null){let r=t[We][Le],i=e.projection;return r.projection[i]}return null}function Ha(t,e){let n=be+t+1;if(n<e.length){let r=e[n],i=r[R].firstChild;if(i!==null)return no(r,i)}return e[Ft]}function By(t,e,n){let r=Au(t,e);r&&Ly(t,r,e,n)}function Ou(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Vt(Ye(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Ou(t,e,n.child,r,i,o,!1),Cn(e,t,i,a,o);else if(u&32){let c=Tu(n,r),l;for(;l=c();)Cn(e,t,i,l,o);Cn(e,t,i,a,o)}else u&16?Hy(t,e,r,n,i,o):Cn(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Oo(t,e,n,r,i,o){Ou(n,r,t.firstChild,e,i,o,!1)}function Hy(t,e,n,r,i,o){let s=n[We],u=s[Le].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++){let l=u[c];Cn(e,t,i,l,o)}else{let c=u,l=s[ie];Nf(r)&&(c.flags|=128),Ou(t,e,c,l,i,o,!0)}}function Gy(t,e,n,r,i){let o=n[Ft],s=Ye(n);o!==s&&Cn(e,t,r,o,i);for(let a=be;a<n.length;a++){let u=n[a];Oo(u[R],u,t,e,r,o)}}function zy(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:at.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=at.Important),t.setStyle(n,r,i,o))}}function qy(t,e,n){t.setAttribute(e,"style",n)}function zf(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function qf(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&xa(t,e,r),i!==null&&zf(t,e,i),o!==null&&qy(t,e,o)}var Fn={};function Ln(t=1){Wf(Ve(),Z(),xr()+t,!1)}function Wf(t,e,n,r){if(!r)if((e[b]&3)===3){let o=t.preOrderCheckHooks;o!==null&&eo(e,o,n)}else{let o=t.preOrderHooks;o!==null&&to(e,o,0,n)}Lt(n)}function j(t,e=T.Default){let n=Z();if(n===null)return F(t,e);let r=Ee();return If(r,n,ae(t),e)}function Yf(t,e,n,r,i,o){let s=L(null);try{let a=null;i&pe.SignalBased&&(a=e[r][gl]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&pe.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):Jd(e,a,r,o)}finally{L(s)}}function Wy(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Lt(~i);else{let o=i,s=n[++r],a=n[++r];Wv(s,o);let u=e[o];a(2,u)}}}finally{Lt(-1)}}function Ro(t,e,n,r,i,o,s,a,u,c,l){let d=e.blueprint.slice();return d[ut]=i,d[b]=r|4|128|8|64,(c!==null||t&&t[b]&2048)&&(d[b]|=2048),rf(d),d[ie]=d[Rn]=t,d[ze]=n,d[qe]=s||t&&t[qe],d[oe]=a||t&&t[oe],d[xn]=u||t&&t[xn]||null,d[Le]=o,d[To]=vy(),d[uo]=l,d[Zd]=c,d[We]=e.type==2?t[We]:d,d}function Po(t,e,n,r,i){let o=t.data[e];if(o===null)o=Yy(t,e,n,r,i),qv()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Uv();o.injectorIndex=s===null?-1:s.injectorIndex}return Mr(o,!0),o}function Yy(t,e,n,r,i){let o=af(),s=uf(),a=s?o:o&&o.parent,u=t.data[e]=Xy(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function Zf(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Qf(t,e,n,r,i){let o=xr(),s=r&2;try{Lt(-1),s&&e.length>ot&&Wf(t,e,ot,!1),Be(s?2:0,i),n(r,i)}finally{Lt(o),Be(s?3:1,i)}}function Kf(t,e,n){if(Kd(e)){let r=L(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{L(r)}}}function Jf(t,e,n){sf()&&(ow(t,e,n,je(n,e)),(n.flags&64)===64&&ih(t,e,n))}function Xf(t,e,n=je){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function eh(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ru(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ru(t,e,n,r,i,o,s,a,u,c,l){let d=ot+r,f=d+i,h=Zy(d,f),g=typeof c=="function"?c():c;return h[R]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:g,incompleteFirstPass:!1,ssrId:l}}function Zy(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Fn);return n}function Qy(t,e,n,r){let o=r.get(Iy,Lf)||n===Ge.ShadowDom,s=t.selectRootElement(e,o);return Ky(s),s}function Ky(t){Jy(t)}var Jy=()=>null;function Xy(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return jv()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function dd(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=pe.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?fd(r,n,c,a,u):fd(r,n,c,a)}return r}function fd(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function ew(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,c=null;for(let l=r;l<i;l++){let d=o[l],f=n?n.get(d):null,h=f?f.inputs:null,g=f?f.outputs:null;u=dd(0,d.inputs,l,u,h),c=dd(1,d.outputs,l,c,g);let m=u!==null&&s!==null&&!du(e)?pw(u,l,s):null;a.push(m)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}function tw(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function th(t,e,n,r,i,o,s,a){let u=je(e,n),c=e.inputs,l;!a&&c!=null&&(l=c[r])?(Pu(t,n,l,r,i),Ao(e)&&nw(n,e.index)):e.type&3?(r=tw(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function nw(t,e){let n=Ct(e,t);n[b]&16||(n[b]|=64)}function nh(t,e,n,r){if(sf()){let i=r===null?null:{"":-1},o=aw(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&rh(t,e,n,s,i,a),i&&uw(n,r,i)}n.mergedAttrs=mr(n.mergedAttrs,n.attrs)}function rh(t,e,n,r,i,o){for(let c=0;c<r.length;c++)Fa(go(n,e),t,r[c].type);lw(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=Zf(t,e,r.length,null);for(let c=0;c<r.length;c++){let l=r[c];n.mergedAttrs=mr(n.mergedAttrs,l.hostAttrs),dw(t,n,e,u,l),cw(u,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}ew(t,n,o)}function rw(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;iw(s)!=a&&s.push(a),s.push(n,r,o)}}function iw(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ow(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Ao(n)&&fw(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||go(n,e),Vt(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],c=An(e,t,a,n);if(Vt(c,e),s!==null&&hw(e,a-i,c,u,n,s),yt(u)){let l=Ct(n.index,e);l[ze]=An(e,t,a,n)}}}function ih(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Yv();try{Lt(o);for(let a=r;a<i;a++){let u=t.data[a],c=e[a];Pa(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&sw(u,c)}}finally{Lt(-1),Pa(s)}}function sw(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function aw(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(Xm(e,s.selectors,!1))if(r||(r=[]),yt(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Ga(t,e,u)}else r.unshift(s),Ga(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Ga(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function uw(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new D(-301,!1);r.push(e[i],o)}}}function cw(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yt(e)&&(n[""]=t)}}function lw(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function dw(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=En(i.type,!0)),s=new jt(o,yt(i),j);t.blueprint[r]=s,n[r]=s,rw(t,e,r,Zf(t,n,i.hostVars,Fn),i)}function fw(t,e,n){let r=je(e,t),i=eh(n),o=t[qe].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=ko(t,Ro(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function hw(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],c=s[a++],l=s[a++],d=s[a++];Yf(r,n,u,c,l,d)}}function pw(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function oh(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function sh(t,e){let n=t.contentQueries;if(n!==null){let r=L(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];lf(o),a.contentQueries(2,e[s],s)}}}finally{L(r)}}}function ko(t,e){return t[wr]?t[td][Fe]=e:t[wr]=e,t[td]=e,e}function za(t,e,n){lf(0);let r=L(null);try{e(t,n)}finally{L(r)}}function gw(t){return t[yr]||(t[yr]=[])}function mw(t){return t.cleanup||(t.cleanup=[])}function ah(t,e){let n=t[xn],r=n?n.get(st,null):null;r&&r.handleError(e)}function Pu(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],c=e[s],l=t.data[s];Yf(l,c,r,a,u,i)}}function vw(t,e){let n=Ct(e,t),r=n[R];yw(r,n);let i=n[ut];i!==null&&n[uo]===null&&(n[uo]=Mu(i,n[xn])),ku(r,n,n[ze])}function yw(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ku(t,e,n){yu(e);try{let r=t.viewQuery;r!==null&&za(1,r,n);let i=t.template;i!==null&&Qf(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Tn]?.finishViewCreation(t),t.staticContentQueries&&sh(t,e),t.staticViewQueries&&za(2,t.viewQuery,n);let o=t.components;o!==null&&ww(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[b]&=-5,wu()}}function ww(t,e){for(let n=0;n<e.length;n++)vw(t,e[n])}function Dw(t,e,n,r){let i=L(null);try{let o=e.tView,a=t[b]&4096?4096:16,u=Ro(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];u[xo]=c;let l=t[Tn];return l!==null&&(u[Tn]=l.createEmbeddedView(o)),ku(o,u,n),u}finally{L(i)}}function hd(t,e){return!e||e.firstChild===null||Nf(t)}function Cw(t,e,n,r=!0){let i=e[R];if(Ny(i,e,t,n),r){let s=Ha(n,t),a=e[oe],u=Au(a,t[Ft]);u!==null&&Ty(i,t[Le],a,e,u,s)}let o=e[uo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function vo(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Ye(o)),ct(o)&&bw(o,r);let s=n.type;if(s&8)vo(t,e,n.child,r);else if(s&32){let a=Tu(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Gf(e,n);if(Array.isArray(a))r.push(...a);else{let u=Cr(e[We]);vo(u[R],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function bw(t,e){for(let n=be;n<t.length;n++){let r=t[n],i=r[R].firstChild;i!==null&&vo(r[R],r,i,e)}t[Ft]!==t[ut]&&e.push(t[Ft])}var uh=[];function _w(t){return t[kt]??Ew(t)}function Ew(t){let e=uh.pop()??Object.create(Sw);return e.lView=t,e}function Iw(t){t.lView[kt]!==t&&(t.lView=null,uh.push(t))}var Sw=U(v({},ml),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Dr(t.lView)},consumerOnSignalRead(){this.lView[kt]=this}}),ch=100;function lh(t,e=!0,n=0){let r=t[qe],i=r.rendererFactory,o=!1;o||i.begin?.();try{Mw(t,n)}catch(s){throw e&&ah(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Mw(t,e){qa(t,e);let n=0;for(;vu(t);){if(n===ch)throw new D(103,!1);n++,qa(t,1)}}function xw(t,e,n,r){let i=e[b];if((i&256)===256)return;let o=!1;!o&&e[qe].inlineEffectRunner?.flush(),yu(e);let s=null,a=null;!o&&Tw(t)&&(a=_w(e),s=vl(a));try{rf(e),Gv(t.bindingStartIndex),n!==null&&Qf(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let d=t.preOrderCheckHooks;d!==null&&eo(e,d,null)}else{let d=t.preOrderHooks;d!==null&&to(e,d,0,null),pa(e,0)}if(Aw(e),dh(e,0),t.contentQueries!==null&&sh(t,e),!o)if(u){let d=t.contentCheckHooks;d!==null&&eo(e,d)}else{let d=t.contentHooks;d!==null&&to(e,d,1),pa(e,1)}Wy(t,e);let c=t.components;c!==null&&hh(e,c,0);let l=t.viewQuery;if(l!==null&&za(2,l,r),!o)if(u){let d=t.viewCheckHooks;d!==null&&eo(e,d)}else{let d=t.viewHooks;d!==null&&to(e,d,2),pa(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ha]){for(let d of e[ha])d();e[ha]=null}o||(e[b]&=-73)}catch(u){throw Dr(e),u}finally{a!==null&&(yl(a,s),Iw(a)),wu()}}function Tw(t){return t.type!==2}function dh(t,e){for(let n=Rf(t);n!==null;n=Pf(n))for(let r=be;r<n.length;r++){let i=n[r];fh(i,e)}}function Aw(t){for(let e=Rf(t);e!==null;e=Pf(e)){if(!(e[b]&pu.HasTransplantedViews))continue;let n=e[lo];for(let r=0;r<n.length;r++){let i=n[r],o=i[ie];Ov(i)}}}function Nw(t,e,n){let r=Ct(e,t);fh(r,n)}function fh(t,e){mu(t)&&qa(t,e)}function qa(t,e){let r=t[R],i=t[b],o=t[kt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&zs(o)),o&&(o.dirty=!1),t[b]&=-9217,s)xw(r,t,r.template,t[ze]);else if(i&8192){dh(t,1);let a=r.components;a!==null&&hh(t,a,1)}}function hh(t,e,n){for(let r=0;r<e.length;r++)Nw(t,e[r],n)}function Fu(t){for(t[qe].changeDetectionScheduler?.notify();t;){t[b]|=64;let e=Cr(t);if(Cv(t)&&!e)return t;t=e}return null}var $t=class{get rootNodes(){let e=this._lView,n=e[R];return vo(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ze]}set context(e){this._lView[ze]=e}get destroyed(){return(this._lView[b]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ie];if(ct(e)){let n=e[co],r=n?n.indexOf(this):-1;r>-1&&(Ba(e,r),so(n,r))}this._attachedToViewContainer=!1}Bf(this._lView[R],this._lView)}onDestroy(e){of(this._lView,e)}markForCheck(){Fu(this._cdRefInjectingView||this._lView)}detach(){this._lView[b]&=-129}reattach(){Ra(this._lView),this._lView[b]|=128}detectChanges(){this._lView[b]|=1024,lh(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,$f(this._lView[R],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e,Ra(this._lView)}},Lu=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Pw;let t=e;return t})(),Ow=Lu,Rw=class extends Ow{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Dw(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new $t(i)}};function Pw(){return ph(Ee(),Z())}function ph(t,e){return t.type&4?new Rw(e,t,No(t,e)):null}var PT=new RegExp(`^(\\d+)*(${_y}|${by})*(.*)`);var kw=()=>null;function pd(t,e){return kw(t,e)}var Wa=class{},Ya=class{},yo=class{};function Fw(t){let e=Error(`No component factory found for ${ue(t)}.`);return e[Lw]=t,e}var Lw="ngComponent";var Za=class{resolveComponentFactory(e){throw Fw(e)}},Fo=(()=>{let e=class e{};e.NULL=new Za;let t=e;return t})(),br=class{},jn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>jw();let t=e;return t})();function jw(){let t=Z(),e=Ee(),n=Ct(e.index,t);return(Ot(n)?n:t)[oe]}var Vw=(()=>{let e=class e{};e.\u0275prov=_({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),wa={};var gd=new Set;function gh(t){gd.has(t)||(gd.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var mh=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=_({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Qa(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=zl(i,a);else if(o==2){let u=a,c=e[++s];r=zl(r,u+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var wo=class extends Fo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Pt(e);return new _r(n,this.ngModule)}};function md(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function $w(t){let e=t.toLowerCase();return e==="svg"?Iv:e==="math"?Sv:null}var Ka=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Io(r);let i=this.injector.get(e,wa,r);return i!==wa||n===wa?i:this.parentInjector.get(e,n,r)}},_r=class extends yo{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=md(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return md(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=rv(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=L(null);try{i=i||this.ngModule;let s=i instanceof _e?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Ka(e,s):e,u=a.get(br,null);if(u===null)throw new D(407,!1);let c=a.get(Vw,null),l=a.get(mh,null),d=a.get(Wa,null),f={rendererFactory:u,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},h=u.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=r?Qy(h,r,this.componentDef.encapsulation,a):Vf(h,g,$w(g)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let C=null;m!==null&&(C=Mu(m,a,!0));let Q=Ru(0,null,null,1,0,null,null,null,null,null,null),z=Ro(null,Q,null,w,null,null,f,h,a,null,C);yu(z);let H,ce;try{let Ne=this.componentDef,an,Hs=null;Ne.findHostDirectiveDefs?(an=[],Hs=new Map,Ne.findHostDirectiveDefs(Ne,an,Hs),an.push(Ne)):an=[Ne];let Zg=Uw(z,m),Qg=Bw(Zg,m,Ne,an,z,f,h);ce=nf(Q,ot),m&&zw(h,Ne,m,r),n!==void 0&&qw(ce,this.ngContentSelectors,n),H=Gw(Qg,Ne,an,Hs,z,[Ww]),ku(Q,z,null)}finally{wu()}return new Ja(this.componentType,H,No(ce,z),z,ce)}finally{L(o)}}},Ja=class extends Ya{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new $t(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Pu(o[R],o,i,e,n),this.previousInputValues.set(e,n);let s=Ct(this._tNode.index,o);Fu(s)}}get injector(){return new Rt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Uw(t,e){let n=t[R],r=ot;return t[r]=e,Po(n,r,2,"#host",null)}function Bw(t,e,n,r,i,o,s){let a=i[R];Hw(r,t,e,s);let u=null;e!==null&&(u=Mu(e,i[xn]));let c=o.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Ro(i,eh(n),null,l,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&Ga(a,t,r.length-1),ko(i,d),i[t.index]=d}function Hw(t,e,n,r){for(let i of t)e.mergedAttrs=mr(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Qa(e,e.mergedAttrs,!0),n!==null&&qf(r,n,e))}function Gw(t,e,n,r,i,o){let s=Ee(),a=i[R],u=je(s,i);rh(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,f=An(i,a,d,s);Vt(f,i)}ih(a,i,s),u&&Vt(u,i);let c=An(i,a,s.directiveStart+s.componentOffset,s);if(t[ze]=i[ze]=c,o!==null)for(let l of o)l(c,e);return Kf(a,s,i),c}function zw(t,e,n,r){if(r)xa(t,n,["ng-version","17.3.7"]);else{let{attrs:i,classes:o}=iv(e.selectors[0]);i&&xa(t,n,i),o&&o.length>0&&zf(t,n,o.join(" "))}}function qw(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function Ww(){let t=Ee();bu(Z()[R],t)}var Ar=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Yw;let t=e;return t})();function Yw(){let t=Ee();return Qw(t,Z())}var Zw=Ar,vh=class extends Zw{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return No(this._hostTNode,this._hostLView)}get injector(){return new Rt(this._hostTNode,this._hostLView)}get parentInjector(){let e=_u(this._hostTNode,this._hostLView);if(wf(e)){let n=po(e,this._hostLView),r=ho(e),i=n[R].data[r+8];return new Rt(i,n)}else return new Rt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=vd(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-be}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=pd(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,hd(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!Dv(e),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let u=s?e:new _r(Pt(e)),c=r||this.parentInjector;if(!o&&u.ngModule==null){let m=(s?c:this.parentInjector).get(_e,null);m&&(o=m)}let l=Pt(u.componentType??{}),d=pd(this._lContainer,l?.id??null),f=d?.firstChild??null,h=u.create(c,i,f,o);return this.insertImpl(h.hostView,a,hd(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Nv(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[ie],c=new vh(u,u[Le],u[ie]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Cw(s,i,o,r),e.attachToViewContainerRef(),Pd(Da(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=vd(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ba(this._lContainer,n);r&&(so(Da(this._lContainer),n),Bf(r[R],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ba(this._lContainer,n);return r&&so(Da(this._lContainer),n)!=null?new $t(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function vd(t){return t[co]}function Da(t){return t[co]||(t[co]=[])}function Qw(t,e){let n,r=e[t.index];return ct(r)?n=r:(n=oh(r,e,null,t),e[t.index]=n,ko(e,n)),Jw(n,e,t,r),new vh(n,t,e)}function Kw(t,e){let n=t[oe],r=n.createComment(""),i=je(e,t),o=Au(n,i);return mo(n,o,r,jy(n,i),!1),r}var Jw=tD,Xw=()=>!1;function eD(t,e,n){return Xw(t,e,n)}function tD(t,e,n,r){if(t[Ft])return;let i;n.type&8?i=Ye(r):i=Kw(e,n),t[Ft]=i}function nD(t){return Object.getPrototypeOf(t.prototype).constructor}function bt(t){let e=nD(t.type),n=!0,r=[t];for(;e;){let i;if(yt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Ki(t.inputs),s.inputTransforms=Ki(t.inputTransforms),s.declaredInputs=Ki(t.declaredInputs),s.outputs=Ki(t.outputs);let a=i.hostBindings;a&&aD(t,a);let u=i.viewQuery,c=i.contentQueries;if(u&&oD(t,u),c&&sD(t,c),rD(t,i),_m(t.outputs,i.outputs),yt(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===bt&&(n=!1)}}e=Object.getPrototypeOf(e)}iD(r)}function rD(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function iD(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=mr(i.hostAttrs,n=mr(n,i.hostAttrs))}}function Ki(t){return t===In?{}:t===Ce?[]:t}function oD(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function sD(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function aD(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var wt=class{},Er=class{};var Xa=class extends wt{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wo(this);let i=Bd(e);this._bootstrapComponents=jf(i.bootstrap),this._r3Injector=xf(e,n,[{provide:wt,useValue:this},{provide:Fo,useValue:this.componentFactoryResolver},...r],ue(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},eu=class extends Er{constructor(e){super(),this.moduleType=e}create(e){return new Xa(this.moduleType,e,[])}};var Do=class extends wt{constructor(e){super(),this.componentFactoryResolver=new wo(this),this.instance=null;let n=new vr([...e.providers,{provide:wt,useValue:this},{provide:Fo,useValue:this.componentFactoryResolver}],e.parent||hu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ju(t,e,n=null){return new Do({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Lo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ee(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Vu(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function uD(t){return(t.flags&32)===32}function cD(t,e,n,r,i,o,s,a,u){let c=e.consts,l=Po(e,t,4,s||null,fo(c,a));nh(e,n,l,fo(c,u)),bu(e,l);let d=l.tView=Ru(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function $u(t,e,n,r,i,o,s,a){let u=Z(),c=Ve(),l=t+ot,d=c.firstCreatePass?cD(l,c,u,e,n,r,i,o,s):c.data[l];Mr(d,!1);let f=lD(c,u,d,t);Du()&&Nu(c,u,f,d),Vt(f,u);let h=oh(f,u,f,d);return u[l]=h,ko(u,h),eD(h,d,u),gu(d)&&Jf(c,u,d),s!=null&&Xf(u,d,a),$u}var lD=dD;function dD(t,e,n,r){return Cu(!0),e[oe].createComment("")}function yd(...t){}function fD(){let t=typeof hr.requestAnimationFrame=="function",e=hr[t?"requestAnimationFrame":"setTimeout"],n=hr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Y=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new re(!1),this.onMicrotaskEmpty=new re(!1),this.onStable=new re(!1),this.onError=new re(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=fD().nativeRequestAnimationFrame,gD(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new D(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,hD,yd,yd);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},hD={};function Uu(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pD(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(hr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,tu(t),t.isCheckStableRunning=!0,Uu(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),tu(t))}function gD(t){let e=()=>{pD(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(mD(a))return n.invokeTask(i,o,s,a);try{return wd(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Dd(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return wd(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Dd(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,tu(t),Uu(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function tu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function wd(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Dd(t){t._nesting--,Uu(t)}function mD(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function vD(t,e,n,r){return Vu(t,cf(),n)?e+Nd(n)+r:Fn}function Ji(t,e){return t<<17|e<<2}function Ut(t){return t>>17&32767}function yD(t){return(t&2)==2}function wD(t,e){return t&131071|e<<17}function nu(t){return t|2}function Nn(t){return(t&131068)>>2}function Ca(t,e){return t&-131069|e<<2}function DD(t){return(t&1)===1}function ru(t){return t|1}function CD(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ut(s),u=Nn(s);t[r]=n;let c=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Sr(d,l)>0)&&(c=!0)}else l=n;if(i)if(u!==0){let f=Ut(t[a+1]);t[r+1]=Ji(f,a),f!==0&&(t[f+1]=Ca(t[f+1],r)),t[a+1]=wD(t[a+1],r)}else t[r+1]=Ji(a,0),a!==0&&(t[a+1]=Ca(t[a+1],r)),a=r;else t[r+1]=Ji(u,0),a===0?a=r:t[u+1]=Ca(t[u+1],r),u=r;c&&(t[r+1]=nu(t[r+1])),Cd(t,l,r,!0),Cd(t,l,r,!1),bD(e,l,t,r,o),s=Ji(a,u),o?e.classBindings=s:e.styleBindings=s}function bD(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Sr(o,e)>=0&&(n[r+1]=ru(n[r+1]))}function Cd(t,e,n,r){let i=t[n+1],o=e===null,s=r?Ut(i):Nn(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],c=t[s+1];_D(u,e)&&(a=!0,t[s+1]=r?ru(c):nu(c)),s=r?Ut(c):Nn(c)}a&&(t[n+1]=r?nu(i):ru(i))}function _D(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Sr(t,e)>=0:!1}function Ze(t,e,n){let r=Z(),i=cf();if(Vu(r,i,e)){let o=Ve(),s=mf();th(o,s,r,t,e,r[oe],n,!1)}return Ze}function bd(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Pu(t,n,o[s],s,r)}function jo(t,e){return ED(t,e,null,!0),jo}function ED(t,e,n,r){let i=Z(),o=Ve(),s=zv(2);if(o.firstUpdatePass&&SD(o,t,s,r),e!==Fn&&Vu(i,s,e)){let a=o.data[xr()];ND(o,a,i,i[oe],t,i[s+1]=OD(e,n),r,s)}}function ID(t,e){return e>=t.expandoStartIndex}function SD(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[xr()],s=ID(t,n);RD(o,r)&&e===null&&!s&&(e=!1),e=MD(i,o,e,r),CD(i,o,e,n,s,r)}}function MD(t,e,n,r){let i=Zv(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ba(null,t,e,n,r),n=Ir(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=ba(i,t,e,n,r),o===null){let u=xD(t,e,r);u!==void 0&&Array.isArray(u)&&(u=ba(null,t,e,u[1],r),u=Ir(u,e.attrs,r),TD(t,e,r,u))}else o=AD(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function xD(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Nn(r)!==0)return t[Ut(r)]}function TD(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ut(i)]=r}function AD(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ir(r,s,n)}return Ir(r,e.attrs,n)}function ba(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ir(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ir(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Gm(t,s,n?!0:e[++o]))}return t===void 0?null:t}function ND(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,c=u[a+1],l=DD(c)?_d(u,e,n,i,Nn(c),s):void 0;if(!Co(l)){Co(o)||yD(c)&&(o=_d(u,null,n,i,a,s));let d=Tv(xr(),n);zy(r,s,d,i,o)}}function _d(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=l===null,f=n[i+1];f===Fn&&(f=d?Ce:void 0);let h=d?da(f,r):l===r?f:void 0;if(c&&!Co(h)&&(h=da(u,r)),Co(h)&&(a=h,s))return a;let g=t[i+1];i=s?Ut(g):Nn(g)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=da(u,r))}return a}function Co(t){return t!==void 0}function OD(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ue(xu(t)))),t}function RD(t,e){return(t.flags&(e?8:16))!==0}function PD(t,e,n,r,i,o){let s=e.consts,a=fo(s,i),u=Po(e,t,2,r,a);return nh(e,n,u,fo(s,o)),u.attrs!==null&&Qa(u,u.attrs,!1),u.mergedAttrs!==null&&Qa(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function de(t,e,n,r){let i=Z(),o=Ve(),s=ot+t,a=i[oe],u=o.firstCreatePass?PD(s,o,i,e,n,r):o.data[s],c=kD(o,i,u,a,e,t);i[s]=c;let l=gu(u);return Mr(u,!0),qf(a,c,u),!uD(u)&&Du()&&Nu(o,i,c,u),kv()===0&&Vt(c,i),Fv(),l&&(Jf(o,i,u),Kf(o,u,i)),r!==null&&Xf(i,u),de}function me(){let t=Ee();uf()?Bv():(t=t.parent,Mr(t,!1));let e=t;Vv(e)&&$v(),Lv();let n=Ve();return n.firstCreatePass&&(bu(n,t),Kd(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&ny(e)&&bd(n,e,Z(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ry(e)&&bd(n,e,Z(),e.stylesWithoutHost,!1),me}function Ie(t,e,n,r){return de(t,e,n,r),me(),Ie}var kD=(t,e,n,r,i,o)=>(Cu(!0),Vf(r,i,Jv()));var bo="en-US";var FD=bo;function LD(t){typeof t=="string"&&(FD=t.toLowerCase().replace(/_/g,"-"))}function Qe(t,e,n,r){let i=Z(),o=Ve(),s=Ee();return VD(o,i,i[oe],s,t,e,r),Qe}function jD(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[yr],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function VD(t,e,n,r,i,o,s){let a=gu(r),c=t.firstCreatePass&&mw(t),l=e[ze],d=gw(e),f=!0;if(r.type&3||s){let m=je(r,e),w=s?s(m):m,C=d.length,Q=s?H=>s(Ye(H[r.index])):r.index,z=null;if(!s&&a&&(z=jD(t,e,i,r.index)),z!==null){let H=z.__ngLastListenerFn__||z;H.__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,f=!1}else{o=Id(r,e,l,o,!1);let H=n.listen(w,i,o);d.push(o,H),c&&c.push(i,Q,C,C+1)}}else o=Id(r,e,l,o,!1);let h=r.outputs,g;if(f&&h!==null&&(g=h[i])){let m=g.length;if(m)for(let w=0;w<m;w+=2){let C=g[w],Q=g[w+1],ce=e[C][Q].subscribe(o),Ne=d.length;d.push(o,ce),c&&c.push(i,r.index,Ne,-(Ne+1))}}}function Ed(t,e,n,r){let i=L(null);try{return Be(6,e,n),n(r)!==!1}catch(o){return ah(t,o),!1}finally{Be(7,e,n),L(i)}}function Id(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Ct(t.index,e):e;Fu(a);let u=Ed(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=Ed(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function yh(t=1){return Kv(t)}function Bu(t,e,n){return wh(t,"",e,"",n),Bu}function wh(t,e,n,r,i){let o=Z(),s=vD(o,e,n,r);if(s!==Fn){let a=Ve(),u=mf();th(a,u,o,t,s,o[oe],i,!1)}return wh}function Dh(t){let e=Hv();return Av(e,ot+t)}function Ke(t,e=""){let n=Z(),r=Ve(),i=t+ot,o=r.firstCreatePass?Po(r,i,1,e,null):r.data[i],s=$D(r,n,o,e,t);n[i]=s,Du()&&Nu(r,n,s,o),Mr(o,!1)}var $D=(t,e,n,r,i)=>(Cu(!0),My(e[oe],r));function UD(t,e,n){let r=Ve();if(r.firstCreatePass){let i=yt(t);iu(n,r.data,r.blueprint,i,!0),iu(e,r.data,r.blueprint,i,!1)}}function iu(t,e,n,r,i){if(t=ae(t),Array.isArray(t))for(let o=0;o<t.length;o++)iu(t[o],e,n,r,i);else{let o=Ve(),s=Z(),a=Ee(),u=Mn(t)?t:ae(t.provide),c=Yd(t),l=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Mn(t)||!t.multi){let h=new jt(c,i,j),g=Ea(u,e,i?l:l+f,d);g===-1?(Fa(go(a,s),o,u),_a(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[g]=h,s[g]=h)}else{let h=Ea(u,e,l+f,d),g=Ea(u,e,l,l+f),m=h>=0&&n[h],w=g>=0&&n[g];if(i&&!w||!i&&!m){Fa(go(a,s),o,u);let C=GD(i?HD:BD,n.length,i,r,c);!i&&w&&(n[g].providerFactory=C),_a(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),s.push(C)}else{let C=Ch(n[i?g:h],c,!i&&r);_a(o,t,h>-1?h:g,C)}!i&&r&&w&&n[g].componentProviders++}}}function _a(t,e,n,r){let i=Mn(e),o=fv(e);if(i||o){let u=(o?ae(e.useClass):e).prototype.ngOnDestroy;if(u){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=c.indexOf(n);l===-1?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function Ch(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ea(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function BD(t,e,n,r){return ou(this.multi,[])}function HD(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=An(n,n[R],this.providerFactory.index,r);o=a.slice(0,s),ou(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],ou(i,o);return o}function ou(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function GD(t,e,n,r,i){let o=new jt(t,n,j);return o.multi=[],o.index=e,o.componentProviders=0,Ch(o,i,r&&!n),o}function Vo(t,e=[]){return n=>{n.providersResolver=(r,i)=>UD(r,i?i(t):t,e)}}var zD=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=zd(!1,r.type),o=i.length>0?ju([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=_({token:e,providedIn:"environment",factory:()=>new e(F(_e))});let t=e;return t})();function _t(t){gh("NgStandalone"),t.getStandaloneInjector=e=>e.get(zD).getOrCreateStandaloneInjector(t)}function bh(t,e){return ph(t,e)}var $o=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var _h=new S("");function Wt(t){return!!t&&typeof t.then=="function"}function Eh(t){return!!t&&typeof t.subscribe=="function"}var Ih=new S(""),Sh=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=y(Ih,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Wt(s))r.push(s);else if(Eh(s)){let a=new Promise((u,c)=>{s.subscribe({complete:u,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hu=new S("");function qD(){Dl(()=>{throw new D(600,!1)})}function WD(t){return t.isBoundToModule}function YD(t,e,n){try{let r=n();return Wt(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Nr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=y(Tf),this.afterRenderEffectManager=y(mh),this.externalTestViews=new Set,this.beforeRender=new se,this.afterTick=new se,this.componentTypes=[],this.components=[],this.isStable=y(Lo).hasPendingTasks.pipe(O(r=>!r)),this._injector=y(_e)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof yo;if(!this._injector.get(Sh).done){let h=!o&&Ud(r),g=!1;throw new D(405,g)}let a;o?a=r:a=this._injector.get(Fo).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=WD(a)?void 0:this._injector.get(wt),c=i||a.selector,l=a.create(Pn.NULL,[],c,u),d=l.location.nativeElement,f=l.injector.get(_h,null);return f?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Ia(this.components,l),f?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new D(101,!1);let i=L(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,L(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===ch)throw new D(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:u}of this._views)ZD(a,s,u)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>su(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>su(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Ia(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Hu,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ia(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new D(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ia(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ZD(t,e,n){!e&&!su(t)||QD(t,n,e)}function su(t){return vu(t)}function QD(t,e,n){let r;n?(r=0,t[b]|=1024):t[b]&64?r=0:r=1,lh(t,e,r)}var au=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Gu=(()=>{let e=class e{compileModuleSync(r){return new eu(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=Bd(r),s=jf(o.declarations).reduce((a,u)=>{let c=Pt(u);return c&&a.push(new _r(c)),a},[]);return new au(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var KD=(()=>{let e=class e{constructor(){this.zone=y(Y),this.applicationRef=y(Nr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function JD(t){return[{provide:Y,useFactory:t},{provide:Sn,multi:!0,useFactory:()=>{let e=y(KD,{optional:!0});return()=>e.initialize()}},{provide:Sn,multi:!0,useFactory:()=>{let e=y(nC);return()=>{e.initialize()}}},{provide:Tf,useFactory:XD}]}function XD(){let t=y(Y),e=y(st);return n=>t.runOutsideAngular(()=>e.handleError(n))}function eC(t){let e=JD(()=>new Y(tC(t)));return So([[],e])}function tC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var nC=(()=>{let e=class e{constructor(){this.subscription=new K,this.initialized=!1,this.zone=y(Y),this.pendingTasks=y(Lo)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Y.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Y.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rC(){return typeof $localize<"u"&&$localize.locale||bo}var zu=new S("",{providedIn:"root",factory:()=>y(zu,T.Optional|T.SkipSelf)||rC()});var Mh=new S("");var ro=null;function iC(t=[],e){return Pn.create({name:e,providers:[{provide:Mo,useValue:"platform"},{provide:Mh,useValue:new Set([()=>ro=null])},...t]})}function oC(t=[]){if(ro)return ro;let e=iC(t);return ro=e,qD(),sC(e),e}function sC(t){t.get(Iu,null)?.forEach(n=>n())}var Vn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=aC;let t=e;return t})();function aC(t){return uC(Ee(),Z(),(t&16)===16)}function uC(t,e,n){if(Ao(t)&&!n){let r=Ct(t.index,e);return new $t(r,r)}else if(t.type&47){let r=e[We];return new $t(r,e)}return null}function xh(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=oC(r),o=[eC(),...n||[]],a=new Do({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Y);return u.run(()=>{a.resolveInjectorInitializers();let c=a.get(st,null),l;u.runOutsideAngular(()=>{l=u.onError.subscribe({next:h=>{c.handleError(h)}})});let d=()=>a.destroy(),f=i.get(Mh);return f.add(d),a.onDestroy(()=>{l.unsubscribe(),f.delete(d)}),YD(c,u,()=>{let h=a.get(Sh);return h.runInitializers(),h.donePromise.then(()=>{let g=a.get(zu,bo);LD(g||bo);let m=a.get(Nr);return e!==void 0&&m.bootstrap(e),m})})})}catch(e){return Promise.reject(e)}}var Rh=null;function lt(){return Rh}function Ph(t){Rh??=t}var Uo=class{};var Se=new S(""),kh=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>y(dC),providedIn:"platform"});let t=e;return t})();var dC=(()=>{let e=class e extends kh{constructor(){super(),this._doc=y(Se),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return lt().getBaseHref(this._doc)}onPopState(r){let i=lt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=lt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Fh(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Th(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Yt(t){return t&&t[0]!=="?"?"?"+t:t}var Ho=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>y(Lh),providedIn:"root"});let t=e;return t})(),fC=new S(""),Lh=(()=>{let e=class e extends Ho{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??y(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Fh(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Yt(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Yt(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Yt(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(F(kh),F(fC,8))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Or=(()=>{let e=class e{constructor(r){this._subject=new re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=gC(Th(Ah(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Yt(i))}normalize(r){return e.stripTrailingSlash(pC(this._basePath,Ah(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Yt(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Yt(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Yt,e.joinWithSlash=Fh,e.stripTrailingSlash=Th,e.\u0275fac=function(i){return new(i||e)(F(Ho))},e.\u0275prov=_({token:e,factory:()=>hC(),providedIn:"root"});let t=e;return t})();function hC(){return new Or(F(Ho))}function pC(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Ah(t){return t.replace(/\/index.html$/,"")}function gC(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function jh(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Vh=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new qu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Nh("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Nh("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(j(Ar),j(Lu))},e.\u0275dir=ge({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),qu=class{constructor(){this.$implicit=null,this.ngIf=null}};function Nh(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ue(e)}'.`)}var Yu=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=Bt({});let t=e;return t})(),$h="browser",mC="server";function Zu(t){return t===mC}var Bo=class{};var Ju=class extends Uo{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Xu=class t extends Ju{static makeCurrent(){Ph(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=wC();return n==null?null:DC(n)}resetBaseElement(){Rr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return jh(document.cookie,e)}},Rr=null;function wC(){return Rr=Rr||document.querySelector("base"),Rr?Rr.getAttribute("href"):null}function DC(t){return new URL(t,document.baseURI).pathname}var CC=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),ec=new S(""),Gh=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new D(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(F(ec),F(Y))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Go=class{constructor(e){this._doc=e}},Qu="ng-app-id",zh=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Zu(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Qu}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Qu),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Qu,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(F(Se),F(Eu),F(Su,8),F(kn))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Ku={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nc=/%COMP%/g,qh="%COMP%",bC=`_nghost-${qh}`,_C=`_ngcontent-${qh}`,EC=!0,IC=new S("",{providedIn:"root",factory:()=>EC});function SC(t){return _C.replace(nc,t)}function MC(t){return bC.replace(nc,t)}function Wh(t,e){return e.map(n=>n.replace(nc,t))}var Uh=(()=>{let e=class e{constructor(r,i,o,s,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Zu(u),this.defaultRenderer=new Pr(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ge.ShadowDom&&(i=U(v({},i),{encapsulation:Ge.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof zo?o.applyToHost(r):o instanceof kr&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Ge.Emulated:s=new zo(c,l,i,this.appId,d,a,u,f);break;case Ge.ShadowDom:return new tc(c,l,r,i,a,u,this.nonce,f);default:s=new kr(c,l,i,d,a,u,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(F(Gh),F(zh),F(Eu),F(IC),F(Se),F(kn),F(Y),F(Su))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Pr=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ku[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Bh(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Bh(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new D(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Ku[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Ku[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(at.DashCase|at.Important)?e.style.setProperty(n,r,i&at.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&at.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=lt().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Bh(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var tc=class extends Pr{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Wh(i.id,i.styles);for(let l of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},kr=class extends Pr{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Wh(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},zo=class extends kr{constructor(e,n,r,i,o,s,a,u){let c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=SC(c),this.hostAttr=MC(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},xC=(()=>{let e=class e extends Go{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(F(Se))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Hh=["alt","control","meta","shift"],TC={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AC={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},NC=(()=>{let e=class e extends Go{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lt().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),Hh.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let o=TC[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Hh.forEach(a=>{if(a!==o){let u=AC[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(F(Se))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function Yh(t,e){return xh(v({rootComponent:t},OC(e)))}function OC(t){return{appProviders:[...LC,...t?.providers??[]],platformProviders:FC}}function RC(){Xu.makeCurrent()}function PC(){return new st}function kC(){return Ff(document),document}var FC=[{provide:kn,useValue:$h},{provide:Iu,useValue:RC,multi:!0},{provide:Se,useFactory:kC,deps:[]}];var LC=[{provide:Mo,useValue:"root"},{provide:st,useFactory:PC,deps:[]},{provide:ec,useClass:xC,multi:!0,deps:[Se,Y,kn]},{provide:ec,useClass:NC,multi:!0,deps:[Se]},Uh,zh,Gh,{provide:br,useExisting:Uh},{provide:Bo,useClass:CC,deps:[]},[]];var Zh=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(F(Se))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var M="primary",Qr=Symbol("RouteTitle"),ac=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Gn(t){return new ac(t)}function $C(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function UC(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Je(t[n],e[n]))return!1;return!0}function Je(t,e){let n=t?uc(t):void 0,r=e?uc(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!tp(t[i],e[i]))return!1;return!0}function uc(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function tp(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function np(t){return t.length>0?t[t.length-1]:null}function Mt(t){return ra(t)?t:Wt(t)?q(Promise.resolve(t)):I(t)}var BC={exact:ip,subset:op},rp={exact:HC,subset:GC,ignored:()=>!0};function Qh(t,e,n){return BC[n.paths](t.root,e.root,n.matrixParams)&&rp[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function HC(t,e){return Je(t,e)}function ip(t,e,n){if(!Qt(t.segments,e.segments)||!Yo(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!ip(t.children[r],e.children[r],n))return!1;return!0}function GC(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>tp(t[n],e[n]))}function op(t,e,n){return sp(t,e,e.segments,n)}function sp(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Qt(i,n)||e.hasChildren()||!Yo(i,n,r))}else if(t.segments.length===n.length){if(!Qt(t.segments,n)||!Yo(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!op(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Qt(t.segments,i)||!Yo(t.segments,i,r)||!t.children[M]?!1:sp(t.children[M],e,o,r)}}function Yo(t,e,n){return e.every((r,i)=>rp[n](t[i].parameters,r.parameters))}var It=class{constructor(e=new $([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Gn(this.queryParams),this._queryParamMap}toString(){return WC.serialize(this)}},$=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zo(this)}},Zt=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Gn(this.parameters),this._parameterMap}toString(){return up(this)}};function zC(t,e){return Qt(t,e)&&t.every((n,r)=>Je(n.parameters,e[r].parameters))}function Qt(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function qC(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===M&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==M&&(n=n.concat(e(i,r)))}),n}var Pc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>new Ko,providedIn:"root"});let t=e;return t})(),Ko=class{parse(e){let n=new lc(e);return new It(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Fr(e.root,!0)}`,r=QC(e.queryParams),i=typeof e.fragment=="string"?`#${YC(e.fragment)}`:"";return`${n}${r}${i}`}},WC=new Ko;function Zo(t){return t.segments.map(e=>up(e)).join("/")}function Fr(t,e){if(!t.hasChildren())return Zo(t);if(e){let n=t.children[M]?Fr(t.children[M],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==M&&r.push(`${i}:${Fr(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=qC(t,(r,i)=>i===M?[Fr(t.children[M],!1)]:[`${i}:${Fr(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[M]!=null?`${Zo(t)}/${n[0]}`:`${Zo(t)}/(${n.join("//")})`}}function ap(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qo(t){return ap(t).replace(/%3B/gi,";")}function YC(t){return encodeURI(t)}function cc(t){return ap(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qo(t){return decodeURIComponent(t)}function Kh(t){return Qo(t.replace(/\+/g,"%20"))}function up(t){return`${cc(t.path)}${ZC(t.parameters)}`}function ZC(t){return Object.entries(t).map(([e,n])=>`;${cc(e)}=${cc(n)}`).join("")}function QC(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${qo(n)}=${qo(i)}`).join("&"):`${qo(n)}=${qo(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var KC=/^[^\/()?;#]+/;function rc(t){let e=t.match(KC);return e?e[0]:""}var JC=/^[^\/()?;=#]+/;function XC(t){let e=t.match(JC);return e?e[0]:""}var eb=/^[^=?&#]+/;function tb(t){let e=t.match(eb);return e?e[0]:""}var nb=/^[^&#]+/;function rb(t){let e=t.match(nb);return e?e[0]:""}var lc=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $([],{}):new $([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[M]=new $(e,n)),r}parseSegment(){let e=rc(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new Zt(Qo(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=XC(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=rc(this.remaining);i&&(r=i,this.capture(r))}e[Qo(n)]=Qo(r)}parseQueryParam(e){let n=tb(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=rb(this.remaining);s&&(r=s,this.capture(r))}let i=Kh(n),o=Kh(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=rc(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new D(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=M);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[M]:new $([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}};function cp(t){return t.segments.length>0?new $([],{[M]:t}):t}function lp(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=lp(i);if(r===M&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new $(t.segments,e);return ib(n)}function ib(t){if(t.numberOfChildren===1&&t.children[M]){let e=t.children[M];return new $(t.segments.concat(e.segments),e.children)}return t}function zn(t){return t instanceof It}function ob(t,e,n=null,r=null){let i=dp(t);return fp(i,e,n,r)}function dp(t){let e;function n(o){let s={};for(let u of o.children){let c=n(u);s[u.outlet]=c}let a=new $(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=cp(r);return e??i}function fp(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return ic(i,i,i,n,r);let o=sb(e);if(o.toRoot())return ic(i,i,new $([],{}),n,r);let s=ab(o,i,t),a=s.processChildren?Vr(s.segmentGroup,s.index,o.commands):pp(s.segmentGroup,s.index,o.commands);return ic(i,s.segmentGroup,a,n,r)}function Jo(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Br(t){return typeof t=="object"&&t!=null&&t.outlets}function ic(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`});let s;t===e?s=n:s=hp(t,e,n);let a=cp(lp(s));return new It(a,o,i)}function hp(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=hp(o,e,n)}),new $(t.segments,r)}var Xo=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Jo(r[0]))throw new D(4003,!1);let i=r.find(Br);if(i&&i!==np(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function sb(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Xo(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Xo(n,e,r)}var Bn=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function ab(t,e,n){if(t.isAbsolute)return new Bn(e,!0,0);if(!n)return new Bn(e,!1,NaN);if(n.parent===null)return new Bn(n,!0,0);let r=Jo(t.commands[0])?0:1,i=n.segments.length-1+r;return ub(n,i,t.numberOfDoubleDots)}function ub(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new Bn(r,!1,i-o)}function cb(t){return Br(t[0])?t[0].outlets:{[M]:t}}function pp(t,e,n){if(t??=new $([],{}),t.segments.length===0&&t.hasChildren())return Vr(t,e,n);let r=lb(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new $(t.segments.slice(0,r.pathIndex),{});return o.children[M]=new $(t.segments.slice(r.pathIndex),t.children),Vr(o,0,i)}else return r.match&&i.length===0?new $(t.segments,{}):r.match&&!t.hasChildren()?dc(t,e,n):r.match?Vr(t,0,i):dc(t,e,n)}function Vr(t,e,n){if(n.length===0)return new $(t.segments,{});{let r=cb(n),i={};if(Object.keys(r).some(o=>o!==M)&&t.children[M]&&t.numberOfChildren===1&&t.children[M].segments.length===0){let o=Vr(t.children[M],e,n);return new $(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=pp(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new $(t.segments,i)}}function lb(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Br(a))break;let u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!Xh(u,c,s))return o;r+=2}else{if(!Xh(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function dc(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Br(o)){let u=db(o.outlets);return new $(r,u)}if(i===0&&Jo(n[0])){let u=t.segments[e];r.push(new Zt(u.path,Jh(n[0]))),i++;continue}let s=Br(o)?o.outlets[M]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Jo(a)?(r.push(new Zt(s,Jh(a))),i+=2):(r.push(new Zt(s,{})),i++)}return new $(r,{})}function db(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=dc(new $([],{}),0,r))}),e}function Jh(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Xh(t,e,n){return t==n.path&&Je(e,n.parameters)}var $r="imperative",ne=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ne||{}),Me=class{constructor(e,n){this.id=e,this.url=n}},Hr=class extends Me{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ne.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Kt=class extends Me{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ne.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ye=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ye||{}),fc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(fc||{}),St=class extends Me{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ne.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Jt=class extends Me{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ne.NavigationSkipped}},Gr=class extends Me{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ne.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},es=class extends Me{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ne.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hc=class extends Me{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ne.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pc=class extends Me{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ne.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},gc=class extends Me{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ne.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mc=class extends Me{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ne.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vc=class{constructor(e){this.route=e,this.type=ne.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},yc=class{constructor(e){this.route=e,this.type=ne.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},wc=class{constructor(e){this.snapshot=e,this.type=ne.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dc=class{constructor(e){this.snapshot=e,this.type=ne.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cc=class{constructor(e){this.snapshot=e,this.type=ne.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bc=class{constructor(e){this.snapshot=e,this.type=ne.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var zr=class{},qr=class{constructor(e){this.url=e}};var _c=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ss,this.attachRef=null}},ss=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new _c,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ts=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ec(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ec(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ic(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ic(e,this._root).map(n=>n.value)}};function Ec(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ec(t,n);if(r)return r}return null}function Ic(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Ic(t,n);if(r.length)return r.unshift(e),r}return[]}var ve=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Un(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ns=class extends ts{constructor(e,n){super(e),this.snapshot=n,Fc(this,e)}toString(){return this.snapshot.toString()}};function gp(t){let e=fb(t),n=new ee([new Zt("",{})]),r=new ee({}),i=new ee({}),o=new ee({}),s=new ee(""),a=new qn(n,r,o,s,i,M,t,e.root);return a.snapshot=e.root,new ns(new ve(a,[]),e)}function fb(t){let e={},n={},r={},i="",o=new Wr([],e,r,i,n,M,t,null,{});return new rs("",new ve(o,[]))}var qn=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(O(c=>c[Qr]))??I(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(O(e=>Gn(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(O(e=>Gn(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function kc(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:v(v({},e.params),t.params),data:v(v({},e.data),t.data),resolve:v(v(v(v({},t.data),e.data),i?.data),t._resolvedData)}:r={params:v({},t.params),data:v({},t.data),resolve:v(v({},t.data),t._resolvedData??{})},i&&vp(i)&&(r.resolve[Qr]=i.title),r}var Wr=class{get title(){return this.data?.[Qr]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gn(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},rs=class extends ts{constructor(e,n){super(n),this.url=e,Fc(this,n)}toString(){return mp(this._root)}};function Fc(t,e){e.value._routerState=t,e.children.forEach(n=>Fc(t,n))}function mp(t){let e=t.children.length>0?` { ${t.children.map(mp).join(", ")} } `:"";return`${t.value}${e}`}function oc(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Je(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Je(e.params,n.params)||t.paramsSubject.next(n.params),UC(e.url,n.url)||t.urlSubject.next(n.url),Je(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Sc(t,e){let n=Je(t.params,e.params)&&zC(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Sc(t.parent,e.parent))}function vp(t){return typeof t.title=="string"||t.title===null}var hb=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=M,this.activateEvents=new re,this.deactivateEvents=new re,this.attachEvents=new re,this.detachEvents=new re,this.parentContexts=y(ss),this.location=y(Ar),this.changeDetector=y(Vn),this.environmentInjector=y(_e),this.inputBinder=y(Lc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new Mc(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ge({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[zt]});let t=e;return t})(),Mc=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===qn?this.route:e===ss?this.childContexts:this.parent.get(e,n)}},Lc=new S("");function pb(t,e,n){let r=Yr(t,e._root,n?n._root:void 0);return new ns(r,e)}function Yr(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=gb(t,e,n);return new ve(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Yr(t,a)),s}}let r=mb(e.value),i=e.children.map(o=>Yr(t,o));return new ve(r,i)}}function gb(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Yr(t,r,i);return Yr(t,r)})}function mb(t){return new qn(new ee(t.url),new ee(t.params),new ee(t.queryParams),new ee(t.fragment),new ee(t.data),t.outlet,t.component,t)}var yp="ngNavigationCancelingError";function wp(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=zn(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Dp(!1,ye.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Dp(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[yp]=!0,n.cancellationCode=e,n}function vb(t){return Cp(t)&&zn(t.url)}function Cp(t){return!!t&&t[yp]}var yb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Dt({type:e,selectors:[["ng-component"]],standalone:!0,features:[_t],decls:1,vars:0,template:function(i,o){i&1&&Ie(0,"router-outlet")},dependencies:[hb],encapsulation:2});let t=e;return t})();function wb(t,e){return t.providers&&!t._injector&&(t._injector=ju(t.providers,e,`Route: ${t.path}`)),t._injector??e}function jc(t){let e=t.children&&t.children.map(jc),n=e?U(v({},t),{children:e}):v({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==M&&(n.component=yb),n}function Xe(t){return t.outlet||M}function Db(t,e){let n=t.filter(r=>Xe(r)===e);return n.push(...t.filter(r=>Xe(r)!==e)),n}function Kr(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Cb=(t,e,n,r)=>O(i=>(new xc(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),xc=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),oc(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Un(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Un(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Un(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Un(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new bc(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Dc(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(oc(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),oc(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Kr(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},is=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Hn=class{constructor(e,n){this.component=e,this.route=n}};function bb(t,e,n){let r=t._root,i=e?e._root:null;return Lr(r,i,n,[r.value])}function _b(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Yn(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Md(t)?t:e.get(t):r}function Lr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Un(e);return t.children.forEach(s=>{Eb(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ur(a,n.getContext(s),i)),i}function Eb(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Ib(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new is(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Lr(t,e,a?a.children:null,r,i):Lr(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Hn(a.outlet.component,s))}else s&&Ur(e,a,i),i.canActivateChecks.push(new is(r)),o.component?Lr(t,null,a?a.children:null,r,i):Lr(t,null,n,r,i);return i}function Ib(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Qt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Qt(t.url,e.url)||!Je(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sc(t,e)||!Je(t.queryParams,e.queryParams);case"paramsChange":default:return!Sc(t,e)}}function Ur(t,e,n){let r=Un(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ur(s,e.children.getContext(o),n):Ur(s,null,n):Ur(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Hn(e.outlet.component,i)):n.canDeactivateChecks.push(new Hn(null,i)):n.canDeactivateChecks.push(new Hn(null,i))}function Jr(t){return typeof t=="function"}function Sb(t){return typeof t=="boolean"}function Mb(t){return t&&Jr(t.canLoad)}function xb(t){return t&&Jr(t.canActivate)}function Tb(t){return t&&Jr(t.canActivateChild)}function Ab(t){return t&&Jr(t.canDeactivate)}function Nb(t){return t&&Jr(t.canMatch)}function bp(t){return t instanceof rt||t?.name==="EmptyError"}var Wo=Symbol("INITIAL_VALUE");function Wn(){return Pe(t=>Yi(t.map(e=>e.pipe(it(1),ca(Wo)))).pipe(O(e=>{for(let n of e)if(n!==!0){if(n===Wo)return Wo;if(n===!1||n instanceof It)return n}return!0}),Re(e=>e!==Wo),it(1)))}function Ob(t,e){return J(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?I(U(v({},n),{guardsResult:!0})):Rb(s,r,i,t).pipe(J(a=>a&&Sb(a)?Pb(r,o,t,e):I(a)),O(a=>U(v({},n),{guardsResult:a})))})}function Rb(t,e,n,r){return q(t).pipe(J(i=>Vb(i.component,i.route,n,e,r)),Ue(i=>i!==!0,!0))}function Pb(t,e,n,r){return q(e).pipe(vn(i=>mn(Fb(i.route.parent,r),kb(i.route,r),jb(t,i.path,n),Lb(t,i.route,n))),Ue(i=>i!==!0,!0))}function kb(t,e){return t!==null&&e&&e(new Cc(t)),I(!0)}function Fb(t,e){return t!==null&&e&&e(new wc(t)),I(!0)}function Lb(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return I(!0);let i=r.map(o=>Zi(()=>{let s=Kr(e)??n,a=Yn(o,s),u=xb(a)?a.canActivate(e,t):Gt(s,()=>a(e,t));return Mt(u).pipe(Ue())}));return I(i).pipe(Wn())}function jb(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>_b(s)).filter(s=>s!==null).map(s=>Zi(()=>{let a=s.guards.map(u=>{let c=Kr(s.node)??n,l=Yn(u,c),d=Tb(l)?l.canActivateChild(r,t):Gt(c,()=>l(r,t));return Mt(d).pipe(Ue())});return I(a).pipe(Wn())}));return I(o).pipe(Wn())}function Vb(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return I(!0);let s=o.map(a=>{let u=Kr(e)??i,c=Yn(a,u),l=Ab(c)?c.canDeactivate(t,e,n,r):Gt(u,()=>c(t,e,n,r));return Mt(l).pipe(Ue())});return I(s).pipe(Wn())}function $b(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return I(!0);let o=i.map(s=>{let a=Yn(s,t),u=Mb(a)?a.canLoad(e,n):Gt(t,()=>a(e,n));return Mt(u)});return I(o).pipe(Wn(),_p(r))}function _p(t){return Xs(te(e=>{if(zn(e))throw wp(t,e)}),O(e=>e===!0))}function Ub(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return I(!0);let o=i.map(s=>{let a=Yn(s,t),u=Nb(a)?a.canMatch(e,n):Gt(t,()=>a(e,n));return Mt(u)});return I(o).pipe(Wn(),_p(r))}var Zr=class{constructor(e){this.segmentGroup=e||null}},os=class extends Error{constructor(e){super(),this.urlTree=e}};function $n(t){return gn(new Zr(t))}function Bb(t){return gn(new D(4e3,!1))}function Hb(t){return gn(Dp(!1,ye.GuardRejected))}var Tc=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return I(r);if(i.numberOfChildren>1||!i.children[M])return Bb(e.redirectTo);i=i.children[M]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new os(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new It(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new $(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new D(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ac={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gb(t,e,n,r,i){let o=Vc(t,e,n);return o.matched?(r=wb(e,r),Ub(r,e,n,i).pipe(O(s=>s===!0?o:v({},Ac)))):I(o)}function Vc(t,e,n){if(e.path==="**")return zb(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?v({},Ac):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||$C)(n,t,e);if(!i)return v({},Ac);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?v(v({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function zb(t){return{matched:!0,parameters:t.length>0?np(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ep(t,e,n,r){return n.length>0&&Yb(t,n,r)?{segmentGroup:new $(e,Wb(r,new $(n,t.children))),slicedSegments:[]}:n.length===0&&Zb(t,n,r)?{segmentGroup:new $(t.segments,qb(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new $(t.segments,t.children),slicedSegments:n}}function qb(t,e,n,r){let i={};for(let o of n)if(as(t,e,o)&&!r[Xe(o)]){let s=new $([],{});i[Xe(o)]=s}return v(v({},r),i)}function Wb(t,e){let n={};n[M]=e;for(let r of t)if(r.path===""&&Xe(r)!==M){let i=new $([],{});n[Xe(r)]=i}return n}function Yb(t,e,n){return n.some(r=>as(t,e,r)&&Xe(r)!==M)}function Zb(t,e,n){return n.some(r=>as(t,e,r))}function as(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Qb(t,e,n,r){return Xe(t)!==r&&(r===M||!as(e,n,t))?!1:Vc(e,t,n).matched}function Kb(t,e,n){return e.length===0&&!t.children[n]}var Nc=class{};function Jb(t,e,n,r,i,o,s="emptyOnly"){return new Oc(t,e,n,r,i,s,o).recognize()}var Xb=31,Oc=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Tc(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new D(4002,`'${e.segmentGroup}'`)}recognize(){let e=ep(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(O(n=>{let r=new Wr([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,{},M,this.rootComponentType,null,{}),i=new ve(r,n),o=new rs("",i),s=ob(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,M).pipe(pt(r=>{if(r instanceof os)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Zr?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=kc(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(O(o=>o instanceof ve?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return q(i).pipe(vn(o=>{let s=r.children[o],a=Db(n,o);return this.processSegmentGroup(e,a,s,o)}),ua((o,s)=>(o.push(...s),o)),gt(null),aa(),J(o=>{if(o===null)return $n(r);let s=Ep(o);return e_(s),I(s)}))}processSegment(e,n,r,i,o,s){return q(n).pipe(vn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(pt(u=>{if(u instanceof Zr)return I(null);throw u}))),Ue(a=>!!a),pt(a=>{if(bp(a))return Kb(r,i,o)?I(new Nc):$n(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return Qb(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):$n(i):$n(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:l}=Vc(n,i,o);if(!a)return $n(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Xb&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(J(f=>this.processSegment(e,r,n,f.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=Gb(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Pe(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Pe(({routes:u})=>{let c=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:f}=a,h=new Wr(l,f,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,n_(r),Xe(r),r.component??r._loadedComponent??null,r,r_(r)),{segmentGroup:g,slicedSegments:m}=ep(n,l,d,u);if(m.length===0&&g.hasChildren())return this.processChildren(c,u,g).pipe(O(C=>C===null?null:new ve(h,C)));if(u.length===0&&m.length===0)return I(new ve(h,[]));let w=Xe(r)===o;return this.processSegment(c,u,g,m,w?M:o,!0).pipe(O(C=>new ve(h,C instanceof ve?[C]:[])))}))):$n(n)))}getChildConfig(e,n,r){return n.children?I({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?I({routes:n._loadedRoutes,injector:n._loadedInjector}):$b(e,n,r,this.urlSerializer).pipe(J(i=>i?this.configLoader.loadChildren(e,n).pipe(te(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Hb(n))):I({routes:[],injector:e})}};function e_(t){t.sort((e,n)=>e.value.outlet===M?-1:n.value.outlet===M?1:e.value.outlet.localeCompare(n.value.outlet))}function t_(t){let e=t.value.routeConfig;return e&&e.path===""}function Ep(t){let e=[],n=new Set;for(let r of t){if(!t_(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Ep(r.children);e.push(new ve(r.value,i))}return e.filter(r=>!n.has(r))}function n_(t){return t.data||{}}function r_(t){return t.resolve||{}}function i_(t,e,n,r,i,o){return J(s=>Jb(t,e,n,r,s.extractedUrl,i,o).pipe(O(({state:a,tree:u})=>U(v({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function o_(t,e){return J(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return I(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let c of Ip(u))s.add(c);let a=0;return q(s).pipe(vn(u=>o.has(u)?s_(u,r,t,e):(u.data=kc(u,u.parent,t).resolve,I(void 0))),te(()=>a++),yn(1),J(u=>a===s.size?I(n):he))})}function Ip(t){let e=t.children.map(n=>Ip(n)).flat();return[t,...e]}function s_(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!vp(i)&&(o[Qr]=i.title),a_(o,t,e,r).pipe(O(s=>(t._resolvedData=s,t.data=kc(t,t.parent,n).resolve,null)))}function a_(t,e,n,r){let i=uc(t);if(i.length===0)return I({});let o={};return q(i).pipe(J(s=>u_(t[s],e,n,r).pipe(Ue(),te(a=>{o[s]=a}))),yn(1),sa(o),pt(s=>bp(s)?he:gn(s)))}function u_(t,e,n,r){let i=Kr(e)??r,o=Yn(t,i),s=o.resolve?o.resolve(e,n):Gt(i,()=>o(e,n));return Mt(s)}function sc(t){return Pe(e=>{let n=t(e);return n?q(n).pipe(O(()=>e)):I(e)})}var Sp=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===M);return i}getResolvedTitleForRoute(r){return r.data[Qr]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>y(c_),providedIn:"root"});let t=e;return t})(),c_=(()=>{let e=class e extends Sp{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(F(Zh))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$c=new S("",{providedIn:"root",factory:()=>({})}),Uc=new S(""),l_=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=y(Gu)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return I(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Mt(r.loadComponent()).pipe(O(Mp),te(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),fr(()=>{this.componentLoaders.delete(r)})),o=new pn(i,()=>new se).pipe(hn());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return I({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=d_(i,this.compiler,r,this.onLoadEndListener).pipe(fr(()=>{this.childrenLoaders.delete(i)})),a=new pn(s,()=>new se).pipe(hn());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function d_(t,e,n,r){return Mt(t.loadChildren()).pipe(O(Mp),J(i=>i instanceof Er||Array.isArray(i)?I(i):q(e.compileModuleAsync(i))),O(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Uc,[],{optional:!0,self:!0}).flat()),{routes:s.map(jc),injector:o}}))}function f_(t){return t&&typeof t=="object"&&"default"in t}function Mp(t){return f_(t)?t.default:t}var Bc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>y(h_),providedIn:"root"});let t=e;return t})(),h_=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),p_=new S("");var g_=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new se,this.transitionAbortSubject=new se,this.configLoader=y(l_),this.environmentInjector=y(_e),this.urlSerializer=y(Pc),this.rootContexts=y(ss),this.location=y(Or),this.inputBindingEnabled=y(Lc,{optional:!0})!==null,this.titleStrategy=y(Sp),this.options=y($c,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=y(Bc),this.createViewTransition=y(p_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>I(void 0),this.rootComponentType=null;let r=o=>this.events.next(new vc(o)),i=o=>this.events.next(new yc(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(U(v(v({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new ee({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$r,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Re(s=>s.id!==0),O(s=>U(v({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Pe(s=>{let a=!1,u=!1;return I(s).pipe(Pe(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ye.SupersededByNewNavigation),he;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?U(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let f="";return this.events.next(new Jt(c.id,this.urlSerializer.serialize(c.rawUrl),f,fc.IgnoredSameUrlNavigation)),c.resolve(null),he}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return I(c).pipe(Pe(f=>{let h=this.transitions?.getValue();return this.events.next(new Hr(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?he:Promise.resolve(f)}),i_(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),te(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=U(v({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new es(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:h,source:g,restoredState:m,extras:w}=c,C=new Hr(f,this.urlSerializer.serialize(h),g,m);this.events.next(C);let Q=gp(this.rootComponentType).snapshot;return this.currentTransition=s=U(v({},c),{targetSnapshot:Q,urlAfterRedirects:h,extras:U(v({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,I(s)}else{let f="";return this.events.next(new Jt(c.id,this.urlSerializer.serialize(c.extractedUrl),f,fc.IgnoredByUrlHandlingStrategy)),c.resolve(null),he}}),te(c=>{let l=new hc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),O(c=>(this.currentTransition=s=U(v({},c),{guards:bb(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),Ob(this.environmentInjector,c=>this.events.next(c)),te(c=>{if(s.guardsResult=c.guardsResult,zn(c.guardsResult))throw wp(this.urlSerializer,c.guardsResult);let l=new pc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Re(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",ye.GuardRejected),!1)),sc(c=>{if(c.guards.canActivateChecks.length)return I(c).pipe(te(l=>{let d=new gc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Pe(l=>{let d=!1;return I(l).pipe(o_(this.paramsInheritanceStrategy,this.environmentInjector),te({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",ye.NoDataFromResolver)}}))}),te(l=>{let d=new mc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),sc(c=>{let l=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(te(h=>{d.component=h}),O(()=>{})));for(let h of d.children)f.push(...l(h));return f};return Yi(l(c.targetSnapshot.root)).pipe(gt(null),it(1))}),sc(()=>this.afterPreactivation()),Pe(()=>{let{currentSnapshot:c,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return d?q(d).pipe(O(()=>s)):I(s)}),O(c=>{let l=pb(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=U(v({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),te(()=>{this.events.next(new zr)}),Cb(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),it(1),te({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Kt(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),la(this.transitionAbortSubject.pipe(te(c=>{throw c}))),fr(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",ye.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),pt(c=>{if(u=!0,Cp(c))this.events.next(new St(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),vb(c)?this.events.next(new qr(c.url)):s.resolve(!1);else{this.events.next(new Gr(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return he}))}))}cancelNavigationTransition(r,i,o){let s=new St(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function m_(t){return t!==$r}var v_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>y(y_),providedIn:"root"});let t=e;return t})(),Rc=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},y_=(()=>{let e=class e extends Rc{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Tr(e)))(o||e)}})(),e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>y(w_),providedIn:"root"});let t=e;return t})(),w_=(()=>{let e=class e extends xp{constructor(){super(...arguments),this.location=y(Or),this.urlSerializer=y(Pc),this.options=y($c,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=y(Bc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new It,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=gp(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Hr)this.stateMemento=this.createStateMemento();else if(r instanceof Jt)this.rawUrlTree=i.initialUrl;else if(r instanceof es){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof zr?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof St&&(r.code===ye.GuardRejected||r.code===ye.NoDataFromResolver)?this.restoreHistory(i):r instanceof Gr?this.restoreHistory(i,!0):r instanceof Kt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=v(v({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=v(v({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Tr(e)))(o||e)}})(),e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jr=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(jr||{});function D_(t,e){t.events.pipe(Re(n=>n instanceof Kt||n instanceof St||n instanceof Gr||n instanceof Jt),O(n=>n instanceof Kt||n instanceof Jt?jr.COMPLETE:(n instanceof St?n.code===ye.Redirect||n.code===ye.SupersededByNewNavigation:!1)?jr.REDIRECTING:jr.FAILED),Re(n=>n!==jr.REDIRECTING),it(1)).subscribe(()=>{e()})}function C_(t){throw t}var b_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},__={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Tp=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=y($o),this.stateManager=y(xp),this.options=y($c,{optional:!0})||{},this.pendingTasks=y(Lo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=y(g_),this.urlSerializer=y(Pc),this.location=y(Or),this.urlHandlingStrategy=y(Bc),this._events=new se,this.errorHandler=this.options.errorHandler||C_,this.navigated=!1,this.routeReuseStrategy=y(v_),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=y(Uc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!y(Lc,{optional:!0}),this.eventsSubscription=new K,this.isNgZoneEnabled=y(Y)instanceof Y&&Y.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof St&&i.code!==ye.Redirect&&i.code!==ye.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Kt)this.navigated=!0;else if(i instanceof qr){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||m_(o.source)};this.scheduleNavigation(a,$r,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}I_(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$r,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=v({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(jc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a,d=null;switch(u){case"merge":d=v(v({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=dp(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return fp(f,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=zn(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,$r,null,i)}navigate(r,i={skipLocationChange:!1}){return E_(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=v({},b_):i===!1?o=v({},__):o=i,zn(r))return Qh(this.currentUrlTree,r,o);let s=this.parseUrl(r);return Qh(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,c,l;a?(u=a.resolve,c=a.reject,l=a.promise):l=new Promise((f,h)=>{u=f,c=h});let d=this.pendingTasks.add();return D_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function E_(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new D(4008,!1)}function I_(t){return!(t instanceof zr)&&!(t instanceof qr)}var S_=new S("");function Ap(t,...e){return So([{provide:Uc,multi:!0,useValue:t},[],{provide:qn,useFactory:M_,deps:[Tp]},{provide:Hu,multi:!0,useFactory:x_},e.map(n=>n.\u0275providers)])}function M_(t){return t.routerState.root}function x_(){let t=y(Pn);return e=>{let n=t.get(Nr);if(e!==n.components[0])return;let r=t.get(Tp),i=t.get(T_);t.get(A_)===1&&r.initialNavigation(),t.get(N_,null,T.Optional)?.setUpPreloading(),t.get(S_,null,T.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var T_=new S("",{factory:()=>new se}),A_=new S("",{providedIn:"root",factory:()=>1});var N_=new S("");var Np=[];var Op={providers:[Ap(Np)]};var Up=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(j(jn),j(qt))},e.\u0275dir=ge({type:e});let t=e;return t})(),O_=(()=>{let e=class e extends Up{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Tr(e)))(o||e)}})(),e.\u0275dir=ge({type:e,features:[bt]});let t=e;return t})(),Bp=new S("");var R_={provide:Bp,useExisting:On(()=>Jn),multi:!0};function P_(){let t=lt()?lt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var k_=new S(""),Jn=(()=>{let e=class e extends Up{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!P_())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(j(jn),j(qt),j(k_,8))},e.\u0275dir=ge({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Qe("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Vo([R_]),bt]});let t=e;return t})();var Hp=new S(""),Gp=new S("");function zp(t){return t!=null}function qp(t){return Wt(t)?q(t):t}function Wp(t){let e={};return t.forEach(n=>{e=n!=null?v(v({},e),n):e}),Object.keys(e).length===0?null:e}function Yp(t,e){return e.map(n=>n(t))}function F_(t){return!t.validate}function Zp(t){return t.map(e=>F_(e)?e:n=>e.validate(n))}function L_(t){if(!t)return null;let e=t.filter(zp);return e.length==0?null:function(n){return Wp(Yp(n,e))}}function Qp(t){return t!=null?L_(Zp(t)):null}function j_(t){if(!t)return null;let e=t.filter(zp);return e.length==0?null:function(n){let r=Yp(n,e).map(qp);return oa(r).pipe(O(Wp))}}function Kp(t){return t!=null?j_(Zp(t)):null}function Rp(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Jp(t){return t._rawValidators}function Xp(t){return t._rawAsyncValidators}function Hc(t){return t?Array.isArray(t)?t:[t]:[]}function ls(t,e){return Array.isArray(t)?t.includes(e):t===e}function Pp(t,e){let n=Hc(e);return Hc(t).forEach(i=>{ls(n,i)||n.push(i)}),n}function kp(t,e){return Hc(e).filter(n=>!ls(t,n))}var ds=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Qp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Kp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Qn=class extends ds{get formDirective(){return null}get path(){return null}},ti=class extends ds{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},fs=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},V_={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},AN=U(v({},V_),{"[class.ng-submitted]":"isSubmitted"}),ms=(()=>{let e=class e extends fs{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(j(ti,2))},e.\u0275dir=ge({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&jo("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[bt]});let t=e;return t})(),vs=(()=>{let e=class e extends fs{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(j(Qn,10))},e.\u0275dir=ge({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&jo("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[bt]});let t=e;return t})();var Xr="VALID",us="INVALID",Zn="PENDING",ei="DISABLED";function qc(t){return(ys(t)?t.validators:t)||null}function $_(t){return Array.isArray(t)?Qp(t):t||null}function Wc(t,e){return(ys(e)?e.asyncValidators:t)||null}function U_(t){return Array.isArray(t)?Kp(t):t||null}function ys(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function eg(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new D(1e3,"");if(!r[n])throw new D(1001,"")}function tg(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new D(1002,"")})}var Kn=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xr}get invalid(){return this.status===us}get pending(){return this.status==Zn}get disabled(){return this.status===ei}get enabled(){return this.status!==ei}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Pp(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Pp(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kp(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kp(e,this._rawAsyncValidators))}hasValidator(e){return ls(this._rawValidators,e)}hasAsyncValidator(e){return ls(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Zn,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ei,this.errors=null,this._forEachChild(r=>{r.disable(U(v({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(U(v({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Xr,this._forEachChild(r=>{r.enable(U(v({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(U(v({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xr||this.status===Zn)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ei:Xr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Zn,this._hasOwnPendingAsyncValidator=!0;let n=qp(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new re,this.statusChanges=new re}_calculateStatus(){return this._allControlsDisabled()?ei:this.errors?us:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zn)?Zn:this._anyControlsHaveStatus(us)?us:Xr}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ys(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=$_(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=U_(this._rawAsyncValidators)}},hs=class extends Kn{constructor(e,n,r){super(qc(n),Wc(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){tg(this,!0,e),Object.keys(e).forEach(r=>{eg(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Gc=class extends hs{};var ng=new S("CallSetDisabledState",{providedIn:"root",factory:()=>Yc}),Yc="always";function B_(t,e){return[...e.path,t]}function Fp(t,e,n=Yc){Zc(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),G_(t,e),q_(t,e),z_(t,e),H_(t,e)}function Lp(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),gs(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ps(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function H_(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Zc(t,e){let n=Jp(t);e.validator!==null?t.setValidators(Rp(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Xp(t);e.asyncValidator!==null?t.setAsyncValidators(Rp(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();ps(e._rawValidators,i),ps(e._rawAsyncValidators,i)}function gs(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=Jp(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=Xp(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return ps(e._rawValidators,r),ps(e._rawAsyncValidators,r),n}function G_(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&rg(t,e)})}function z_(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&rg(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function rg(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function q_(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function W_(t,e){t==null,Zc(t,e)}function Y_(t,e){return gs(t,e)}function Z_(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Q_(t){return Object.getPrototypeOf(t.constructor)===O_}function K_(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function J_(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Jn?n=o:Q_(o)?r=o:i=o}),i||r||n||null}function X_(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function jp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Vp(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var cs=class extends Kn{constructor(e=null,n,r){super(qc(n),Wc(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ys(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Vp(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Vp(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var e0=t=>t instanceof cs;var ws=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ge({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var ig=new S("");var t0={provide:Qn,useExisting:On(()=>ni)},ni=(()=>{let e=class e extends Qn{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new re,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gs(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Fp(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){Lp(r.control||null,r,!1),X_(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,K_(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(Lp(i||null,r),e0(o)&&(Fp(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);W_(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&Y_(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zc(this.form,this),this._oldForm&&gs(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(j(Hp,10),j(Gp,10),j(ng,8))},e.\u0275dir=ge({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&Qe("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[pe.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Vo([t0]),bt,zt]});let t=e;return t})();var n0={provide:ti,useExisting:On(()=>ri)},ri=(()=>{let e=class e extends ti{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new re,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=J_(this,s)}ngOnChanges(r){this._added||this._setUpControl(),Z_(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return B_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(j(Qn,13),j(Hp,10),j(Gp,10),j(Bp,10),j(ig,8))},e.\u0275dir=ge({type:e,selectors:[["","formControlName",""]],inputs:{name:[pe.None,"formControlName","name"],isDisabled:[pe.None,"disabled","isDisabled"],model:[pe.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Vo([n0]),bt,zt]});let t=e;return t})();var r0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=Bt({});let t=e;return t})(),zc=class extends Kn{constructor(e,n,r){super(qc(n),Wc(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){tg(this,!1,e),e.forEach((r,i)=>{eg(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function $p(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Ds=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let o=this._reduceControls(r),s={};return $p(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new hs(o,s)}record(r,i=null){let o=this._reduceControls(r);return new Gc(o,i)}control(r,i,o){let s={};return this.useNonNullable?($p(i)?s=i:(s.validators=i,s.asyncValidators=o),new cs(r,U(v({},s),{nonNullable:!0}))):new cs(r,i,o)}array(r,i,o){let s=r.map(a=>this._createControl(a));return new zc(s,i,o)}_reduceControls(r){let i={};return Object.keys(r).forEach(o=>{i[o]=this._createControl(r[o])}),i}_createControl(r){if(r instanceof cs)return r;if(r instanceof Kn)return r;if(Array.isArray(r)){let i=r[0],o=r.length>1?r[1]:null,s=r.length>2?r[2]:null;return this.control(i,o,s)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Cs=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:ig,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:ng,useValue:r.callSetDisabledState??Yc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ht({type:e}),e.\u0275inj=Bt({imports:[r0]});let t=e;return t})();var sg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-2UTJ4IR6.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};var ii=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},bs=class extends ii{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},_s=class extends ii{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Es=class extends ii{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},Qc=function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t}(Qc||{});var i0=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},oi=class{constructor(e,{headers:n={},customFetch:r,region:i=Qc.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=sg(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return i0(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=n,a={},{region:u}=n;u||(u=this.region),u&&u!=="any"&&(a["x-region"]=u);let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));let l=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(g=>{throw new bs(g)}),d=l.headers.get("x-relay-error");if(d&&d==="true")throw new _s(l);if(!l.ok)throw new Es(l);let f=((r=l.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield l.json():f==="application/octet-stream"?h=yield l.blob():f==="text/event-stream"?h=l:f==="multipart/form-data"?h=yield l.formData():h=yield l.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}})}};var Is=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};var si=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ii:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>p(this,null,function*(){var s,a,u;let c=null,l=null,d=null,f=o.status,h=o.statusText;if(o.ok){if(this.method!=="HEAD"){let C=yield o.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?l=C:l=JSON.parse(C))}let m=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),w=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(l)&&(l.length>1?(c={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,d=null,f=406,h="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{let m=yield o.text();try{c=JSON.parse(m),Array.isArray(c)&&o.status===404&&(l=[],c=null,f=200,h="OK")}catch{o.status===404&&m===""?(f=204,h="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((u=c?.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,f=200,h="OK"),c&&this.shouldThrowOnError)throw new Is(c)}return{error:c,data:l,count:d,status:f,statusText:h}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,u;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(u=o?.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}};var ai=class extends si{select(e){let n=!1,r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;let u=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${u};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};var $e=class extends ai{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){let r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};var ui=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){let i=n?"HEAD":"GET",o=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new $e({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){let s=e.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(s.length>0){let a=[...new Set(s)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new $e({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){let u=e.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(u.length>0){let c=[...new Set(u)].map(l=>`"${l}"`);this.url.searchParams.set("columns",c.join(","))}}return new $e({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new $e({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new $e({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var ag="1.15.2";var ug={"X-Client-Info":`postgrest-js/${ag}`};var ci=class t{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},ug),n),this.schemaName=r,this.fetch=i}from(e){let n=new URL(`${this.url}/${e}`);return new ui(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){let s,a=new URL(`${this.url}/rpc/${e}`),u;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([l,d])=>d!==void 0).map(([l,d])=>[l,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([l,d])=>{a.searchParams.append(l,d)})):(s="POST",u=n);let c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new $e({method:s,url:a,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};var cg="2.9.5";var lg={"X-Client-Info":`realtime-js/${cg}`},dg="1.0.0",Ss=1e4,fg=1e3,Xn=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(Xn||{}),we=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(we||{}),xe=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(xe||{}),Kc=function(t){return t.websocket="websocket",t}(Kc||{}),Xt=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}(Xt||{});var er=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Ms=class{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){let i=n.getUint8(1),o=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+i));s=s+i;let u=r.decode(e.slice(s,s+o));s=s+o;let c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:u,payload:c}}};var tr=class{constructor(e,n,r={},i=Ss){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var li=class t{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,i,o,s),this.pendingDiffs.forEach(u=>{this.state=t.syncDiff(this.state,u,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=t.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){let o=this.cloneDeep(e),s=this.transformState(n),a={},u={};return this.map(o,(c,l)=>{s[c]||(u[c]=l)}),this.map(s,(c,l)=>{let d=o[c];if(d){let f=l.map(w=>w.presence_ref),h=d.map(w=>w.presence_ref),g=l.filter(w=>h.indexOf(w.presence_ref)<0),m=d.filter(w=>f.indexOf(w.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(u[c]=m)}else a[c]=l}),this.syncDiff(o,{joins:a,leaves:u},r,i)}static syncDiff(e,n,r,i){let{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,u)=>{var c;let l=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(u),l.length>0){let d=e[a].map(h=>h.presence_ref),f=l.filter(h=>d.indexOf(h.presence_ref)<0);e[a].unshift(...f)}r(a,l,u)}),this.map(s,(a,u)=>{let c=e[a];if(!c)return;let l=u.map(d=>d.presence_ref);c=c.filter(d=>l.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,u),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{let i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var G=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}(G||{}),Xc=(t,e,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,s)=>(o[s]=o0(s,t,e,i),o),{})},o0=(t,e,n,r)=>{let i=e.find(a=>a.name===t),o=i?.type,s=n[t];return o&&!r.includes(o)?hg(o,s):Jc(s)},hg=(t,e)=>{if(t.charAt(0)==="_"){let n=t.slice(1,t.length);return c0(e,n)}switch(t){case G.bool:return s0(e);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return a0(e);case G.json:case G.jsonb:return u0(e);case G.timestamp:return l0(e);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return Jc(e);default:return Jc(e)}},Jc=t=>t,s0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},a0=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},u0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},c0=(t,e)=>{if(typeof t!="string")return t;let n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o,s=t.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>hg(e,a))}return t},l0=t=>typeof t=="string"?t.replace(" ","T"):t;var di=class t{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=we.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new tr(this,xe.join,this.params,this.timeout),this.rejoinTimer=new er(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=we.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=we.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xe.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new li(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));let a={},u={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&i!==void 0?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:c})=>{var l;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{let d=this.bindings.postgres_changes,f=(l=d?.length)!==null&&l!==void 0?l:0,h=[];for(let g=0;g<f;g++){let m=d[g],{filter:{event:w,schema:C,table:Q,filter:z}}=m,H=c&&c[g];if(H&&H.event===w&&H.schema===C&&H.table===Q&&H.filter===z)h.push(Object.assign(Object.assign({},m),{id:H.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(e,n={}){return yield this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,n,r){return this._on(e,n,r)}send(r){return p(this,arguments,function*(e,n={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){let{event:s,payload:a}=e,u={method:"POST",headers:{apikey:(i=this.socket.apiKey)!==null&&i!==void 0?i:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a}]})};try{return(yield this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=n.timeout)!==null&&o!==void 0?o:this.timeout)).ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,u,c;let l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(u=(a=this.params)===null||a===void 0?void 0:a.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),l.receive("ok",()=>s("ok")),l.receive("error",()=>s("error")),l.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=we.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let i=new tr(this,xe.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}_fetchWithTimeout(e,n,r){return p(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s})}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new tr(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;let s=e.toLocaleLowerCase(),{close:a,error:u,leave:c,join:l}=xe;if(r&&[a,u,c,l].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var g,m,w;return((g=h.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(m=h.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===s}).map(h=>h.callback(f,r)):(o=this.bindings[s])===null||o===void 0||o.filter(h=>{var g,m,w,C,Q,z;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){let H=h.id,ce=(g=h.filter)===null||g===void 0?void 0:g.event;return H&&((m=n.ids)===null||m===void 0?void 0:m.includes(H))&&(ce==="*"||ce?.toLocaleLowerCase()===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{let H=(Q=(C=h?.filter)===null||C===void 0?void 0:C.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase();return H==="*"||H===((z=n?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof f=="object"&&"ids"in f){let g=f.data,{schema:m,table:w,commit_timestamp:C,type:Q,errors:z}=g;f=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:C,eventType:Q,new:{},old:{},errors:z}),this._getPayloadRecords(g))}h.callback(f,r)})}_isClosed(){return this.state===we.closed}_isJoined(){return this.state===we.joined}_isJoining(){return this.state===we.joining}_isLeaving(){return this.state===we.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){let i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){let r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&t.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xe.close,{},e)}_onError(e){this._on(xe.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=we.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Xc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Xc(e.columns,e.old_record)),n}};var f0=()=>{},h0=typeof WebSocket<"u",fi=class{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=lg,this.params={},this.timeout=Ss,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=f0,this.conn=null,this.sendBuffer=[],this.serializer=new Ms,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-2UTJ4IR6.js").then(({default:u})=>u(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${e}/${Kc.websocket}`,n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);let i=(r=n?.params)===null||r===void 0?void 0:r.apikey;i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n?.encode?n.encode:(o,s)=>s(JSON.stringify(o)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new er(()=>p(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(h0){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new el(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-7EJ4JCZP.js").then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return p(this,null,function*(){let n=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return p(this,null,function*(){let e=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e})}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Xn.connecting:return Xt.Connecting;case Xn.open:return Xt.Open;case Xn.closing:return Xt.Closing;default:return Xt.Closed}}isConnected(){return this.connectionState()===Xt.Open}channel(e,n={config:{}}){let r=new di(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){let{topic:n,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(xe.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:dg}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:o,ref:s}=n;(s&&s===this.pendingHeartbeatRef||i===o?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(xe.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;let r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(fg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}};var el=class{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Xn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}};var nr=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function X(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var xs=class extends nr{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}},hi=class extends nr{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}};var p0=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},Ts=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-2UTJ4IR6.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},pg=()=>p0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-2UTJ4IR6.js")).Response:Response});var rr=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},tl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),g0=(t,e)=>rr(void 0,void 0,void 0,function*(){let n=yield pg();t instanceof n?t.json().then(r=>{e(new xs(tl(r),t.status||500))}).catch(r=>{e(new hi(tl(r),r))}):e(new hi(tl(t),t))}),m0=(t,e,n,r)=>{let i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function As(t,e,n,r,i,o){return rr(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,m0(e,r,i,o)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>s(u)).catch(u=>g0(u,a))})})}function pi(t,e,n,r){return rr(this,void 0,void 0,function*(){return As(t,"GET",e,n,r)})}function et(t,e,n,r,i){return rr(this,void 0,void 0,function*(){return As(t,"POST",e,r,i,n)})}function gg(t,e,n,r,i){return rr(this,void 0,void 0,function*(){return As(t,"PUT",e,r,i,n)})}function Ns(t,e,n,r,i){return rr(this,void 0,void 0,function*(){return As(t,"DELETE",e,r,i,n)})}var Te=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},v0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Os=class{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ts(i)}uploadOrUpdate(e,n,r,i){return Te(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},mg),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl)):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType);let u=this._removeEmptyFolders(n),c=this._getFinalPath(u),l=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{})),d=yield l.json();return l.ok?{data:{path:u,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(o){if(X(o))return{data:null,error:o};throw o}})}upload(e,n,r){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Te(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let u,c=Object.assign({upsert:mg.upsert},i),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,l["cache-control"]=`max-age=${c.cacheControl}`,l["content-type"]=c.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:u,headers:l}),f=yield d.json();return d.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(u){if(X(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e){return Te(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),r=yield et(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:this.headers}),i=new URL(this.url+r.url),o=i.searchParams.get("token");if(!o)throw new nr("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}})}update(e,n,r){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n){return Te(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}copy(e,n){return Te(this,void 0,void 0,function*(){try{return{data:{path:(yield et(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,r){return Te(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield et(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(X(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Te(this,void 0,void 0,function*(){try{let i=yield et(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(X(i))return{data:null,error:i};throw i}})}download(e,n){return Te(this,void 0,void 0,function*(){let i=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(e);return{data:yield(yield pi(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(X(a))return{data:null,error:a};throw a}})}getPublicUrl(e,n){let r=this._getFinalPath(e),i=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);let a=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Te(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}})}list(e,n,r){return Te(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},v0),n),{prefix:e||""});return{data:yield et(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(X(i))return{data:null,error:i};throw i}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}};var vg="2.5.5";var yg={"X-Client-Info":`storage-js/${vg}`};var ir=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},Rs=class{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},yg),n),this.fetch=Ts(r)}listBuckets(){return ir(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}getBucket(e){return ir(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return ir(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return ir(this,void 0,void 0,function*(){try{return{data:yield gg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ir(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ir(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}})}};var gi=class extends Rs{constructor(e,n={},r){super(e,n,r)}from(e){return new Os(this.url,this.headers,e,this.fetch)}};var wg="2.43.1";var mi="";typeof Deno<"u"?mi="deno":typeof document<"u"?mi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mi="react-native":mi="node";var y0={"X-Client-Info":`supabase-js-${mi}/${wg}`},Dg={headers:y0},Cg={schema:"public"},bg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_g={};var w0=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},D0=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ii:e=fetch,(...n)=>e(...n)},C0=()=>typeof Headers>"u"?hl:Headers,Eg=(t,e,n)=>{let r=D0(n),i=C0();return(o,s)=>w0(void 0,void 0,void 0,function*(){var a;let u=(a=yield e())!==null&&a!==void 0?a:t,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};function Ig(t){return t.replace(/\/$/,"")}function Sg(t,e){let{db:n,auth:r,realtime:i,global:o}=t,{db:s,auth:a,realtime:u,global:c}=e;return{db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign({},c),o)}}var Ps="2.64.2";var Mg="http://localhost:9999",xg="supabase.auth.token";var Tg={"X-Client-Info":`gotrue-js/${Ps}`},nl=10;var vi="X-Supabase-Api-Version",rl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Ag(t){return Math.round(Date.now()/1e3)+t}function Ng(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}var Ae=()=>typeof document<"u",en={tested:!1,writable:!1},xt=()=>{if(!Ae())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(en.tested)return en.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),en.tested=!0,en.writable=!0}catch{en.tested=!0,en.writable=!1}return en.writable};function ks(t){let e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}var Fs=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-2UTJ4IR6.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Og=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",il=(t,e,n)=>p(void 0,null,function*(){yield t.setItem(e,JSON.stringify(n))}),wi=(t,e)=>p(void 0,null,function*(){let n=yield t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),Ls=(t,e)=>p(void 0,null,function*(){yield t.removeItem(e)});function b0(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",r,i,o,s,a,u,c,l=0;for(t=t.replace("-","+").replace("_","/");l<t.length;)s=e.indexOf(t.charAt(l++)),a=e.indexOf(t.charAt(l++)),u=e.indexOf(t.charAt(l++)),c=e.indexOf(t.charAt(l++)),r=s<<2|a>>4,i=(a&15)<<4|u>>2,o=(u&3)<<6|c,n=n+String.fromCharCode(r),u!=64&&i!=0&&(n=n+String.fromCharCode(i)),c!=64&&o!=0&&(n=n+String.fromCharCode(o));return n}var yi=class t{constructor(){this.promise=new t.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};yi.promiseConstructor=Promise;function ol(t){let e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=n[1];return JSON.parse(b0(r))}function Rg(t){return p(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function Pg(t,e){return new Promise((r,i)=>{p(this,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield t(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})})}function _0(t){return("0"+t.toString(16)).substr(-2)}function E0(){let e=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,_0).join("")}function I0(t){return p(this,null,function*(){let n=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function S0(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function M0(t){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let n=yield I0(t);return S0(n)})}function tn(t,e,n=!1){return p(this,null,function*(){let r=E0(),i=r;n&&(i+="/PASSWORD_RECOVERY"),yield il(t,`${e}-code-verifier`,i);let o=yield M0(r);return[o,r===o?"plain":"s256"]})}var x0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kg(t){let e=t.headers.get(vi);if(!e||!e.match(x0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}var Di=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function x(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var js=class extends Di{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function Fg(t){return x(t)&&t.name==="AuthApiError"}var or=class extends Di{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},dt=class extends Di{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}},tt=class extends dt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}},sr=class extends dt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},nn=class extends dt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},rn=class extends dt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ci=class extends dt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ar=class extends dt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function Vs(t){return x(t)&&t.name==="AuthRetryableFetchError"}var bi=class extends dt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var T0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},on=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),A0=[502,503,504];function Lg(t){return p(this,null,function*(){var e;if(!Og(t))throw new ar(on(t),0);if(A0.includes(t.status))throw new ar(on(t),t.status);let n;try{n=yield t.json()}catch(o){throw new or(on(o),o)}let r,i=kg(t);if(i&&i.getTime()>=rl["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new bi(on(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[])}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new bi(on(n),t.status,n.weak_password.reasons);throw new js(on(n),t.status||500,r)})}var N0=(t,e,n,r)=>{let i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function A(t,e,n,r){return p(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[vi]||(o[vi]=rl["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",u=yield O0(t,e,n+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}})}function O0(t,e,n,r,i,o){return p(this,null,function*(){let s=N0(e,r,i,o),a;try{a=yield t(n,Object.assign({},s))}catch(u){throw console.error(u),new ar(on(u),0)}if(a.ok||(yield Lg(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(u){yield Lg(u)}})}function ft(t){var e;let n=null;R0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Ag(t.expires_in)));let r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function sl(t){let e=ft(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function nt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function jg(t){return{data:t,error:null}}function Vg(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,s=T0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},u=Object.assign({},s);return{data:{properties:a,user:u},error:null}}function $g(t){return t}function R0(t){return t.access_token&&t.refresh_token&&t.expires_in}var P0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},ur=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Fs(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e,n="global"){return p(this,null,function*(){try{return yield A(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(x(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return p(this,arguments,function*(e,n={}){try{return yield A(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:nt})}catch(i){if(x(i))return{data:{user:null},error:i};throw i}})}generateLink(e){return p(this,null,function*(){try{let{options:n}=e,r=P0(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Vg,redirectTo:n?.redirectTo})}catch(n){if(x(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(e){return p(this,null,function*(){try{return yield A(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:nt})}catch(n){if(x(n))return{data:{user:null},error:n};throw n}})}listUsers(e){return p(this,null,function*(){var n,r,i,o,s,a,u;try{let c={nextPage:null,lastPage:0,total:0},l=yield A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:$g});if(l.error)throw l.error;let d=yield l.json(),f=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(u=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return h.length>0&&(h.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);c[`${w}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(x(c))return{data:{users:[]},error:c};throw c}})}getUserById(e){return p(this,null,function*(){try{return yield A(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:nt})}catch(n){if(x(n))return{data:{user:null},error:n};throw n}})}updateUserById(e,n){return p(this,null,function*(){try{return yield A(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:nt})}catch(r){if(x(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,n=!1){return p(this,null,function*(){try{return yield A(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:nt})}catch(r){if(x(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return p(this,null,function*(){try{let{data:n,error:r}=yield A(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(x(n))return{data:null,error:n};throw n}})}_deleteFactor(e){return p(this,null,function*(){try{return{data:yield A(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(x(n))return{data:null,error:n};throw n}})}};var Ug={getItem:t=>xt()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{xt()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{xt()&&globalThis.localStorage.removeItem(t)}};function al(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Bg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var sn={debug:!!(globalThis&&xt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},_i=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},$s=class extends _i{};function ul(t,e,n){return p(this,null,function*(){sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),sn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),yield globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>p(this,null,function*(){if(i){sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return yield n()}finally{sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $s(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(sn.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}}))})}Bg();var k0={url:Mg,storageKey:xg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ei=30*1e3,Hg=3;function Gg(t,e,n){return p(this,null,function*(){return yield n()})}var cl=(()=>{class t{constructor(n){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&Ae()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},k0),n);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new ur({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Fs(o.fetch),this.lock=o.lock||Gg,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Ae()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=ul:this.lock=Gg,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:xt()?this.storage=Ug:(this.memoryStorage={},this.storage=al(this.memoryStorage)):(this.memoryStorage={},this.storage=al(this.memoryStorage)),Ae()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",s=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ps}) ${new Date().toISOString()}`,...n),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){try{let n=Ae()?yield this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",n),n||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:r,error:i}=yield this._getSessionFromURL(n);if(i)return this._debug("#_initialize()","error detecting session from URL",i),i?.message==="Identity is already linked"||i?.message==="Identity is already linked to another user"?{error:i}:(yield this._removeSession(),{error:i});let{session:o,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),yield this._saveSession(o),setTimeout(()=>p(this,null,function*(){s==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",o):yield this._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(n){return x(n)?{error:n}:{error:new or("Unexpected error during initialization",n)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return p(this,null,function*(){var r,i,o;try{yield this._removeSession();let s=yield A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:ft}),{data:a,error:u}=s;if(u||!a)return{data:{user:null,session:null},error:u};let c=a.session,l=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(x(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(n){return p(this,null,function*(){var r,i,o;try{yield this._removeSession();let s;if("email"in n){let{email:d,password:f,options:h}=n,g=null,m=null;this.flowType==="pkce"&&([g,m]=yield tn(this.storage,this.storageKey)),s=yield A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:f,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:g,code_challenge_method:m},xform:ft})}else if("phone"in n){let{phone:d,password:f,options:h}=n;s=yield A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(i=h?.data)!==null&&i!==void 0?i:{},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:ft})}else throw new nn("You must provide either an email or phone number and a password");let{data:a,error:u}=s;if(u||!a)return{data:{user:null,session:null},error:u};let c=a.session,l=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(s){if(x(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(n){return p(this,null,function*(){try{yield this._removeSession();let r;if("email"in n){let{email:s,password:a,options:u}=n;r=yield A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:sl})}else if("phone"in n){let{phone:s,password:a,options:u}=n;r=yield A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:sl})}else throw new nn("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new sr}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return p(this,null,function*(){var r,i,o,s;return yield this._removeSession(),yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(n)}))})}_exchangeCodeForSession(n){return p(this,null,function*(){let r=yield wi(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/"),{data:s,error:a}=yield A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:ft});return yield Ls(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null,redirectType:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new sr}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})})}signInWithIdToken(n){return p(this,null,function*(){yield this._removeSession();try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=n,u=yield A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ft}),{data:c,error:l}=u;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new sr}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return p(this,null,function*(){var r,i,o,s,a;try{if(yield this._removeSession(),"email"in n){let{email:u,options:c}=n,l=null,d=null;this.flowType==="pkce"&&([l,d]=yield tn(this.storage,this.storageKey));let{error:f}=yield A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in n){let{phone:u,options:c}=n,{data:l,error:d}=yield A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new nn("You must provide either an email or phone number.")}catch(u){if(x(u))return{data:{user:null,session:null},error:u};throw u}})}verifyOtp(n){return p(this,null,function*(){var r,i;try{n.type!=="email_change"&&n.type!=="phone_change"&&(yield this._removeSession());let o,s;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:u}=yield A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:ft});if(u)throw u;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,l=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(o){if(x(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(n){return p(this,null,function*(){var r,i,o;try{yield this._removeSession();let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield tn(this.storage,this.storageKey)),yield A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:jg})}catch(s){if(x(s))return{data:null,error:s};throw s}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(n=>p(this,null,function*(){let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new tt;let{error:o}=yield A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(n){if(x(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return p(this,null,function*(){try{n.type!="email_change"&&n.type!="phone_change"&&(yield this._removeSession());let r=`${this.url}/resend`;if("email"in n){let{email:i,type:o,options:s}=n,{error:a}=yield A(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:i,type:o,options:s}=n,{data:a,error:u}=yield A(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:u}}throw new nn("You must provide either an email or phone number and a type")}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(r=>p(this,null,function*(){return r}))}))})}_acquireLock(n,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=p(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(p(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,n,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(p(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield wi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.storage.isServer){let a=this.suppressGetSessionWarning;n=new Proxy(n,{get(c,l,d){return!a&&l==="user"&&console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),Reflect.get(c,l,d)}})}return{data:{session:n},error:null}}let{session:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return p(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return p(this,null,function*(){try{return n?yield A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:nt}):yield this._useSession(r=>p(this,null,function*(){var i,o,s;let{data:a,error:u}=r;if(u)throw u;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tt}:yield A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:nt})}))}catch(r){if(x(r))return{data:{user:null},error:r};throw r}})}updateUser(i){return p(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(i){return p(this,arguments,function*(n,r={}){try{return yield this._useSession(o=>p(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new tt;let u=s.session,c=null,l=null;this.flowType==="pkce"&&n.email!=null&&([c,l]=yield tn(this.storage,this.storageKey));let{data:d,error:f}=yield A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:l}),jwt:u.access_token,xform:nt});if(f)throw f;return u.user=d.user,yield this._saveSession(u),yield this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}}))}catch(o){if(x(o))return{data:{user:null},error:o};throw o}})}_decodeJWT(n){return ol(n)}setSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return p(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new tt;let r=Date.now()/1e3,i=r,o=!0,s=null,a=ol(n.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:u,error:c}=yield this._callRefreshToken(n.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};s=u}else{let{data:u,error:c}=yield this._getUser(n.access_token);if(c)throw c;s={access_token:n.access_token,refresh_token:n.refresh_token,user:u.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(x(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;if(!n){let{data:a,error:u}=r;if(u)throw u;n=(i=a.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new tt;let{session:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n){return p(this,null,function*(){try{if(!Ae())throw new rn("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new rn("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!n)throw new Ci("Not a valid PKCE flow url.");let r=ks(window.location.href);if(n){if(!r.code)throw new Ci("No code detected.");let{data:z,error:H}=yield this._exchangeCodeForSession(r.code);if(H)throw H;let ce=new URL(window.location.href);return ce.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ce.toString()),{data:{session:z.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new rn(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:u,expires_at:c,token_type:l}=r;if(!s||!u||!a||!l)throw new rn("No session defined in URL");let d=Math.round(Date.now()/1e3),f=parseInt(u),h=d+f;c&&(h=parseInt(c));let g=h-d;g*1e3<=Ei&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);let m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",m,h,d);let{data:w,error:C}=yield this._getUser(s);if(C)throw C;let Q={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:l,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:Q,redirectType:r.type},error:null}}catch(r){if(x(r))return{data:{session:null,redirectType:null},error:r};throw r}})}_isImplicitGrantFlow(){let n=ks(window.location.href);return!!(Ae()&&(n.access_token||n.error_description))}_isPKCEFlow(){return p(this,null,function*(){let n=ks(window.location.href),r=yield wi(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return p(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return p(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:u}=yield this.admin.signOut(a,n);if(u&&!(Fg(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return n!=="others"&&(yield this._removeSession(),yield Ls(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))})}onAuthStateChange(n){let r=Ng(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(n){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return p(this,arguments,function*(n,r={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=yield tn(this.storage,this.storageKey,!0));try{return yield A(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(x(a))return{data:null,error:a};throw a}})}getUserIdentities(){return p(this,null,function*(){var n;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(x(r))return{data:null,error:r};throw r}})}linkIdentity(n){return p(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(s=>p(this,null,function*(){var a,u,c,l,d;let{data:f,error:h}=s;if(h)throw h;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(u=n.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield A(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})}));if(o)throw o;return Ae()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:n.provider,url:i?.url},error:null}}catch(i){if(x(i))return{data:{provider:n.provider,url:null},error:i};throw i}})}unlinkIdentity(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield A(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(x(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return p(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield Pg(o=>p(this,null,function*(){return o>0&&(yield Rg(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ft})}),(o,s)=>{let a=200*Math.pow(2,o);return s&&Vs(s)&&Date.now()+a-i<Ei})}catch(i){if(this._debug(r,"error",i),x(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return p(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),Ae()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var n;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=yield wi(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&(yield this._removeSession());return}let o=Math.round(Date.now()/1e3),s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)<o+nl;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${nl}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),Vs(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}})}_callRefreshToken(n){return p(this,null,function*(){var r,i;if(!n)throw new tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new yi;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new tt;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let u={session:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(o,"error",s),x(s)){let a={session:null,error:s};return Vs(s)||(yield this._removeSession(),yield this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(n,r,i=!0){return p(this,null,function*(){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(u=>p(this,null,function*(){try{yield u.callback(n,r)}catch(c){s.push(c)}}));if(yield Promise.all(a),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(n){return p(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,yield il(this.storage,this.storageKey,n)})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield Ls(this.storage,this.storageKey)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ae()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Ei);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-n)/Ei);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ei}ms, refresh threshold is ${Hg} ticks`),o<=Hg&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof _i)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Ae()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return p(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,i){return p(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=yield tn(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(u.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`})}_unenroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield A(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(x(r))return{data:null,error:r};throw r}})}_enroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let{data:u,error:c}=yield A(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:n.friendlyName,factor_type:n.factorType,issuer:n.issuer},headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(!((o=u?.totp)===null||o===void 0)&&o.qr_code&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})}))}catch(r){if(x(r))return{data:null,error:r};throw r}})}_verify(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:u}=yield A(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:u})}))}catch(r){if(x(r))return{data:null,error:r};throw r}}))})}_challenge(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield A(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(x(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return p(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:n.factorId});return i?{data:null,error:i}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return p(this,null,function*(){let{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=n?.factors||[],o=i.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:i,totp:o},error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){return yield this._useSession(n=>p(this,null,function*(){var r,i;let{data:{session:o},error:s}=n;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(o.access_token),u=null;a.aal&&(u=a.aal);let c=u;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");let d=a.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}))})}}return t.nextInstanceID=0,t})();var F0=cl,ll=F0;var Us=class extends ll{constructor(e){super(e)}};var L0=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},Bs=class{constructor(e,n,r){var i,o,s,a,u,c,l,d;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");let f=Ig(e);this.realtimeUrl=`${f}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${f}/auth/v1`,this.storageUrl=`${f}/storage/v1`,this.functionsUrl=`${f}/functions/v1`;let h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g={db:Cg,realtime:_g,auth:Object.assign(Object.assign({},bg),{storageKey:h}),global:Dg},m=Sg(r??{},g);this.storageKey=(o=(i=m.auth)===null||i===void 0?void 0:i.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=(s=m.global)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((u=m.auth)!==null&&u!==void 0?u:{},this.headers,(c=m.global)===null||c===void 0?void 0:c.fetch),this.fetch=Eg(n,this._getAccessToken.bind(this),(l=m.global)===null||l===void 0?void 0:l.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},m.realtime)),this.rest=new ci(`${f}/rest/v1`,{headers:this.headers,schema:(d=m.db)===null||d===void 0?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new oi(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new gi(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return L0(this,void 0,void 0,function*(){let{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,debug:a},u,c){var l;let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Us({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:s,debug:a,fetch:c,hasCustomAuthorizationHeader:(l="Authorization"in this.headers)!==null&&l!==void 0?l:!1})}_initRealtimeClient(e){return new fi(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var zg=(t,e,n)=>new Bs(t,e,n);var dl={production:!1,supabaseUrl:"https://ndwpuwmviljvgpyhkxxh.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5kd3B1d212aWxqdmdweWhreHhoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTU0MTk2MDksImV4cCI6MjAzMDk5NTYwOX0.0NHbNORCIK2IgYG3iRDkWybDSzHOv-XqSCnZQyIa6GI"};var cr=(()=>{let e=class e{constructor(){this._session=null,this.supabase=zg(dl.supabaseUrl,dl.supabaseKey)}get session(){return this.supabase.auth.getSession().then(({data:r})=>{this._session=r.session}),this._session}profile(r){return this.supabase.from("profiles").select("username,website,avatar_url").eq("id",r.id)}authChanges(r){return this.supabase.auth.onAuthStateChange(r)}signIn(r){return this.supabase.auth.signInWithOtp({email:r})}signOut(){return this.supabase.auth.signOut()}updateProfile(r){let i=U(v({},r),{updated_at:new Date});return this.supabase.from("profiles").upsert(i)}downloadImage(r){return this.supabase.storage.from("avatars").download(r)}uploadAvatar(r,i){return this.supabase.storage.from("avatars").upload(r,i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qg=(()=>{let e=class e{constructor(r,i){this.supabase=r,this.formBuilder=i,this.loading=!1,this.signInForm=this.formBuilder.group({email:""})}onSubmit(){return p(this,null,function*(){try{this.loading=!0;let r=this.signInForm.value.email,{error:i}=yield this.supabase.signIn(r);if(i)throw i;alert("Check your email for the login link!")}catch(r){r instanceof Error&&alert(r.message)}finally{this.signInForm.reset(),this.loading=!1}})}};e.\u0275fac=function(i){return new(i||e)(j(cr),j(Ds))},e.\u0275cmp=Dt({type:e,selectors:[["app-auth"]],standalone:!0,features:[_t],decls:10,vars:1,consts:[[1,"login-container"],[1,"signin-form",3,"ngSubmit","formGroup"],[1,"header"],[1,"subheader"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Your Email",1,"inputField"],["type","submit"]],template:function(i,o){i&1&&(de(0,"div",0)(1,"form",1),Qe("ngSubmit",function(){return o.onSubmit()}),de(2,"h1",2),Ke(3,"_DynaLink"),me(),de(4,"div",3),Ke(5,"Sign in via magic link with your email below:"),me(),de(6,"label",4),Ke(7,"Email"),me(),Ie(8,"input",5)(9,"input",6),me()()),i&2&&(Ln(),Ze("formGroup",o.signInForm))},dependencies:[Cs,ws,Jn,ms,vs,ni,ri],styles:['.login-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);padding:2em;border-radius:1em;border:solid 1px white}.login-container[_ngcontent-%COMP%]   .signin-form[_ngcontent-%COMP%]{display:grid;grid-template-areas:"header header" "subheader subheader" "label input" ".submit";row-gap:1em;column-gap:1em;align-items:center;justify-content:center}.login-container[_ngcontent-%COMP%]   .signin-form[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{grid-area:header}.login-container[_ngcontent-%COMP%]   .signin-form[_ngcontent-%COMP%]   .subheader[_ngcontent-%COMP%]{grid-area:subheader}.login-container[_ngcontent-%COMP%]   .signin-form[_ngcontent-%COMP%]   label[for=email][_ngcontent-%COMP%]{grid-area:label}.login-container[_ngcontent-%COMP%]   .signin-form[_ngcontent-%COMP%]   #email[_ngcontent-%COMP%]{grid-area:input}.login-container[_ngcontent-%COMP%]   .signin-form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{grid-area:submit}']});let t=e;return t})();var Wg=(()=>{let e=class e{constructor(r,i){this.supabase=r,this.formBuilder=i,this.loading=!1,this.updateProfileForm=this.formBuilder.group({username:"",website:"",avatar_url:""})}ngOnInit(){return p(this,null,function*(){yield this.getProfile();let{username:r,website:i,avatar_url:o}=this.profile;this.updateProfileForm.patchValue({username:r,website:i,avatar_url:o})})}getProfile(){return p(this,null,function*(){try{this.loading=!0;let{user:r}=this.session,{data:i,error:o,status:s}=yield this.supabase.profile(r);if(o&&s!==406)throw o;i&&(this.profile=i[0])}catch(r){r instanceof Error&&alert(r.message)}finally{this.loading=!1}})}updateProfile(){return p(this,null,function*(){try{this.loading=!0;let{user:r}=this.session,i=this.updateProfileForm.value.username,o=this.updateProfileForm.value.website,s=this.updateProfileForm.value.avatar_url,{error:a}=yield this.supabase.updateProfile({id:r.id,username:i,website:o,avatar_url:s});if(a)throw a}catch(r){r instanceof Error&&alert(r.message)}finally{this.loading=!1}})}signOut(){return p(this,null,function*(){yield this.supabase.signOut()})}};e.\u0275fac=function(i){return new(i||e)(j(cr),j(Ds))},e.\u0275cmp=Dt({type:e,selectors:[["app-account"]],inputs:{session:"session"},standalone:!0,features:[_t],decls:16,vars:4,consts:[[1,"account-container"],[1,"updateProfileForm",3,"ngSubmit","formGroup"],[1,"profile"],["for","email"],["type","email","id","email","disabled","",3,"value"],["for","username"],["formControlName","username","type","text","id","username"],["for","website"],["formControlName","website","type","url","id","website"],["type","submit",1,"submit",3,"disabled","value"],[1,"sign-out",3,"click"]],template:function(i,o){i&1&&(de(0,"div",0)(1,"form",1),Qe("ngSubmit",function(){return o.updateProfile()}),de(2,"div",2),Ke(3,"Profile"),me(),de(4,"label",3),Ke(5,"Email"),me(),Ie(6,"input",4),de(7,"label",5),Ke(8,"Username"),me(),Ie(9,"input",6),de(10,"label",7),Ke(11,"Website"),me(),Ie(12,"input",8)(13,"input",9),de(14,"button",10),Qe("click",function(){return o.signOut()}),Ke(15,"Sign Out"),me()()()),i&2&&(Ln(),Ze("formGroup",o.updateProfileForm),Ln(5),Ze("value",o.session.user.email),Ln(7),Bu("value",o.loading?"Loading ...":"Update"),Ze("disabled",o.loading))},dependencies:[Cs,ws,Jn,ms,vs,ni,ri],styles:['.account-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);padding:2em;border-radius:1em;border:solid 1px white}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]{display:grid;grid-template-areas:"profile sign-out" "email-label email" "username-label username" "website-label website" ". update";row-gap:1em;column-gap:1em;align-items:center;justify-content:center}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{font-size:larger;font-weight:600}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   label[for=email][_ngcontent-%COMP%]{grid-area:email-label}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   #email[_ngcontent-%COMP%]{grid-area:email}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   label[for=username][_ngcontent-%COMP%]{grid-area:username-label}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   #username[_ngcontent-%COMP%]{grid-area:username}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   label[for=website][_ngcontent-%COMP%]{grid-area:website-label}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   #website[_ngcontent-%COMP%]{grid-area:website}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{grid-area:update}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   .sign-out[_ngcontent-%COMP%]{grid-area:sign-out;width:fit-content;place-self:end}.account-container[_ngcontent-%COMP%]   .updateProfileForm[_ngcontent-%COMP%]   .sign-out[_ngcontent-%COMP%]:hover{border-color:red}']});let t=e;return t})();function j0(t,e){if(t&1&&Ie(0,"app-account",2),t&2){let n=yh();Ze("session",n.session)}}function V0(t,e){t&1&&Ie(0,"app-auth")}var Yg=(()=>{let e=class e{constructor(r){this.supabase=r,this.title="dynalink",this.session=this.supabase.session}ngOnInit(){this.supabase.authChanges((r,i)=>this.session=i)}};e.\u0275fac=function(i){return new(i||e)(j(cr))},e.\u0275cmp=Dt({type:e,selectors:[["app-root"]],standalone:!0,features:[_t],decls:3,vars:2,consts:[["auth",""],[3,"session",4,"ngIf","ngIfElse"],[3,"session"]],template:function(i,o){if(i&1&&$u(0,j0,1,1,"app-account",1)(1,V0,1,0,"ng-template",null,0,bh),i&2){let s=Dh(2);Ze("ngIf",o.session)("ngIfElse",s)}},dependencies:[qg,Wg,Yu,Vh]});let t=e;return t})();Yh(Yg,Op).catch(t=>console.error(t));
